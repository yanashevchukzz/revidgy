var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||"")+"_"+b++,c)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");var com_sas_ci_acs=com_sas_ci_acs||{},c3=com_sas_ci_acs;
"undefined"==typeof com_sas_ci_acs.version&&(com_sas_ci_acs.version="1.1.0",com_sas_ci_acs.webmarketing=!1,com_sas_ci_acs.newvid=!1);(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");b.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return b}if("function"===typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype;window.CustomEvent=a})();
(function(){"localStorage"in window||(window.localStorage={_data:{},setItem:function(a,b){return this._data[a]=String(b)},getItem:function(a){return this._data.hasOwnProperty(a)?this._data[a]:void 0},removeItem:function(a){return delete this._data[a]},clear:function(){return this._data={}}});"sessionStorage"in window||(window.sessionStorage={_data:{},setItem:function(a,b){return this._data[a]=String(b)},getItem:function(a){return this._data.hasOwnProperty(a)?this._data[a]:void 0},removeItem:function(a){return delete this._data[a]},
clear:function(){return this._data={}}})})();
com_sas_ci_acs.ob_util={copyright:"Copyright (c) 2015 by SAS Institute Inc., Cary, NC, USA. All Rights Reserved.",lastActivity:0,maxInactivity:0,csn:0,account:"",jspageerrorCount:0,contentchangeCount:0,jsvarchangeCount:0,mediaEventsCount:0,totalEventsCount:0,maxJspageErrors:5,maxContentChange:10,maxJsVarChange:10,maxMediaEvents:200,maxTotalEvents:2E3,batchSpots:!0,viewId:0,deferredSpots:[],maxDeferredSpotTry:50,deferredSpotInitialTimeout:50,maxUrlSize:1800,deferredSpotTryCount:0,logging:!1,cancelledEvents:[],
eventResponses:[],ccsProtocol:null,FS:"/",f:"function",clickEvents:[],timestamp_base:0,timestamp_boot_base:0,cts_base:0,java_version:null,flash_version:null,svg_version:null,flashdirector_version:null,realplayer_version:null,quicktime_version:null,mediaplayer_version:null,acrobat_version:null,cachedTermConfiguration:null,load_event:null,anonymous_form_count:0,windowHasFocus:!0,datahubIdUpdateDelay:1E3,magicBoxEventTypes:"url download transaction term form custom category source promotion view trafficSource homePage internalSearch".split(" "),
MAX_PROPERTY_SIZE:1E3,getLoadEventInstance:function(){this.load_event||(this.load_event=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));return this.load_event},isMagicBoxEvent:function(a){return this.exists(a)&&-1<this.magicBoxEventTypes.indexOf(a)},isIdEvent:function(a){return(a=a.get("eventname"))&&(a===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT||a===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_CONFIRMATION_EVENT)},regularExpressions:{integer:"^\\d+$",formFieldChanges:"^form.f..*._o.changes$",
decimal:"^[0-9]+(.[0-9]{1,2})?$"},SUCCESS:"success",getDeferredSpotTimeout:function(){return this.deferredSpotInitialTimeout+10*this.deferredSpotTryCount},isConfigLoaded:function(){return"undefined"!==typeof com_sas_ci_acs.ob_configure},getMaxLimit:function(a){return this.isConfigLoaded()&&this.notBlank(com_sas_ci_acs.ob_configure[a])?com_sas_ci_acs.ob_configure[a]:this.notBlank(this[a])?this[a]:0},getDataHubCallUrl:function(){return com_sas_ci_acs.ob_util_async.custom_domain+"/t/s/d/"+com_sas_ci_acs.ob_util.account+
"/"+com_sas_ci_acs.ob_configure.getVisitorId()},totalEventsNotMaxed:function(a){return this.totalEventsCount<this.getMaxLimit("maxTotalEvents")?(a&&this.totalEventsCount++,!0):!1},extractDomain:function(a){try{var b=a.match(/^\s*\S+?:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i),c=b&&b[1];return this.isNull(c)?"":c}catch(d){return""}},extractPath:function(a){try{var b=a.match(/^\s*\S+?:\/\/[^\/?#]+([^?|#]*)/i),c=b&&b[1];return this.isNull(c)?"":c}catch(d){return""}},extractParam:function(a,b){try{if(this.isNull(b)||
this.isNull(a))return"";a=a.replace(/[\[\]]/g,"\\$&");b=b.replace(/^\s+|\s+$/gm,"");var c=(new RegExp(encodeURIComponent(a)+"(=([^&#]*)|&|#|$)")).exec(b);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}catch(d){return""}},getMaxMediaEvents:function(){return this.getMaxLimit("maxMediaEvents")},getMaxContentChange:function(){return this.getMaxLimit("maxContentChange")},getMaxJsVarChange:function(){return this.getMaxLimit("maxJsVarChange")},getBatchSpots:function(){return this.isConfigLoaded()&&
this.notBlank(com_sas_ci_acs.ob_configure.batchSpots)?com_sas_ci_acs.ob_configure.batchSpots:this.batchSpots},loadSpotsInBatch:function(){return!this.isIE89Browser()&&this.getBatchSpots()},sendBodyAsHeaderAll:function(){var a=com_sas_ci_acs.ob_configure.sendBodyAsHeaderAll;return com_sas_ci_acs.ob_util.isUndefined(a)?!1:a},sendBodyAsHeaderLoad:function(){var a=com_sas_ci_acs.ob_configure.sendBodyAsHeaderLoad;return com_sas_ci_acs.ob_util.isUndefined(a)?!1:a},virtualSpotObserver:function(a,b,c,d){var e=
!1;a.forEach(function(a){if("attributes"!=a.type&&!e){a=a.target;e=!0;var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE);c.add("eventSource","webmarketing");c.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION);c.add("spot_id",b);d&&(d.taskid&&c.add("task_id",d.taskid),d.creativeid&&c.add("creative_id",d.creativeid),d.customid&&c.add("custom_id",d.customid),d.variantid&&c.add("variant_id",d.variantid),d.productid&&c.add("product_id",d.productid),d.productsku&&
c.add("product_sku",d.productsku),d.controlgroup&&c.add("is_control_group",d.controlgroup),d.idreference&&c.add("idreference",d.idreference));com_sas_ci_acs.ob_util.spotAttributeSetup(b,c);setTimeout(function(){c.send()},0);var f={};"undefined"!==typeof d&&null!==d&&(f={task_id:d.taskid,creative_id:d.creativeid,spot_id:b,product_id:d.productid,product_sku:d.productsku,is_control_group:d.controlgroup,variant_id:d.variantid});com_sas_ci_acs.spotClickedHandler=com_sas_ci_acs.spotClicked(a,f);com_sas_ci_acs.ob_configure.w3c?
a.addEventListener("click",com_sas_ci_acs.spotClickedHandler,!1):a.attachEvent("onclick",com_sas_ci_acs.spotClickedHandler);if(com_sas_ci_acs.ob_util.isElementInViewport(a)){var k=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);k.add("eventSource","webmarketing");d&&(d.taskid&&k.add("task_id",d.taskid),d.creativeid&&k.add("creative_id",d.creativeid),d.customid&&k.add("custom_id",d.customid),d.variantid&&k.add("variant_id",d.variantid),d.productid&&k.add("product_id",
d.productid),d.productsku&&k.add("product_sku",d.productsku),d.controlgroup&&k.add("is_control_group",d.controlgroup),d.idreference&&k.add("idreference",d.idreference));k.add("spot_id",b);k.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE);a=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(a)&&0<a.length&&k.add("event_uid",a[0]);com_sas_ci_acs.ob_util.spotAttributeSetup(b,k);setTimeout(function(){k.send()},0)}else d&&
(f={task_id:d.taskid,creative_id:d.creativeid,spot_id:b,product_id:d.productid,product_sku:d.productsku,is_control_group:d.controlgroup,variant_id:d.variantid},a=com_sas_ci_acs.fireIfElementVisible(a,f),window.addEventListener&&(addEventListener("DOMContentLoaded",a,!1),addEventListener("load",a,!1),addEventListener("scroll",a,!1),addEventListener("resize",a,!1)))}});try{if(b&&com_sas_ci_acs.ob_util_async.virtualSpots[b]&&com_sas_ci_acs.ob_util_async.virtualSpots[b].observers)for(a=0;a<com_sas_ci_acs.ob_util_async.virtualSpots[b].observers.length;a++){var f=
com_sas_ci_acs.ob_util_async.virtualSpots[b].observers[a];"undefined"!==typeof f&&f&&f.disconnect()}}catch(k){com_sas_ci_acs.ob_util.log("Unable to disconnect observer for spot: "+b)}},setBaseTimestamp:function(a){this.timestamp_base=a;this.cts_base=(new Date).getTime();this.timestamp_boot_base=a-(this.cts_base-com_sas_ci_acs.ob_util_async.cts_boot_base)},sendClickEvents:function(a){com_sas_ci_acs.ob_util.isSafariBrowser()&&(a=!1);for(var b=0;b<this.clickEvents.length;b++)this.clickEvents[b].send(a);
this.clickEvents=[]},log:function(a){this.logging&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log(a)},toLowerCase:function(a){return a&&a.toLowerCase?a.toLowerCase():""},nsn:function(){return++this.csn},ckR:function(a){var b=a+"=";a=document.cookie;var c=a.indexOf(b);return-1!=c?(b=c+b.length,c=a.indexOf(";",b),-1==c&&(c=a.length),a.substring(b,c)):null},ckW:function(a,b,c,d,e){var f=null;if(null!=d){var k=d.indexOf(",");-1<k&&(k<d.length-1&&(f=d.substring(k+1)),d=d.substring(0,
k))}e=new Date(e);d=null==d||0==d.length?"":"; domain="+d;document.cookie=a+"="+b+"; expires="+e.toGMTString()+"; path="+c+d;null==com_sas_ci_acs.ob_util.ckR(a)&&null!=f&&(d=null==f||0==f.length?"":"; domain="+f,document.cookie=a+"="+b+"; expires="+e.toGMTString()+"; path="+c+d)},sckW:function(a,b,c,d,e,f){var k=null;if(null!=d){var g=d.indexOf(",");-1<g&&(g<d.length-1&&(k=d.substring(g+1)),d=d.substring(0,g))}null==c&&(c="/");void 0!==e&&(null==e&&(e=0),b=b+"."+e);void 0!==f&&(null==f&&(f=0),b=b+
"."+f);d=null==d||0==d.length?"":"; domain="+d;document.cookie=a+"="+b+"; path="+c+d;null==com_sas_ci_acs.ob_util.ckR(a)&&null!=k&&(d=null==k||0==k.length?"":"; domain="+k,document.cookie=a+"="+b+"; path="+c+d)},getURIExtension:function(a){a=new String(a.split("?")[0]);return a.substr(a.lastIndexOf(".")+1)},isScriptLink:function(a,b){b=com_sas_ci_acs.ob_util.toLowerCase(a.toString());return 0==b.indexOf("javascript:")||0==b.indexOf("vbscript:")},location:function(){var a=new String(location.protocol);
return a.substr(0,a.length-1)},host:function(){return new String(location.host)},strEndsWith:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:-1!=a.indexOf(b,a.length-b.length)},strStartsWith:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:a.slice(0,b.length)==b},strContains:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)?!1:-1!=a.indexOf(b)},strEquals:function(a,b){return com_sas_ci_acs.ob_util.isNull(a)||
com_sas_ci_acs.ob_util.isNull(b)?!1:a==b},isNull:function(a){return"undefined"==typeof a||null==a},strOp:function(a,b,c){if(com_sas_ci_acs.ob_util.isNull(a)||com_sas_ci_acs.ob_util.isNull(b)||com_sas_ci_acs.ob_util.isNull(c))return!1;if("equals"!=a){if("contains"==a)return com_sas_ci_acs.ob_util.strContains(b,c);if("startsWith"==a)return com_sas_ci_acs.ob_util.strStartsWith(b,c);if("endsWith"==a)return com_sas_ci_acs.ob_util.strEndsWith(b,c);if("exists"==a)return!0;if("regex"==a)return(a=(new RegExp(c)).exec(b))&&
0<a.length}return com_sas_ci_acs.ob_util.strEquals(b,c)},flash:function(a,b,c,d,e,f){a={e:!1,v:""};(c=navigator.plugins)&&c.length&&((e=c["Shockwave Flash"])||(e=c["Shockwave Flash 2.0"]),e&&(a.e=!0,f=e.description))&&(a.v=f.substr(f.indexOf("Flash")+6));if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.flash_version)return this.flash_version;for(b=15;0<b;b--)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);a.e=!0;a.v=d.GetVariable("$version");this.flash_version=a;break}catch(k){com_sas_ci_acs.ob_util.log(k)}}return a},
svg:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++)d=new String(c[b].type),0==d.indexOf("image/svg+xml")&&(a.e=!0,d=d.split("sion=")[1],d>a.v&&(a.v=d));if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.svg_version)return this.svg_version;d=new ActiveXObject("Adobe.SVGCtl");a.e=!0;a.v=d.GetVariable("$version");this.svg_version=a}return a},flashdirector:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/x-director")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.flashdirector_version)return this.flashdirector_version;for(b=15;0<b;b--)try{d=new ActiveXObject("SWCtl.SWCtl."+b);a.e=!0;a.v=d.GetVariable("$version");this.flashdirector_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},realplayer:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("audio/x-pn-realaudio-plugin")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.realplayer_version)return this.realplayer_version;for(b=15;0<b;b--)try{d=new ActiveXObject("rmocx.RealPlayer G2 Control."+b);a.e=!0;a.v=d.GetVariable("$version");this.realplayer_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},quicktime:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("video/quicktime")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.quicktime_version)return this.quicktime_version;for(b=15;0<b;b--)try{d=new ActiveXObject("QuickTimeCheckObject.QuickTimeCheck."+b);a.e=!0;a.v=d.GetVariable("$version");this.quicktime_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},mediaplayer:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/x-mplayer2")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.mediaplayer_version)return this.mediaplayer_version;for(b=15;0<b;b--)try{d=new ActiveXObject("MediaPlayer.MediaPlayer."+b);a.e=!0;a.v=d.GetVariable("$version");this.mediaplayer_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},acrobat:function(a,b,c,d){a={e:!1,v:""};c=navigator.mimeTypes;for(b=0;b<c.length;b++){var e=new String(c[b].type);
0==e.indexOf("application/pdf")&&(a.e=!0,e=e.split("sion=")[1],e>a.v&&(a.v=e))}if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.acrobat_version)return this.acrobat_version;for(b=15;0<b;b--)try{d=new ActiveXObject("PDF.PdfCtrl."+b);a.e=!0;a.v=d.GetVariable("$version");this.acrobat_version=a;break}catch(f){com_sas_ci_acs.ob_util.log(f)}}return a},brightcove:function(a){a={e:!1,v:""};var b=document.getElementsByTagName("script");if(!com_sas_ci_acs.ob_util.isUndefined(b))for(var c=0;c<
b.length;c++)if(-1!=b[c].indexOf("brightcove")){a.e=!0;break}return a},java:function(a,b,c,d,e,f,k,g,l){a={e:!1,v:""};if("Microsoft Internet Explorer"==navigator.appName){if(null!=this.java_version)return this.java_version;c=2;a:for(;0<c;c--)for(e=9;0<=e;e--)for(f=5;0<=f;f--){b=c+"."+e+"."+f;try{new ActiveXObject("JavaWebStart.isInstalled."+b+".0");a.e=!0;a.v=b;this.java_version=a;break a}catch(q){com_sas_ci_acs.ob_util.log(q)}}}else for(c=navigator.mimeTypes,b=0;b<c.length;b++)g=new String(c[b].type),
0==g.indexOf("application/x-java-applet")&&(a.e=!0,l=g.split("sion=")[1],l>a.v&&(a.v=l));if(""!=a.v)return a;a.e=navigator.javaEnabled();a.v=a.e&&"undefined"!=typeof java?java.lang.System.getProperty("java.version"):"";return a},isUndefined:function(a){return"undefined"==typeof a?!0:!1},exists:function(a){return"undefined"!==typeof a&&null!==a},notBlank:function(a){return"undefined"!==typeof a&&null!==a&&a?!0:!1},idOf:function(a){if(a)return a.getAttribute("id")&&""!=a.getAttribute("id")?a.getAttribute("id"):
a.getAttribute("name")},formTag:function(a,b){for(b=com_sas_ci_acs.ob_util.toLowerCase(b);null!=a&&com_sas_ci_acs.ob_util.toLowerCase(a.tagName)!=b&&"body"!=com_sas_ci_acs.ob_util.toLowerCase(a.tagName);)a=a.parentNode;if(null==a||com_sas_ci_acs.ob_util.toLowerCase(a.tagName)!=b||com_sas_ci_acs.ob_util.isScriptLink(a))a=null;return a},parseUri:function(a){var b=document.createElement("a");b.href=a;return{protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,path:("/"!==b.pathname.charAt(0)?
"/":"")+b.pathname,search:b.search.substring(1)}},localUri:function(){return this.parseUri(window.location.href)},isDescendant:function(a,b){for(b=b.parentNode;null!=b;){if(b==a)return!0;b=b.parentNode}return!1},isArray:function(a){return a&&"[object Array]"===Object.prototype.toString.call(a)},getElementPath:function(a){var b=null==a.id||com_sas_ci_acs.ob_util.isUndefined(a.id)||""==a.id?a.nodeName:a.id;for(a=a.parentNode;null!=(a=a.parentNode);)b=com_sas_ci_acs.ob_util.isUndefined(a.id)||null==
a.id||""==a.id?a.nodeName+"/"+b:a.id+"/"+b;return"//"+b},getElementSelector:function(a){if(null==a)return"";var b=a.tagName.toLowerCase();if("body"!=b&&"html"!=b){var c=a.getAttribute("id"),d=a.getAttribute("class");a=a.getAttribute("name");if(c)b=0<=c.indexOf(".")?b+("[id='"+c+"']"):b+("#"+c);else{if(d)for(c=d.split(/\s+/),d=0;d<c.length;d++)b+="."+c[d].trim();a&&(b+="[name='"+a+"']")}}return b},getElementFullSelector:function(a){for(var b=com_sas_ci_acs.ob_util.getElementSelector(a);null!=(a=a.parentElement);)b=
com_sas_ci_acs.ob_util.getElementSelector(a)+" > "+b;return b},getFirstUniqueParent:function(a){return a.getAttribute("id")||"BODY"===a.tagName?a:this.getFirstUniqueParent(a.parentElement)},getElementInnerText:function(a){return a.textContent&&"undefined"!=typeof a.textContent?a.textContent:a.innerText},isIE8Browser:function(){var a=-1,b=navigator.userAgent,c=/Trident\/([0-9]{1,}[.0-9]{0,})/;null!=c.exec(b)&&(a=parseFloat(RegExp.$1));if(4==a)return!0;c=/MSIE ([0-9]{1,}[.0-9]{0,})/;return null!=c.exec(b)&&
(a=parseFloat(RegExp.$1),9>a&&0<a)?!0:!1},isIE89Browser:function(){var a=-1,b=navigator.userAgent,c=/Trident\/([0-9]{1,}[.0-9]{0,})/;null!=c.exec(b)&&(a=parseFloat(RegExp.$1));if(4==a)return!0;c=/MSIE ([0-9]{1,}[.0-9]{0,})/;return null!=c.exec(b)&&(a=parseFloat(RegExp.$1),10>a&&0<a)?!0:!1},isIEBrowser:function(){return!!document.documentMode},isFirefoxBrowser:function(){return"undefined"!==typeof InstallTrigger},isSafariBrowser:function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},
isElementInViewport:function(a){if("undefined"!==typeof a.getBoundingClientRect())a=a.getBoundingClientRect();else if("undefined"!==typeof(a.parentElement&&a.parentElement.getBoundingClientRect()))a=a.parentElement.getBoundingClientRect();else return!1;var b=a.height*a.width,c=0,d=0,e=0,f=0;0>a.top&&(c=-1*a.top);0>a.left&&(e=-1*a.left);0>window.innerWidth-a.right&&(f=-1*(window.innerWidth-a.right));0>window.innerHeight-a.bottom&&(d=-1*(window.innerHeight-a.bottom));c+=d;c>a.height&&(c=a.height);e+=
f;e>a.width&&(e=a.width);return.5<=(b-(c*a.width+e*a.height))/b?!0:!1},isCartEvent:function(a){var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;return com_sas_ci_acs.ob_util.isUndefined(b)?!1:(a=b[a],!com_sas_ci_acs.ob_util.isUndefined(a)&&a&&("cart"==a||"checkout"==a||"purchase"==a))},isCartProductAttribute:function(a,b){a=(a=a.cart_att_type)&&"CART_PRODUCT_ATTRIBUTE"==a;return b&&com_sas_ci_acs.ob_util.isCartEvent(b)&&a},isCartAttribute:function(a,b){a=(a=a.cart_att_type)&&
"CART_ATTRIBUTE"==a;return b&&com_sas_ci_acs.ob_util.isCartEvent(b)&&a},spotAttributeSetup:function(a,b){try{var c=com_sas_ci_acs.ob_injector.prototype.getSpotDefinitions();if(a&&this.exists(c)){var d=c[a];if(this.exists(d)){var e=d.spot_attributes;e&&this.customAttributeSetup(e,b,null,com_sas_ci_acs.ob_util.getLoadEventInstance())}}}catch(f){com_sas_ci_acs.ob_util.log("Unable to setup spot att for:"+a+" error:"+f)}},customAttributeSetup:function(a,b,c,d,e){d||(d=b);e&&null!=e||(e=0);for(var f=0;f<
a.length;f++){var k=a[f].name,g=a[f].selector,l=a[f].selectorOnly,q=a[f].urlQueryParameter,t=a[f].urlQueryString,m=a[f].urlDomain,u=a[f].urlPath,h=a[f].urlPathLevel,r=a[f].cookie,v=a[f].pageTitle,y=a[f].pageId,D=a[f].metaTag,A=a[f].jsVariable,F=a[f].referrerUrlDomain,z=a[f].referrerUrlPath,B=a[f].referrerUrlQueryParameter,H=a[f].click,P=a[f].formSubmit;if(g&&""!=g&&!com_sas_ci_acs.ob_util.isCartProductAttribute(a[f],b.get("event_id"))){h=[];try{h=com_sas_ci_acs.ob_util.getElementsBySelector(g)}catch(U){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+
g+"' : "+U)}if(g=h.length>e?h[e]:h[0]){h=a[f].attribute;var p=g[h];g.attributes&&g.attributes[h]&&g.attributes[h].value&&"value"!=h&&(p=g.attributes[h].value);p&&(g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&(p=p.trim(),"numeric"==a[f].type&&(g="\\"+(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator),p=parseFloat(p.replace(new RegExp(g,"g"),"").replace(/,/,".")),isNaN(p)&&
(p="")),b.add(k,p)))}}else if(l&&""!=l){h=[];try{h=com_sas_ci_acs.ob_util.getElementsBySelector(k)}catch(U){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+k+"' : "+U)}(g=h.length>e?h[e]:h[0])&&b.add(k,k)}else if(q&&""!=q){if(g=(new RegExp("[?&]"+encodeURIComponent(q)+"=([^&]*)")).exec(location.search))if(p=decodeURIComponent(g[1]))g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(t&&""!=t){if(p=location.search)p=
p.substr(1),g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(m&&""!=m){if(p=document.domain)g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(u&&""!=u){if(p=location.pathname)g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(h&&""!=h&&!isNaN(parseInt(h)))(g=location.pathname.split("/"))&&g.length>=
parseInt(h)&&(p=g[parseInt(h)])&&(g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim()));else if(r&&""!=r)(g=com_sas_ci_acs.ob_util.ckR(r))&&""!=g&&(p=com_sas_ci_acs.ob_util.ckR(r))&&(g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim()));else if(v&&""!=v){if(p=document.title)g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(y&&
""!=y){if(p=com_sas_ci_acs.ob_util.extractParam("page_id",window.location.href))g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(D&&""!=D)(g=d.dataElements["meta."+D])&&""!=g&&(p=g)&&(g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim()));else if(A&&""!=A){if(p=com_sas_ci_acs.ob_util.getJsVariable(A))g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,
g,h))&&""!=p&&b.add(k,p.trim())}else if(F&&""!=F){if(p=com_sas_ci_acs.ob_util.extractDomain(d.dataElements.referrer))g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(z&&""!=z){if(p=com_sas_ci_acs.ob_util.extractPath(d.dataElements.referrer))g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else if(B&&""!=B){if(p=com_sas_ci_acs.ob_util.extractParam(B,d.dataElements.referrer))g=
a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())}else H&&""!=H?(p,c&&("targetId"===H?p=c.id:"targetName"===H?p=c.name:"targetHref"===H?c.parentElement.href?p=c.parentElement.href:c.href&&(p=c.href):"targetAlt"===H?p=c.alt:"targetTagName"===H?p=c.tagName:"targetSelectorPath"===H?p=c.id:"targetInnerText"===H?p=c.innerText:"targetCustomAttribute"===H&&(g=a[f].attribute,null!=g&&(p=c.getAttribute(g)))),p&&(g=a[f].filter,h=a[f].filterpattern,(p=
com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim()))):P&&""!=P&&(p,c&&("formId"==P&&(p=c.id),"formName"==P&&(p=c.name)),p&&(g=a[f].filter,h=a[f].filterpattern,(p=com_sas_ci_acs.ob_util.filterPattern(p,g,h))&&""!=p&&b.add(k,p.trim())))}},customCartItemAttributeSetup:function(a,b,c,d,e){for(d=0;d<b.length;d++){e=b[d].name;var f=b[d].selector;if(f&&""!=f&&com_sas_ci_acs.ob_util.isCartProductAttribute(b[d],c.get("parent_event_uid"))){var k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(f)}catch(l){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+
f+"' : "+l)}if(k&&a<k.length&&(k=k[a])){var g=b[d].attribute;f=k[g];k.attributes&&k.attributes[g]&&k.attributes[g].value&&"value"!=g&&(f=k.attributes[g].value);f&&(f=com_sas_ci_acs.ob_util.filterPattern(f,b[d].filter,b[d].filterpattern))&&""!=f&&(f=f.trim(),"numeric"==b[d].type&&(k="\\"+(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator),f=parseFloat(f.replace(new RegExp(k,"g"),"").replace(/,/,".")),isNaN(f)&&(f=
"")),c.add(e,f))}}}},getJsVariable:function(a){try{if(a){if(window[a])return String(window[a]);if(/^[A-Za-z_][A-Za-z0-9_\[\]\.]*$/.test(a)){var b=eval(a);if(b)return String(b);if(0===b)return"0";if(""===b)return b}}}catch(c){com_sas_ci_acs.ob_util.log("exception occurred in getJsVariable for '"+a+"' : "+c)}},propertyMatchFoundHelper:function(a,b){var c=0;if(a){var d=[],e=b.filter;b=b.name;"regex"===e?d.push(b):d=b.split("|");for(b=0;b<d.length;b++)if(com_sas_ci_acs.ob_util.strOp(e,a,d[b])){c++;break}}return c},
propertyMatch:function(a,b){for(var c=0,d=0;d<a.length;d++){var e=a[d].name,f=a[d].selectorOnly,k=a[d].cookie,g=a[d].pageTitle,l=a[d].pageId,q=a[d].metaTag,t=a[d].referrerUrlDomain,m=a[d].referrerUrlPath,u=a[d].referrerUrlQueryParameter,h=a[d].jsVariable;if(f&&""!=f){k=[];try{k=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(r){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+e+"' : "+r)}k[0]&&c++}else k&&""!=k?(e=com_sas_ci_acs.ob_util.ckR(k))&&""!=e&&(e=com_sas_ci_acs.ob_util.ckR(k),
c+=this.propertyMatchFoundHelper(e,a[d])):g&&""!=g?(e=document.title,c+=this.propertyMatchFoundHelper(e,a[d])):l&&""!=l?(e=com_sas_ci_acs.ob_util.extractParam("page_id",window.location.href),c+=this.propertyMatchFoundHelper(e,a[d])):q&&""!=q?(e=b.dataElements["meta."+q])&&""!=e&&(c+=this.propertyMatchFoundHelper(e,a[d])):t&&""!=t?(e=com_sas_ci_acs.ob_util.extractDomain(b.dataElements.referrer),c+=this.propertyMatchFoundHelper(e,a[d])):m&&""!=m?(e=com_sas_ci_acs.ob_util.extractPath(b.dataElements.referrer),
c+=this.propertyMatchFoundHelper(e,a[d])):u&&""!=u?(e=com_sas_ci_acs.ob_util.extractParam(u,b.dataElements.referrer),c+=this.propertyMatchFoundHelper(e,a[d])):h&&""!=h&&(e=com_sas_ci_acs.ob_util.getJsVariable(h),c+=this.propertyMatchFoundHelper(e,a[d]))}return c==a.length},filterPattern:function(a,b,c){if(b&&c)if("before"==b)b=a.indexOf(c),a=-1!=b?a.slice(0,b):"";else if("after"==b)b=a.indexOf(c),a=-1!=b?a.slice(b+c.length):"";else if("before_last"==b)b=a.lastIndexOf(c),a=-1!=b?a.slice(0,b):"";else if("after_last"==
b)b=a.lastIndexOf(c),a=-1!=b?a.slice(b+c.length):"";else if("between"==b){c=c.split("__&&__");b=a.indexOf(c[0]);var d=a.indexOf(c[1],b+c[0].length);a=0<=b&&0<=d?a.substring(b+c[0].length,d):0<=b?a.substring(b+c[0].length):0<=d?a.substring(0,d):a}else"regex"==b&&(c=(new RegExp(c)).exec(a))&&0<c.length&&(a=c[c.length-1]);return a},isSelectorValid:function(a){a=document.createElement("br");a:{try{a.querySelector(void 0)}catch(b){a=!1;break a}a=!0}return a},getElementsBySelector:function(a,b){var c=[],
d=b,e=a.indexOf(":contains(");if(-1!==e){var f=a.substring(e,a.length);a=a.substring(0,e)}0===a.indexOf(">")&&(a=a.slice(1).trim());if(!this.isSelectorValid(a))return c;com_sas_ci_acs.ob_util.exists(b)||(d=document);com_sas_ci_acs.ob_util.exists(d.matches)&&d.matches(a)&&(c=c.concat(d));a=d.querySelectorAll(a);if(com_sas_ci_acs.ob_util.exists(a)&&0<a.length)for(b=0;b<a.length;b++){d=a[b];var k=!0;if(-1!==e){var g=f.substring(10,f.length-1);if(-1===d.innerText.indexOf(g)||-1===d.innerHTML.indexOf(g))k=
!1}k&&(c=c.concat(d))}return c}};function overridePrototypes(){!com_sas_ci_acs.ob_util.exists(Element.prototype.matches)&&com_sas_ci_acs.ob_util.exists(Element.prototype.msMatchesSelector)&&(Element.prototype.matches=Element.prototype.msMatchesSelector)}overridePrototypes();
com_sas_ci_acs.ob_form=function(a,b){this.attempts=0;this.changes={};for(var c=0;c<a.length;c++){var d=a.elements[c];if("password"!=com_sas_ci_acs.ob_util.toLowerCase(d.type)){var e=com_sas_ci_acs.ob_util.idOf(d);if(""==e)com_sas_ci_acs.ob_util.log("un-id'd element in form ["+a.id+"] skipped");else{var f=com_sas_ci_acs.ob_util.toLowerCase(d.tagName);d=com_sas_ci_acs.ob_util.toLowerCase(d.type);com_sas_ci_acs.ob_util.log("tracking changes on "+b+"["+f+":"+d+"]:"+e);this.changes[e]=0}}}};
com_sas_ci_acs._ob_configure=function(){this.w3c="undefined"==typeof window.event?!0:!1;this.w3c||(this.w3c="undefined"==typeof document.createEventObject?!0:!1);this.limIE=2083;this.validateEvents=!0;this.sendMeta={};this.sendCookies={};this.sendJsvars={};this.sendMeta.load=!0;this.sendMeta.cart=!0;this.sendMeta.submit=!0;this.sendMeta.click=!0;this.sendMeta.contentchange=!0;this.sendMeta.jsvarchange=!0;this.sendMeta.cartaction=!0;this.sendCookies.load=!0;this.sendCookies.cart=!0;this.sendCookies.submit=
!0;this.sendCookies.click=!0;this.sendCookies.contentchange=!0;this.sendCookies.jsvarchange=!0;this.sendMeta.cartaction=!0;this.sendJsvars.load=!0;this.sendJsvars.cart=!0;this.sendJsvars.submit=!0;this.sendJsvars.click=!0;this.sendJsvars.contentchange=!0;this.sendJsvars.jsvarchange=!0;this.sendMeta.cartaction=!0;this.forms={}};com_sas_ci_acs._ob_configure.prototype.initialize=function(){typeof this.ob_cfg==com_sas_ci_acs.ob_util.f?(this.ob_cfg(),com_sas_ci_acs._ob_dom.initialize()):com_sas_ci_acs.ob_util.log("ERROR: com_sas_ci_acs._ob_configure.initialize(): No configuration.")};
com_sas_ci_acs._ob_configure.prototype.getLoadId=function(){return this.load_guid};com_sas_ci_acs._ob_configure.prototype.getDomain=function(){return document.domain};com_sas_ci_acs.ob_configure=new com_sas_ci_acs._ob_configure;
com_sas_ci_acs._ob_dom=function(){function a(a,b){var d="";if(com_sas_ci_acs.ob_util.exists(b))for(var c=0;c<b.length;c++)d+="input[type="+b[c]+"], ";d=d.replace(/,\s*$/,"");return a.querySelectorAll(d)}function b(a,b){if(a=a.ci360_selectors)for(var d=a.length,c=0;c<d;c++)b.add("_tsp"+(c+1),a[c])}function c(){try{for(var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,d=b.length,c=[],S=0;S<d;S++)for(var G=b[S],T=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[G],
k=T.length,g=!1,l=0;l<k&&!g;l++){var r=T[l].targetSelector;r&&(g=!0,c.push(r))}var v=com_sas_ci_acs.ob_event.prototype.termConfiguration().tsp;if(v)for(var p in v)c.push(v[p]);var u=c.length;for(b=0;b<u;b++){var Y=c[b],ba=document.querySelectorAll(Y),D=ba.length;for(d=0;d<D;d++){var ya=ba[d],A=ya.ci360_selectors;A?A.push(Y):ya.ci360_selectors=[Y]}}}catch(M){com_sas_ci_acs.ob_util.log("error in decorateElementsWithSelectors")}m(a(document,ea));h(document);y(document,0);F();e(window,"unload",q,!0);
"interactive"===document.readyState||"complete"===document.readyState?t(null):"undefined"!==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",t,!0);"complete"===document.readyState?f(null):e(window,"load",f,!0);ma();sa();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars)if(c=(new com_sas_ci_acs._ob_jsvarchange_configuration).getConfig())for(var za in c){u=c[za];
try{var qa=u.split("."),C=qa.pop();if(0<qa.length){var z=qa.pop();Y=window;for(ba=0;ba<qa.length;ba++)Y=Y[qa[ba]];na(za,C,Y[z])}}catch(M){com_sas_ci_acs.ob_util.log(u+" variable will not be watched: "+M)}}e(document.body,"DOMNodeInserted",ta,!0)}var d=function(a){return[].filter.call(a,function(a){return/^data-/.test(a.name)})},e=function(a,b,d,c){if(!com_sas_ci_acs.ob_util.exists(a)||com_sas_ci_acs.ob_util.isUndefined(b)||""==b||typeof d!=com_sas_ci_acs.ob_util.f)return!1;com_sas_ci_acs.ob_util.isUndefined(c)&&
(c=!0);com_sas_ci_acs.ob_util.isUndefined(a.addEventListener)?com_sas_ci_acs.ob_util.isUndefined(a.attachEvent)||a.attachEvent("on"+b,d):a.addEventListener(b,d,c);return!0},f=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD);var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_eventid;
!com_sas_ci_acs.ob_util.isUndefined(b)&&0<b.length&&(a.add("eventSource","webmarketing|ace"),a.add("event_uid",b[0]));setTimeout(function(){a.send()},0);b=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventid;if(!com_sas_ci_acs.ob_util.isUndefined(b))for(var d=0;d<b.length;d++)if(!com_sas_ci_acs.ob_util.isMagicBoxEvent(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype[b[d]])){var c=[],e=null;if(com_sas_ci_acs.ob_util.isCartEvent(b[d])){e=Math.floor(1E12*Math.random()+
1);var f=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_prd_selector;if(!com_sas_ci_acs.ob_util.isUndefined(f)){var h=f[b[d]];if(h&&""!=h){f=[];try{f=com_sas_ci_acs.ob_util.getElementsBySelector(h)}catch(J){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+h+"' : "+J)}for(h=0;h<f.length;h++)c.push(l(b[d],h,e))}}}g(b[d],e,c)}}setTimeout(function(){(new com_sas_ci_acs.ob_injector).injectDeferred()},com_sas_ci_acs.ob_util.getDeferredSpotTimeout());com_sas_ci_acs._ob_cart_handlers.scrapeHandler()},
k=function(a){a=com_sas_ci_acs.ob_configure.isCollectionEnabled().event_properties[a];return!com_sas_ci_acs.ob_util.isUndefined(a)&&a?!com_sas_ci_acs.ob_util.propertyMatch(a,com_sas_ci_acs.ob_util.getLoadEventInstance()):!1},g=function(a,b,d){var c=1;if(!k(a)){var n=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD);n.add("eventSource","webmarketing");n.add("event_id",a);var w=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventname;com_sas_ci_acs.ob_util.isUndefined(w)||
(w=w[a])&&n.add("eventname",w);w=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventsubtype;com_sas_ci_acs.ob_util.isUndefined(w)||(w=w[a])&&(w===com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_CONFIRMATION_EVENT?n.add("eventname",w):n.add("eventsubtype",w));w=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;com_sas_ci_acs.ob_util.isUndefined(w)||(w=w[a])&&n.add("eventtype",w);com_sas_ci_acs.ob_util.isUndefined(b)||b&&n.add("cart_snapshot_id",b);if(!com_sas_ci_acs.ob_util.isUndefined(d)&&
d){for(b=0;b<d.length;b++)n.add("cartitem."+(b+1),d[b].data);n.add("cartitem_count",d.length)}d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_type;com_sas_ci_acs.ob_util.isUndefined(d)||(d=d[a])&&n.add("system_type",d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(d)&&(w=d[a])){com_sas_ci_acs.ob_util.customAttributeSetup(w,n,null);for(var e=0;e<w.length;e++)if((d=w[e].login_event_type)||(d=w[e].type),d){b=w[e].obscured;
var x=w[e].name;b&&"true"==b&&(b=n.get(x),b=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(b)+com_sas_ci_acs.ob_util.account).toString(),n.add(x,b),n.add("ffobscure."+c,x),c++,n.add("login_event",b),n.add("ffobscure."+c,"login_event"),c++);n.add("login_event_type",d)}}d=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(d)&&(a=d[a]))for(w=0;w<a.length;w++){e=a[w].name;com_sas_ci_acs.ob_util.customAttributeSetup(a,n,null);if(!n.get("User_ID_Attribute"))return;
(d=a[w].login_event_type)||(d=a[w].type);n.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT);n.add("event","IdentityEvent");d&&n.add("login_event_type",d);(b=a[w].obscured)&&"true"==b&&(d=n.get(e),b=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(d)+com_sas_ci_acs.ob_util.account).toString(),n.add(e,b),n.add("ffobscure."+c,e),c++,n.add("login_event",b),n.add("ffobscure."+c,"login_event"),c++)}setTimeout(function(){n.send()},0)}},l=function(a,b,d){if(!k(a)){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM);
c.add("eventSource","webmarketing");c.add("parent_event_uid",a);var n=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventname;com_sas_ci_acs.ob_util.isUndefined(n)||(n=n[a])&&c.add("eventname",n);n=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_eventtype;com_sas_ci_acs.ob_util.isUndefined(n)||(n=n[a])&&c.add("eventtype",n);com_sas_ci_acs.ob_util.isUndefined(d)||d&&c.add("cart_snapshot_id",d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_system_type;com_sas_ci_acs.ob_util.isUndefined(d)||
(d=d[a])&&c.add("system_type",d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads_attributes;com_sas_ci_acs.ob_util.isUndefined(d)||(a=d[a])&&com_sas_ci_acs.ob_util.customCartItemAttributeSetup(b,a,c,null);if(c.validate()){c.data="";for(var w in c.dataElements)typeof c.dataElements[w]!=com_sas_ci_acs.ob_util.f&&(0<c.data.length&&(c.data+="&"),c.data+=encodeURIComponent(w)+"="+encodeURIComponent(c.dataElements[w]));c.data=c.excludeDataElements(c.data)}return c}},q=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)com_sas_ci_acs.ob_util.isFirefoxBrowser()?(new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.UNLOAD)).send(!0):(new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.UNLOAD)).send(!1)},t=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().pageloads){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.DOM_CONTENT_LOADED);
setTimeout(function(){a.send()},0)}},m=function(a){var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks;if(!com_sas_ci_acs.ob_util.exists(b)||"true"===b)for(b=0;b<a.length;b++){var d=a[b];d.addEventListener("click",u,!0);"true"===com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&d.addEventListener("mouseover",u,!0);var c=d;for(var n=[],e=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,f=0;f<e.length;f++){var h=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[e[f]];
var k=h[0].targetSelector;if(com_sas_ci_acs.ob_util.exists(h))if(com_sas_ci_acs.ob_util.exists(k)){try{var g=com_sas_ci_acs.ob_util.getElementsBySelector(k)}catch(ba){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+k+"' : "+ba)}h=null;if(g)for(k=0;k<g.length;k++)if(g[k]==c){h=g[k];break}h==c&&n.push(e[f])}else if(com_sas_ci_acs.ob_util.exists(c)){k=h[0].targetId;var l=h[0].targetName,r=h[0].targetHref,m=h[0].targetAlt,v=h[0].targetTagName;h=h[0].targetInnerText;com_sas_ci_acs.ob_util.exists(k)&&
k===c.id&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(l)&&l===c.name&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(r)&&r===c.parentElement.href&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(m)&&m===c.alt&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(v)&&v===c.tagName&&n.push(e[f]);com_sas_ci_acs.ob_util.exists(h)&&h===c.innerText&&n.push(e[f])}}c=n;0<c.length&&(d.tngIds=JSON.stringify(c),d.addEventListener("click",N,!0))}},u=function(a){com_sas_ci_acs.ob_util.exists(a)||(a=window.event);var c=a.type;if("click"===
com_sas_ci_acs.ob_util.toLowerCase(c)||"mouseover"===com_sas_ci_acs.ob_util.toLowerCase(c)){c=a.target;var n=com_sas_ci_acs.ob_util.formTag(c,"input");if(com_sas_ci_acs.ob_util.exists(n)){var e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK);e.add("referrer",document.URL);e.add("elementTagName",n.tagName);e.add("anchor_id",n.id);e.add("anchor_name",n.name);e.add("anchor_href",n.innerHTML);e.add("location",com_sas_ci_acs.ob_util.getElementPath(c));e.add("targetSelectorPath",
com_sas_ci_acs.ob_util.getElementFullSelector(c));e.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(c));e.add("onclick",c.hasAttribute("onclick")?c.getAttribute("onclick"):"");e.add("title",n.title);e.add("port",location.port);e.add("protocol",location.protocol.substr(0,location.protocol.length-1));com_sas_ci_acs.ob_util.exists(a.currentTarget)&&e.add("inputType",a.currentTarget.type);a=d(c.attributes);b(c,e);for(c=0;c<a.length;c++)e.add(a[c].name,a[c].value);com_sas_ci_acs.ob_util.isSafariBrowser()?
e.send(!1):setTimeout(function(){e.send()},0);return!0}}},h=function(a){var b=a.getElementsByTagName("a");if(void 0!=b)for(var c=0;c<b.length;c++)r(b[c]);void 0!=a.tagName&&"a"==a.tagName.toLowerCase()&&r(a);b=a.getElementsByTagName("area");if(void 0!=b)for(c=0;c<b.length;c++)r(b[c]);void 0!=a.tagName&&"area"==a.tagName.toLowerCase()&&r(a);b=a.getElementsByTagName("button");if(void 0!=b)for(c=0;c<b.length;c++)B(b[c]);void 0!=a.tagName&&"button"==a.tagName.toLowerCase()&&B(a)},r=function(a){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",V,!0):a.attachEvent("onclick",V);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",V,!0):a.attachEvent("onmouseover",V))},v=function(a,b,c){for(var d=[],n=0,e,w,f,x,h,k=0;k<a.length;k++){var g=a[k];e=!0;if(null!=g){var l=g.uri;if(void 0!=l){for(var r=0;r<l.length;r++){f=l[r].p.op;x=l[r].p.values;
w=!1;for(var m=0;m<x.length;m++){h=encodeURI(l[r].p.values[m]).toLowerCase();var v=com_sas_ci_acs.ob_util.parseUri(window.location.href).path.toLowerCase();if(com_sas_ci_acs.ob_util.strOp(f,v,h)){w=!0;break}}if(!w){e=!1;break}}if(!e)continue}l=g.protocol;if(void 0!=l){f=l.p.op;x=l.p.values;w=!1;for(r=0;r<x.length;r++)if(h=l.p.values[r],m=com_sas_ci_acs.ob_util.location(),com_sas_ci_acs.ob_util.strOp(f,m,h)){w=!0;break}if(!w)continue}l=g.domain;if(void 0!=l&&(f=l.p.op,"all"!=f&&(x=l.p.values,0<x.length))){r=
com_sas_ci_acs.ob_util.host();w=!1;for(m=0;m<x.length;m++)if(h=l.p.values[m],com_sas_ci_acs.ob_util.strOp(f,r,h)){w=!0;break}if(!w)continue}r=g.form;if(void 0!=r){for(m=0;m<r.length;m++){l=r[m].attr;f=r[m].op;x=r[m].values;w=!1;for(v=0;v<x.length;v++){h=r[m].values[v];var q=b;"name"==l&&(q=c);if(com_sas_ci_acs.ob_util.strOp(f,q,h)){w=!0;break}}if(!w){e=!1;break}}if(!e)continue}d[n]={};e=g.field;if(void 0!=e)for(w=0;w<e.length;w++){l=e[w].attr;f=e[w].op;x=e[w].values;h="";for(g=0;g<x.length;g++)0<
h.length&&(h+=","),h+=e[w].values[g];d[n][h+"_"+l]=f}else d[n].$$all$$_id="$$all$$";n++}}return d},y=function(a,b){if(a instanceof Element&&"form"==a.tagName.toLowerCase())A(a,b),com_sas_ci_acs.ob_util.anonymous_form_count+=1;else{a=a.getElementsByTagName("form");for(var c=0;c<a.length;c++)A(a[c],c+b);com_sas_ci_acs.ob_util.anonymous_form_count+=a.length}},D=function(a,b){var c=com_sas_ci_acs.ob_util.idOf(a);if(null!=c&&""!=c){for(var d,n,e,f=0;f<a.length;f++)d=a.elements[f],b.contains(d)&&(n=com_sas_ci_acs.ob_util.idOf(d),
""==n?com_sas_ci_acs.ob_util.log("un-id'd element in form ["+a.id+"] skipped"):(e=com_sas_ci_acs.ob_configure.forms[c],com_sas_ci_acs.ob_util.isUndefined(e)||com_sas_ci_acs.ob_util.isUndefined(e.changes[n])&&(e.changes[n]=0),n=com_sas_ci_acs.ob_util.toLowerCase(d.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(d.type),"input"!=n&&"button"!=n||"submit"!=e&&"button"!=e?"input"!=n||"text"!=e&&"textarea"!=e&&"color"!=e&&"date"!=e&&"datetime"!=e&&"datetime-local"!=e&&"email"!=e&&"file"!=e&&"month"!=e&&"number"!=
e&&"range"!=e&&"search"!=e&&"tel"!=e&&"time"!=e&&"url"!=e&&"week"!=e?"select"==n?P(d,c):"input"==n&&"checkbox"==e?p(d,c):"input"==n&&"radio"==e&&U(d,c):H(d,c):z(d,c,a)));a=a.getElementsByTagName("input");for(f=0;f<a.length;f++)d=a[f],b.contains(d)&&(n=com_sas_ci_acs.ob_util.toLowerCase(d.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(d.type),"input"!=n||"image"!=e||!com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"true"!=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks||
(com_sas_ci_acs.ob_configure.w3c?d.addEventListener("click",N,!0):d.attachEvent("onclick",N,!0)));aa(b.getElementsByTagName("label"),c)}},A=function(a,b){var c=com_sas_ci_acs.ob_util.idOf(a);if(null==c||""==c)c="anonymous_form_"+ ++b;com_sas_ci_acs.ob_configure.forms[c]=new com_sas_ci_acs.ob_form(a,c);b=com_sas_ci_acs._ob_configure.prototype.getFormConfig();var d=a.getAttribute("id"),e=a.getAttribute("name");com_sas_ci_acs.ob_configure.forms[c].obs=v(b.obs,d,e);"inc"==b.nature?com_sas_ci_acs.ob_configure.forms[c].inc=
v(b.inc,d,e):com_sas_ci_acs.ob_configure.forms[c].ign=v(b.ign,d,e);for(var n=0;n<a.length;n++)b=a.elements[n],d=com_sas_ci_acs.ob_util.toLowerCase(b.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(b.type),"input"!=d&&"button"!=d||"submit"!=e&&"button"!=e?"input"!=d||"text"!=e&&"textarea"!=e&&"color"!=e&&"date"!=e&&"datetime"!=e&&"datetime-local"!=e&&"email"!=e&&"file"!=e&&"month"!=e&&"number"!=e&&"range"!=e&&"search"!=e&&"tel"!=e&&"time"!=e&&"url"!=e&&"week"!=e?"select"==d?P(b,c):"input"==d&&"checkbox"==
e?p(b,c):"input"==d&&"radio"==e&&U(b,c):H(b,c):z(b,c,a);n=a.getElementsByTagName("input");for(var f=0;f<n.length;f++)b=n[f],d=com_sas_ci_acs.ob_util.toLowerCase(b.tagName),e=com_sas_ci_acs.ob_util.toLowerCase(b.type),"input"!=d||"image"!=e||!com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"true"!=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks||(com_sas_ci_acs.ob_configure.w3c?b.addEventListener("click",N,!0):b.attachEvent("onclick",N,!0));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("submit",function(){return function(){fa(a,c)}}(),!0):a.attachEvent("onsubmit",function(){return function(){fa(a,c)}}(),!0);aa(a.getElementsByTagName("label"),c)},F=function(a){(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media)&&com_sas_ci_acs.SasVideo.loadPlayers(a)},z=function(a,
b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",function(){return function(a){ha(a,b)}}(),!0):a.attachEvent("onclick",function(){return function(a){ha(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){ha(a,
b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){ha(a,b)}}()));(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)&&"submit"===a.type&&a.addEventListener("click",N,!0)},B=function(a){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits)com_sas_ci_acs.ob_configure.w3c?
a.addEventListener("click",Z,!0):a.attachEvent("onclick",Z,!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",Z,!0):a.attachEvent("onmouseover",Z));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("click",N,!0):a.attachEvent("onclick",N)},H=function(a,
b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?(a.addEventListener("change",function(){return function(a){C(a,b)}}(),!0),"text"!=a.getAttribute("type")&&"textarea"!=a.getAttribute("type")||a.addEventListener("select",function(){return function(a){C(a,b)}}(),!0)):(a.attachEvent("onchange",function(){return function(a){C(a,b)}}(),
!0),"text"!=a.getAttribute("type")&&"textarea"!=a.getAttribute("type")||a.attachEvent("onselect",function(){return function(a){C(a,b)}}(),!0));"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},P=function(a,b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||
"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("change",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onchange",function(){return function(a){C(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},
p=function(a,b){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)com_sas_ci_acs.ob_configure.w3c?a.addEventListener("change",function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onchange",function(){return function(a){C(a,b)}}(),!0);"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&(com_sas_ci_acs.ob_configure.w3c?a.addEventListener("mouseover",
function(){return function(a){C(a,b)}}(),!0):a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},U=function(a,b){(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().fieldinteractions)&&p(a,b)},aa=function(a,b){if(!com_sas_ci_acs.ob_util.isUndefined(a))for(var c=0;c<a.length;c++)ua(a[c],b)},ua=function(a,b){"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().mouseovers&&
(com_sas_ci_acs.ob_configure.w3c?void 0!=a&&a.addEventListener("mouseover",function(){return function(a){C(a,b)}}(),!0):void 0!=a&&a.attachEvent("onmouseover",function(){return function(a){C(a,b)}}()))},ma=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents){if("undefined"!==typeof document.hidden){var a="hidden";var b="visibilitychange"}else"undefined"!==typeof document.mozHidden?
(a="mozHidden",b="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(a="msHidden",b="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(a="webkitHidden",b="webkitvisibilitychange");"undefined"!==typeof a&&"undefined"!==typeof document.addEventListener&&document.addEventListener(b,function(){return function(b){ia(b,document[a])}}(),!0)}},sa=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().contentevents){var a=
window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,b=(new com_sas_ci_acs._ob_contentvisible_configuration).getConfig();if(b)for(var c in b)try{for(var d=b[c],e=com_sas_ci_acs.ob_util.getElementsBySelector(d),f=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.maxCCMatches)?50:com_sas_ci_acs.ob_configure.maxCCMatches,h=0;h<e.length&&h<f;h++)a?(new a(function(){var a=c,b=d;return function(c){Q(c,a,b)}}())).observe(e[h],{childList:!0,subtree:!1,attributes:!0,
attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}):e[h].addEventListener&&(e[h].addEventListener("DOMNodeInserted",function(){return function(a){O(a,c,d)}}(),!0),e[h].addEventListener("DOMAttrModified",function(){return function(a){oa(a,c,d)}}(),!0),e[h].addEventListener("DOMNodeRemoved",function(){return function(a){ja(a,c,d)}}(),!0),e[h].addEventListener("DOMCharacterDataModified",function(){return function(a){pa(a,c,d)}}(),!0))}catch(J){com_sas_ci_acs.ob_util.log("exception occurred in instrumentContentVisibility: "+
J)}}},na=function(a,b,c){var d=function(){return function(c,d,e,f){ka(a,b,c,d,e,f)}}();com_sas_ci_acs._ob_jsvar.watch(c,d)},ta=function(b){b=b.target;if(b instanceof Element)if(com_sas_ci_acs.ob_util.isIEBrowser()){m(a(b,ea));var c=b.tagName.toLowerCase();if("a"===c||"area"===c)r(b);else if("button"===c)B(b);else if("form"===c){var d=com_sas_ci_acs.ob_util.idOf(b);if(null!=d&&""!=d){com_sas_ci_acs.ob_configure.forms[d]=new com_sas_ci_acs.ob_form(b,d);var e=com_sas_ci_acs._ob_configure.prototype.getFormConfig(),
f=b.getAttribute("id"),n=b.getAttribute("name");com_sas_ci_acs.ob_configure.forms[d].obs=v(e.obs,f,n);"inc"==e.nature?com_sas_ci_acs.ob_configure.forms[d].inc=v(e.inc,f,n):com_sas_ci_acs.ob_configure.forms[d].ign=v(e.ign,f,n)}}if("input"===c||"select"===c||"button"===c){c=!1;for(d=b.parentNode;null!=d&&d instanceof Element;){if("form"==d.tagName.toLowerCase()){c=!0;break}d=d.parentNode}c&&D(d,b)}}else{F(b);h(b);m(a(b,ea));c=!1;for(d=b.parentNode;null!=d&&d instanceof Element;){if("form"==d.tagName.toLowerCase()){c=
!0;break}d=d.parentNode}c?D(d,b):y(b,com_sas_ci_acs.ob_util.anonymous_form_count)}},ca=function(a){var b=com_sas_ci_acs.ob_util.isUndefined(a.type)?com_sas_ci_acs.ob_util.toLowerCase(a.nodeName):com_sas_ci_acs.ob_util.toLowerCase(a.type),c=com_sas_ci_acs.ob_util.idOf(a),d=a.value;if("label"==b)com_sas_ci_acs.ob_util.isUndefined(c)&&com_sas_ci_acs.ob_util.isUndefined(a.htmlFor),d=a.textContent;else if("checkbox"==b&&!a.checked)d="";else if("select-multiple"==b)for(d="",b=0;b<a.selectedOptions.length;b++)c=
a.selectedOptions[b],0<d.length&&(d+=","),d+=c.value;return d},ha=function(a,b){a||(a=window.event);var c=com_sas_ci_acs.ob_util.toLowerCase(a.type),d=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement;a=com_sas_ci_acs.ob_util.formTag(d,"form");com_sas_ci_acs.ob_util.isUndefined(b)&&(b=com_sas_ci_acs.ob_util.idOf(a));"click"==c&&(c="submit");var e=com_sas_ci_acs.ob_configure.forms[b];com_sas_ci_acs.ob_util.isUndefined(e)||"submit"==c&&e.attempts++;var f="";null!=a&&(f=com_sas_ci_acs.ob_util.isUndefined(a.attributes.action)||
null==a.attributes.action?"":a.attributes.action.value);var h=f.indexOf(":");if(0>h||16<h){var n=new String(document.URL);h=n.lastIndexOf("/");var k=n.lastIndexOf("\\");h=h>k?h:k;0<=h&&(n=n.substr(0,h+1),f=n+f)}var g=new com_sas_ci_acs.ob_event(c);g.add("form._o.id",-1==b.indexOf("anonymous_form")?b:"");g.add("form._h.id",null!=a?a.getAttribute("id"):"");g.add("form._h.name",null!=a?a.getAttribute("name"):"");g.add("location",com_sas_ci_acs.ob_util.getElementPath(d));g.add("referrer",document.URL);
g.add("uri",f);c=com_sas_ci_acs.ob_configure.forms[b].obs;d=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(d=!1);f=com_sas_ci_acs.ob_configure.forms[b].ign;n=com_sas_ci_acs.ob_configure.forms[b].inc;h={};k=1;if(null!=a)for(var l=0;l<a.length;l++){var x=a.elements[l],r=com_sas_ci_acs.ob_util.toLowerCase(x.nodeName),m=com_sas_ci_acs.ob_util.toLowerCase(x.type);if("password"!=m&&("radio"!=m||x.checked)){var v=com_sas_ci_acs.ob_util.idOf(x);if(v&&0!=v.length){var q=x.id,u=x.name,p=ca(x),
t=!1;if(d)for(var y,D,A,M=0;M<f.length;M++){if("$$all$$"==f[M].$$all$$_id)t=!0;else if(0<Object.getOwnPropertyNames(f[M]).length){y=!0;for(var F in f[M]){D=!1;if(com_sas_ci_acs.ob_util.strEndsWith(F,"_id")){A=F.slice(0,F.lastIndexOf("_id")).split(",");for(var E=0;E<A.length;E++)if(com_sas_ci_acs.ob_util.strOp(f[M][F],q,A[E])){D=!0;break}}else for(A=F.slice(0,F.lastIndexOf("_name")).split(","),E=0;E<A.length;E++)if(com_sas_ci_acs.ob_util.strOp(f[M][F],u,A[E])){D=!0;break}if(!D){y=!1;break}}y&&(t=!0)}if(t)break}else for(t=
!0,M=0;M<n.length;M++){if("$$all$$"==n[M].$$all$$_id)t=!1;else if(0<Object.getOwnPropertyNames(n[M]).length){y=!0;for(var C in n[M]){D=!1;if(com_sas_ci_acs.ob_util.strEndsWith(C,"_id"))for(A=C.slice(0,C.lastIndexOf("_id")).split(","),E=0;E<A.length;E++){if(com_sas_ci_acs.ob_util.strOp(n[M][C],q,A[E])){D=!0;break}}else for(A=C.slice(0,C.lastIndexOf("_name")).split(","),E=0;E<A.length;E++)if(com_sas_ci_acs.ob_util.strOp(n[M][C],u,A[E])){D=!0;break}if(!D){y=!1;break}}y&&(t=!1)}if(!t)break}if(!t){t="form.f."+
v;M="form.f."+v+"._h";E=!1;for(var z=0;z<c.length;z++){if("$$all$$"==c[z].$$all$$_id)E=!0;else if(0<Object.getOwnPropertyNames(c[z]).length){y=!0;for(var I in c[z]){D=!1;if(com_sas_ci_acs.ob_util.strEndsWith(I,"_id")){A=I.slice(0,I.lastIndexOf("_id")).split(",");for(var K=0;K<A.length;K++)if(com_sas_ci_acs.ob_util.strOp(c[z][I],q,A[K])){D=!0;break}}else for(A=I.slice(0,I.lastIndexOf("_name")).split(","),K=0;K<A.length;K++)if(com_sas_ci_acs.ob_util.strOp(c[z][I],u,A[K])){D=!0;break}if(!D){y=!1;break}}y&&
(E=!0)}if(E)break}E&&(p=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(p)+com_sas_ci_acs.ob_util.account).toString(),g.add("ffobscure."+k,t),k++);"checkbox"==m?com_sas_ci_acs.ob_util.isUndefined(h[t])?h[t]=p:h[t]+=","+p:g.add(t,p);g.add(M+".type",m);g.add(M+".alt",x.alt);g.add(M+".id",x.id);g.add(M+".name",x.name);com_sas_ci_acs.ob_util.isUndefined(e)||(com_sas_ci_acs.ob_util.exists(e.changes[v])||(e.changes[v]=0),g.add(t+"._o.changes",e.changes[v]),com_sas_ci_acs.ob_util.log(b+"["+r+":"+m+":"+
v+"]: changes="+e.changes[v]))}}}}com_sas_ci_acs.ob_util.isUndefined(e)||(g.add("form._o.attempts",e.attempts),com_sas_ci_acs.ob_util.log(b+": attempts="+e.attempts));for(var B in h)com_sas_ci_acs.ob_util.f!=typeof h[B]&&g.add(B,h[B]);com_sas_ci_acs.ob_util.isSafariBrowser()?g.send(!1):setTimeout(function(){g.send()},0);return!0},fa=function(a,b){var c=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_eventid;if(!com_sas_ci_acs.ob_util.isUndefined(c))for(var d=0;d<c.length;d++)R(c[d],
a,b);return!0},R=function(a,b,c){if(!k(a)){com_sas_ci_acs.ob_util.isUndefined(c)&&(c=com_sas_ci_acs.ob_util.idOf(b));var d=com_sas_ci_acs.ob_configure.forms[c];com_sas_ci_acs.ob_util.isUndefined(d)||d.attempts++;var e=new com_sas_ci_acs.ob_event("submit");e.add("eventSource","webmarketing");var f=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_eventname;com_sas_ci_acs.ob_util.isUndefined(f)||(f=f[a])&&e.add("eventname",f);f=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_system_type;
com_sas_ci_acs.ob_util.isUndefined(f)||(f=f[a])&&e.add("system_type",f);var h=!1;f="";var n=!1,g="",l="",w=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_elements,x;if(!com_sas_ci_acs.ob_util.isUndefined(w)&&(w=w[a]))for(var m=0;m<w.length;m++){var r=w[m].selector;var v=[];try{v=com_sas_ci_acs.ob_util.getElementsBySelector(r)}catch(xa){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+r+"' : "+xa)}r=v[0];r==b&&(e.add("event_id",a),h=!0,f=w[m].elementId,
g=w[m].filter,l=w[m].filterpattern,n="true"==w[m].obscured)}m="";r=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(r)){var q=r[a];if(q)for(var p=0;p<q.length;p++){r=q[p].selector;v=[];try{v=com_sas_ci_acs.ob_util.getElementsBySelector(r)}catch(xa){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+r+"' : "+xa)}r=v[0];r==b&&(e.add("event_id",a),e.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),
e.add("event","IdentityEvent"),m=q[p].name,g=q[p].filter,l=q[p].filterpattern,(x=q[p].login_event_type)||(x=q[p].type),x&&e.add("login_event_type",x),n="true"==q[p].obscured,h=!0)}}if(h){h=com_sas_ci_acs.ob_configure.forms[c].obs;r=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(r=!1);v=com_sas_ci_acs.ob_configure.forms[c].ign;q=com_sas_ci_acs.ob_configure.forms[c].inc;p={};for(var u=1,t=0;t<b.length;t++){var y=b.elements[t],A=com_sas_ci_acs.ob_util.toLowerCase(y.nodeName),D=com_sas_ci_acs.ob_util.toLowerCase(y.type);
if("password"!=D&&("radio"!=D||y.checked)){var F=com_sas_ci_acs.ob_util.idOf(y);if(F&&0!=F.length){w=y.id;var C=y.name,E=ca(y),z=!1;if(r)for(var B,I,K=0;K<v.length;K++){if("$$all$$"==v[K].$$all$$_id)z=!0;else if(0<Object.getOwnPropertyNames(v[K]).length){x=!0;I;for(var H in v[K]){B=!1;if(com_sas_ci_acs.ob_util.strEndsWith(H,"_id")){I=H.slice(0,H.lastIndexOf("_id")).split(",");for(var L=0;L<I.length;L++)if(com_sas_ci_acs.ob_util.strOp(v[K][H],w,I[L])){B=!0;break}}else for(I=H.slice(0,H.lastIndexOf("_name")).split(","),
L=0;L<I.length;L++)if(com_sas_ci_acs.ob_util.strOp(v[K][H],C,I[L])){B=!0;break}if(!B){x=!1;break}}x&&(z=!0)}if(z)break}else for(z=!0,K=0;K<q.length;K++){if("$$all$$"==q[K].$$all$$_id)z=!1;else if(0<Object.getOwnPropertyNames(q[K]).length){x=!0;for(var N in q[K]){B=!1;if(com_sas_ci_acs.ob_util.strEndsWith(N,"_id"))for(I=N.slice(0,N.lastIndexOf("_id")).split(","),L=0;L<I.length;L++){if(com_sas_ci_acs.ob_util.strOp(q[K][N],w,I[L])){B=!0;break}}else for(I=N.slice(0,N.lastIndexOf("_name")).split(","),
L=0;L<I.length;L++)if(com_sas_ci_acs.ob_util.strOp(q[K][N],C,I[L])){B=!0;break}if(!B){x=!1;break}}x&&(z=!1)}if(!z)break}if(!z){z="form.f."+F;K="form.f."+F+"._h";L=!1;for(var O=0;O<h.length;O++){if("$$all$$"==h[O].$$all$$_id)L=!0;else if(0<Object.getOwnPropertyNames(h[O]).length){x=!0;for(var P in h[O]){B=!1;if(com_sas_ci_acs.ob_util.strEndsWith(P,"_id")){I=P.slice(0,P.lastIndexOf("_id")).split(",");for(var Q=0;Q<I.length;Q++)if(com_sas_ci_acs.ob_util.strOp(h[O][P],w,I[Q])){B=!0;break}}else for(I=
P.slice(0,P.lastIndexOf("_name")).split(","),Q=0;Q<I.length;Q++)if(com_sas_ci_acs.ob_util.strOp(h[O][P],C,I[Q])){B=!0;break}if(!B){x=!1;break}}x&&(L=!0)}if(L)break}if(f==F||m==F)E=com_sas_ci_acs.ob_util.filterPattern(E,g,l);E&&""!=E&&(E=E.trim());L&&(E=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(E)+com_sas_ci_acs.ob_util.account).toString(),e.add("ffobscure."+u,z),u++);F==m&&(L&&(e.add("login_event",E),e.add("ffobscure."+u,"login_event"),u++),n&&!L?(E=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(E)+
com_sas_ci_acs.ob_util.account).toString(),e.add("login_event",E),e.add("ffobscure."+u,"login_event"),u++,e.add("ffobscure."+u,z),u++):e.add("login_event",E));w=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_elements;if(!com_sas_ci_acs.ob_util.isUndefined(w)&&(w=w[a]))for(B=0;B<w.length;B++){x=w[B].elementId;if(F==x||C==x)x=w[B].name,n&&(e.add("ffobscure."+u,x),u++,L||(E=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(E)+com_sas_ci_acs.ob_util.account).toString(),e.add("ffobscure."+
u,z),u++)),L&&!n&&e.add("ffobscure."+u++,x),e.add(x,E);(x=w[B].login_event_type)||(x=w[B].type);x&&e.add("login_event_type",x)}"checkbox"==D?com_sas_ci_acs.ob_util.isUndefined(p[z])?p[z]=E:p[z]+=","+E:e.add(z,E);e.add(K+".type",D);e.add(K+".alt",y.alt);e.add(K+".id",y.id);e.add(K+".name",y.name);com_sas_ci_acs.ob_util.isUndefined(d)||(com_sas_ci_acs.ob_util.exists(d.changes[F])||(d.changes[F]=0),e.add(z+"._o.changes",d.changes[F]),com_sas_ci_acs.ob_util.log(c+"["+A+":"+D+":"+F+"]: changes="+d.changes[F]))}}}}com_sas_ci_acs.ob_util.isUndefined(d)||
(e.add("form._o.attempts",d.attempts),com_sas_ci_acs.ob_util.log(c+": attempts="+d.attempts));for(var R in p)com_sas_ci_acs.ob_util.f!=typeof p[R]&&e.add(R,p[R]);I=com_sas_ci_acs.ob_configure.isCollectionEnabled().formsubmits_attributes;com_sas_ci_acs.ob_util.isUndefined(I)||(w=I[a])&&com_sas_ci_acs.ob_util.customAttributeSetup(w,e,b);com_sas_ci_acs.ob_util.isSafariBrowser()?e.send(!1):setTimeout(function(){e.send()},0)}}},C=function(a,b){a||(a=window.event);var c=com_sas_ci_acs.ob_configure.w3c?
a.target:a.srcElement;a=com_sas_ci_acs.ob_util.toLowerCase(a.type);var d=com_sas_ci_acs.ob_util.toLowerCase(c.nodeName),e=com_sas_ci_acs.ob_util.isUndefined(c.type)?d:com_sas_ci_acs.ob_util.toLowerCase(c.type),f=com_sas_ci_acs.ob_util.formTag(c,"form");com_sas_ci_acs.ob_util.isUndefined(b)&&(b=com_sas_ci_acs.ob_util.idOf(f));var h=com_sas_ci_acs.ob_configure.forms[b].obs,n=!0;"inc"==com_sas_ci_acs.ob_configure.getFormConfig().nature&&(n=!1);var g=com_sas_ci_acs.ob_configure.forms[b].ign,k=com_sas_ci_acs.ob_configure.forms[b].inc;
com_sas_ci_acs.ob_util.log("sendFormFieldEvent("+a+") for "+b+"["+d+":"+e+"]");if("password"!=e&&("radio"!=e||c.checked)){var l="";null!=f&&(l=com_sas_ci_acs.ob_util.isUndefined(f.attributes.action)||null==f.attributes.action?"":f.attributes.action.value);var x=l.indexOf(":");if(0>x||16<x){var r=new String(document.URL);x=r.lastIndexOf("/");var m=r.lastIndexOf("\\");x=x>m?x:m;0<=x&&(r=r.substr(0,x+1),l=r+l)}var v=new com_sas_ci_acs.ob_event(a);v.add("form._o.id",-1==b.indexOf("anonymous_form")?b:
"");v.add("form._h.id",null!=f?f.getAttribute("id"):"");v.add("form._h.name",null!=f?f.getAttribute("name"):"");v.add("location",com_sas_ci_acs.ob_util.getElementPath(c));v.add("referrer",document.URL);v.add("uri",l);var q=!1;(f=com_sas_ci_acs.ob_util.idOf(c))&&0!=f.length||(q=!0);l=c.id;r=c.name;x=ca(c);m=com_sas_ci_acs.ob_configure.forms[b];if(!q)if(n)for(var p=0;p<g.length;p++){if("$$all$$"==g[p].$$all$$_id)q=!0;else if(0<Object.getOwnPropertyNames(g[p]).length){n=!0;var u;for(u in g[p]){var t=
!1;if(com_sas_ci_acs.ob_util.strEndsWith(u,"_id")){var y=u.slice(0,u.lastIndexOf("_id")).split(",");for(k=0;k<y.length;k++)if(com_sas_ci_acs.ob_util.strOp(g[p][u],l,y[k])){t=!0;break}}else for(y=u.slice(0,u.lastIndexOf("_name")).split(","),k=0;k<y.length;k++)if(com_sas_ci_acs.ob_util.strOp(g[p][u],r,y[k])){t=!0;break}if(!t){n=!1;break}}n&&(q=!0)}if(q)break}else for(q=!0,u=0;u<k.length;u++){if("$$all$$"==k[u].$$all$$_id)q=!1;else if(0<Object.getOwnPropertyNames(k[u]).length){n=!0;for(p in k[u]){t=
!1;if(com_sas_ci_acs.ob_util.strEndsWith(p,"_id"))for(y=p.slice(0,p.lastIndexOf("_id")).split(","),g=0;g<y.length;g++){if(com_sas_ci_acs.ob_util.strOp(k[u][p],l,y[g])){t=!0;break}}else for(y=p.slice(0,p.lastIndexOf("_name")).split(","),g=0;g<y.length;g++)if(com_sas_ci_acs.ob_util.strOp(k[u][p],r,y[g])){t=!0;break}if(!t){n=!1;break}}n&&(q=!1)}if(!q)break}if(!q){u="form.f."+f;p="form.f."+f+"._h";g=!1;for(k=0;k<h.length;k++){if("$$all$$"==h[k].$$all$$_id)g=!0;else if(0<Object.getOwnPropertyNames(h[k]).length){n=
!0;for(var D in h[k]){t=!1;if(com_sas_ci_acs.ob_util.strEndsWith(D,"_id"))for(y=D.slice(0,D.lastIndexOf("_id")).split(","),q=0;q<y.length;q++){if(com_sas_ci_acs.ob_util.strOp(h[k][D],l,y[q])){t=!0;break}}else for(y=D.slice(0,D.lastIndexOf("_name")).split(","),q=0;q<y.length;q++)if(com_sas_ci_acs.ob_util.strOp(h[k][D],r,y[q])){t=!0;break}if(!t){n=!1;break}}n&&(g=!0)}if(g)break}g&&(x=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(x)+com_sas_ci_acs.ob_util.account).toString(),v.add("ffobscure.1",
u));v.add(u,x);v.add(p+".type",e);v.add(p+".alt",c.alt);v.add(p+".id",c.id);v.add(p+".name",c.name);com_sas_ci_acs.ob_util.isUndefined(m)||(com_sas_ci_acs.ob_util.exists(m.changes[f])||(m.changes[f]=0),"change"==a&&m.changes[f]++,v.add(u+"._o.changes",m.changes[f]),com_sas_ci_acs.ob_util.log(b+"["+d+":"+e+":"+f+"]: changes="+m.changes[f]))}com_sas_ci_acs.ob_util.isUndefined(m)||(v.add("form._o.attempts",m.attempts),com_sas_ci_acs.ob_util.log(b+": attempts="+m.attempts));setTimeout(function(){v.send()},
0);return!0}},Z=function(a){a||(a=window.event);if("click"==com_sas_ci_acs.ob_util.toLowerCase(a.type)||"mouseover"==com_sas_ci_acs.ob_util.toLowerCase(a.type)){var c=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement,e=com_sas_ci_acs.ob_util.formTag(c,"button");if(null!=e){var f="";f="img"==com_sas_ci_acs.ob_util.toLowerCase(c.tagName)?""!=c.alt?c.alt:c.src:""!=e.title?e.title:com_sas_ci_acs.ob_configure.w3c?e.text:e.innerText;var h=e.innerHTML,n=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_util.toLowerCase(a.type));
n.add("referrer",document.URL);n.add("elementTagName",e.tagName);n.add("anchor_id",e.id);n.add("anchor_name",e.name);n.add("anchor_href",h);n.add("location",com_sas_ci_acs.ob_util.getElementPath(c));n.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(c));n.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(c));n.add("onclick",c.hasAttribute("onclick")?c.getAttribute("onclick"):"");n.add("title",f);n.add("port",location.port);n.add("protocol",location.protocol.substr(0,
location.protocol.length-1));a=d(c.attributes);for(e=0;e<a.length;e++)n.add(a[e].name,a[e].value);b(c,n);com_sas_ci_acs.ob_util.isSafariBrowser()?n.send(!1):setTimeout(function(){n.send()},0);return!0}}},V=function(a){a||(a=window.event);if("click"==com_sas_ci_acs.ob_util.toLowerCase(a.type)||"mouseover"==com_sas_ci_acs.ob_util.toLowerCase(a.type)){var c=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement,e=com_sas_ci_acs.ob_util.formTag(c,"a");if(null!=e){var f="";if("img"==com_sas_ci_acs.ob_util.toLowerCase(c.tagName))f=
""!=c.alt?c.alt:c.src;else if(""!=e.title)f=e.title;else if(f=e.getElementsByTagName("script"),0<f.length){var h=e.cloneNode(!0);for(f=h.getElementsByTagName("script");0<f.length;)f[0].parentNode.removeChild(f[0]),f=h.getElementsByTagName("script");f=com_sas_ci_acs.ob_configure.w3c?h.text:h.innerText}else f=com_sas_ci_acs.ob_configure.w3c?e.text:e.innerText;var n=e.href;h=n.toString();var k=h.lastIndexOf("/"),g=h.lastIndexOf("\\");h=h.substr((k>g?k:g)+1);k=n.indexOf(":");if(0>k||16<k){var l=new String(document.URL);
k=l.lastIndexOf("/");g=l.lastIndexOf("\\");k=k>g?k:g;0<=k&&(l=l.substr(0,k+1),n=l+n)}var r=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_util.toLowerCase(a.type));r.add("eventSource","ace");r.add("referrer",document.URL);r.add("elementTagName",e.tagName);r.add("anchor_id",e.id);r.add("anchor_name",e.name);r.add("anchor_href",h);r.add("location",com_sas_ci_acs.ob_util.getElementPath(c));r.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(c));r.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(c));
r.add("targetAlt",c.hasAttribute("alt")?c.getAttribute("alt"):"");r.add("onclick",c.hasAttribute("onclick")?c.getAttribute("onclick"):"");r.add("uri",n);r.add("title",f);r.add("port",location.port);r.add("protocol",location.protocol.substr(0,location.protocol.length-1));a=d(c.attributes);for(e=0;e<a.length;e++)r.add(a[e].name,a[e].value);a=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid;if(!com_sas_ci_acs.ob_util.isUndefined(a))for(e=0;e<a.length;e++)la(a[e],c);b(c,r);com_sas_ci_acs.ob_util.isSafariBrowser()?
r.send(!1):setTimeout(function(){r.send()},0);return!0}}},la=function(a,b){if(!k(a)){var c={eventSource:"webmarketing"},d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname;com_sas_ci_acs.ob_util.isUndefined(d)||(d=d[a])&&(c.eventname=d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_system_type;com_sas_ci_acs.ob_util.isUndefined(d)||(d=d[a])&&(c.system_type=d);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(d)&&
(d=d[a])){var e=d[0].targetSelector;if(e&&""!=e){var f=[];try{f=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(W){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+e+"' : "+W)}var h=null;for(e=0;e<f.length;e++)if(f[e]==b){h=f[e];break}if(h==b){var n=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK),g;for(g in c)n.add(g,c[g]);n.add("event_id",a);com_sas_ci_acs.ob_util.customAttributeSetup(d,n,h,null,e);for(f=0;f<d.length;f++)b=d[f].name,com_sas_ci_acs.ob_util.notBlank(b)&&
(c=d[f].login_event_type,com_sas_ci_acs.ob_util.notBlank(c)&&(n.add("login_event_type",c),c=n.get(b),com_sas_ci_acs.ob_util.notBlank(c)&&((g=d[f].obscured)&&"true"==g?(c=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(c)+com_sas_ci_acs.ob_util.account).toString(),n.add(b,c),n.add("ffobscure.1",b),n.add("login_event",c),n.add("ffobscure.2","login_event")):n.add("login_event",c))));d=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(d)&&
(a=d[a]))for(com_sas_ci_acs.ob_util.customAttributeSetup(a,n,h,null,e),d=0;d<a.length;d++)if(b=a[d].name,(c=a[d].login_event_type)||(c=a[d].type),c&&n.add("login_event_type",c),c=n.get(b))(g=a[d].obscured)&&"true"==g?(c=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(c)+com_sas_ci_acs.ob_util.account).toString(),n.add(b,c),n.add("ffobscure.1",b),n.add("login_event",c),n.add("ffobscure.2","login_event")):n.add("login_event",c),n.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),
n.add("event","IdentityEvent");com_sas_ci_acs.ob_util.isSafariBrowser()?n.send(!1):setTimeout(function(){n.send()},0)}}else if(b){e=!0;for(h in d[0])h&&"targetId"==h?d[0][h]!=b.id&&(e=!1):h&&"targetName"==h?d[0][h]!=b.name&&(e=!1):h&&"targetHref"==h?d[0][h]!=b.parentElement.href&&(e=!1):h&&"targetAlt"==h?d[0][h]!=b.alt&&(e=!1):h&&"targetTagName"==h?d[0][h]!=b.tagName&&(e=!1):h&&"targetInnerText"==h?d[0][h]!=b.innerText&&(e=!1):h&&"targetOnClick"==h?d[0][h]!=b.onclick&&(e=!1):h&&d[0][h]!=b[h]&&(e=
!1);e&&(n.add("event_id",a),com_sas_ci_acs.ob_util.customAttributeSetup(d,n,b),com_sas_ci_acs.ob_util.isSafariBrowser()?n.send(!1):setTimeout(function(){n.send()},0))}}}},N=function(a){a||(a=window.event);a=com_sas_ci_acs.ob_configure.w3c?a.target:a.srcElement;for(var b=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventid,c=0;c<b.length;c++)ra(b[c],a)},ra=function(a,b){if(!k(a)){var c=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_attributes[a];if(c){var e=c[0].targetSelector,
f=c[0].targetId,h=c[0].targetName,g=c[0].targetHref,n=c[0].targetAlt,l=c[0].targetTagName,r=c[0].targetInnerText;if(e&&""!=e){h=[];try{h=com_sas_ci_acs.ob_util.getElementsBySelector(e)}catch(wa){com_sas_ci_acs.ob_util.log("exception occurred in getElementsBySelector for '"+e+"' : "+wa)}e=null;for(f=0;f<h.length;f++)if(h[f]==b){e=h[f];break}if(e==b){var m=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CLICK);m.add("eventSource","webmarketing");m.add("referrer",document.URL);m.add("location",
com_sas_ci_acs.ob_util.getElementPath(b));m.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));m.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));m.add("port",location.port);m.add("protocol",location.protocol.substr(0,location.protocol.length-1));m.add("onclick",b.hasAttribute("onclick")?b.getAttribute("onclick"):"");(h=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname[a])&&m.add("eventname",h);m.add("event_id",a);h=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_system_type;
com_sas_ci_acs.ob_util.isUndefined(h)||(h=h[a])&&m.add("system_type",h);h=d(b.attributes);for(b=0;b<h.length;b++)m.add(h[b].name,h[b].value);com_sas_ci_acs.ob_util.customAttributeSetup(c,m,e,null,f);for(l=0;l<c.length;l++)b=c[l].name,com_sas_ci_acs.ob_util.notBlank(b)&&(h=c[l].login_event_type,com_sas_ci_acs.ob_util.notBlank(h)&&(m.add("login_event_type",h),n=m.get(b),com_sas_ci_acs.ob_util.notBlank(n)&&((g=c[l].obscured)&&"true"==g?(g=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(n)+com_sas_ci_acs.ob_util.account).toString(),
m.add(b,g),m.add("ffobscure.1",b),m.add("login_event",g),m.add("ffobscure.2","login_event")):m.add("login_event",n))));c=com_sas_ci_acs.ob_configure.isCollectionEnabled().loginevent_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(c)&&(a=c[a]))for(com_sas_ci_acs.ob_util.customAttributeSetup(a,m,e,null,f),c=0;c<a.length;c++){b=a[c].name;(h=a[c].login_event_type)||(h=a[c].type);if(n=m.get(b))(g=a[c].obscured)&&"true"==g?(g=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(n)+com_sas_ci_acs.ob_util.account).toString(),
m.add(b,g),m.add("ffobscure.1",b),m.add("login_event",g),m.add("ffobscure.2","login_event")):m.add("login_event",n),m.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT),m.add("event","IdentityEvent");h&&m.add("login_event_type",h)}com_sas_ci_acs.ob_util.isSafariBrowser()?m.send(!1):setTimeout(function(){m.send()},0)}}else if(b&&(e=!1,f&&""!=f&&f==b.id&&(e=!0),h&&""!=h&&h==b.name&&(e=!0),g&&""!=g&&g==b.parentElement.href&&(e=!0),n&&""!=n&&n==b.alt&&(e=!0),l&&""!=l&&l==b.tagName&&
(e=!0),r&&""!=r&&r==b.innerText&&(e=!0),e)){m=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SUBMIT);m.add("eventSource","webmarketing");m.add("referrer",document.URL);m.add("location",com_sas_ci_acs.ob_util.getElementPath(b));m.add("targetSelectorPath",com_sas_ci_acs.ob_util.getElementFullSelector(b));m.add("targetInnerText",com_sas_ci_acs.ob_util.getElementInnerText(b));m.add("port",location.port);m.add("protocol",location.protocol.substr(0,location.protocol.length-1));m.add("onclick",
b.hasAttribute("onclick")?b.getAttribute("onclick"):"");(h=com_sas_ci_acs.ob_configure.isCollectionEnabled().clicks_eventname[a])&&m.add("eventname",h);m.add("event_id",a);h=d(b.attributes);for(a=0;a<h.length;a++)m.add(h[a].name,h[a].value);com_sas_ci_acs.ob_util.customAttributeSetup(c,m,b);com_sas_ci_acs.ob_util.isSafariBrowser()?m.send(!1):setTimeout(function(){m.send()},0)}}}},ia=function(a,b){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.VISIBILITY_CHANGE);c.add("uri",
document.URL);c.add("hidden",b);setTimeout(function(){c.send()},0)},Q=function(a,b,c){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){if(2===a.length){var d=!1,e=a[0],f=a[1],h=null,g=null;1===e.removedNodes.length&&0===e.addedNodes.length&&1===f.addedNodes.length&&0===f.removedNodes.length?(h=f.addedNodes,g=e.removedNodes,d=!0):1===e.addedNodes.length&&0===e.removedNodes.length&&1===f.removedNodes.legnth&&0===f.addedNodes.length&&(h=e.addedNodes,g=f.removedNodes,
d=!0);d&&(a=[{addedNodes:h,removedNodes:g,type:"childList",target:e.target}])}a.forEach(function(a){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);d.add("uri",document.URL);-1!=b.indexOf("contentChange")?d.add("eventuid",b):(d.add("event_id",b),d.add("eventSource","webmarketing"));d.add("targetselector",c);var e=a.target;e.localName&&d.add("targetname",e.localName);e.id&&
d.add("targetid",e.id);if("childList"===a.type)if(0<a.addedNodes.length){e=null;if(1==a.addedNodes.length){var f=a.addedNodes[0];f.nodeType===Node.TEXT_NODE&&(e=f.nodeValue)}f="";1===a.removedNodes.length&&(a=a.removedNodes[0],"undefined"!==typeof a&&a.nodeType===Node.TEXT_NODE&&(f=a.nodeValue));e?(d.add("targettype","attribute"),d.add("attributename","innerText"),d.add("oldvalue",f),d.add("newvalue",e)):d.add("targettype","childadd")}else 0<a.removedNodes.length&&d.add("targettype","childremove");
else if("attributes"===a.type)d.add("targettype","attribute"),d.add("attributename",a.attributeName),d.add("oldvalue",a.oldValue),d.add("newvalue",e.getAttribute(a.attributeName));else if("characterData"===a.type){if(3!=e.nodeType)return;d.add("targettype","attribute");d.add("attributename","innerText");d.add("oldvalue",a.oldValue);d.add("newvalue",e.nodeValue)}if("webmarketing"==d.get("eventSource")){f=e=a=null;var h=com_sas_ci_acs.ob_configure.isCollectionEnabled().content_attributes;!com_sas_ci_acs.ob_util.isUndefined(h)&&
(h=h[b])&&(a=h[0].changeRule,e=h[0].from,f=h[0].to);if(e&&a&&("attrValueToValue"==a||"attrValueToAny"==a)&&(!d.get("oldvalue")||e!=d.get("oldvalue"))||f&&a&&("attrValueToValue"==a||"attrAnyToValue"==a)&&(!d.get("newvalue")||f!=d.get("newvalue")))return}setTimeout(function(){d.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}})}},O=function(a,b,c){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()&&(a||(a=window.event),a=a.target?a.target:a.srcElement)){var d=
new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);d.add("uri",document.URL);d.add("eventid",b);d.add("targetselector",c);a.localName?d.add("targetname",a.localName):a.nodeName&&d.add("targetname",a.nodeName);a.id&&d.add("targetid",a.id);3==a.nodeType?(d.add("targettype","attribute"),d.add("attributename","innerText"),d.add("oldvalue",""),d.add("newvalue",a.nodeValue)):d.add("targettype","childadd");setTimeout(function(){d.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}},
oa=function(a,b,c){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){a||(a=window.event);var d=a.target?a.target:a.srcElement;if(d){var e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);e.add("uri",document.URL);e.add("eventid",b);e.add("targetselector",c);e.add("targettype","attribute");d.localName?e.add("targetname",d.localName):d.nodeName&&e.add("targetname",d.nodeName);d.id&&e.add("targetid",d.id);if("attrChange"in a)switch(a.attrChange){case MutationEvent.ADDITION:case MutationEvent.MODIFICATION:a.attrName&&
e.add("attributename",a.attrName),a.prevValue&&e.add("oldvalue",a.prevValue),a.newValue&&e.add("newvalue",a.newValue),setTimeout(function(){e.send()},0)}com_sas_ci_acs.ob_util.contentchangeCount++}}},ja=function(a,b,c){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()&&(a||(a=window.event),a=a.target?a.target:a.srcElement)){var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);d.add("uri",document.URL);d.add("eventid",b);d.add("targetselector",
c);a.localName?d.add("targetname",a.localName):a.nodeName&&d.add("targetname",a.nodeName);a.id&&d.add("targetid",a.id);d.add("targettype","childremove");setTimeout(function(){d.send()},0);com_sas_ci_acs.ob_util.contentchangeCount++}},pa=function(a,b,c){if(com_sas_ci_acs.ob_util.contentchangeCount<com_sas_ci_acs.ob_util.getMaxContentChange()){a||(a=window.event);var d=a.target?a.target:a.srcElement;if(d){var e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE);e.add("uri",
document.URL);e.add("eventid",b);e.add("targetselector",c);e.add("targettype","attribute");d.localName?e.add("targetname",d.localName):d.nodeName&&e.add("targetname",d.nodeName);d.id&&e.add("targetid",d.id);3==d.nodeType&&(e.add("targettype","attribute"),e.add("attributename","innerText"),e.add("oldvalue",a.prevValue),e.add("newvalue",d.nodeValue),setTimeout(function(){e.send()},0));com_sas_ci_acs.ob_util.contentchangeCount++}}},ka=function(a,b,c,d,e,f){if(c===b&&("update"===d||"add"===d)&&com_sas_ci_acs.ob_util.jsvarchangeCount<
com_sas_ci_acs.ob_util.getMaxJsVarChange()){var h=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.JS_VAR_CHANGE);h.add("name",a);h.add("action",d);-1!=a.indexOf("-")&&(h.add("event_id",a),h.add("eventSource","webmarketing"));com_sas_ci_acs.ob_util.isUndefined(e)||h.add("oldvalue",e);com_sas_ci_acs.ob_util.isUndefined(f)||h.add("newvalue",f);if("webmarketing"==h.get("eventSource")&&(c=b=null,d=com_sas_ci_acs.ob_configure.isCollectionEnabled().changevar_attributes,!com_sas_ci_acs.ob_util.isUndefined(d)&&
(a=d[a])&&(b=a[0].value,c=a[0].op),!(b&&h.get("newvalue")&&c&&com_sas_ci_acs.ob_util.strOp(c,h.get("newvalue"),b))))return;setTimeout(function(){h.send()},0);com_sas_ci_acs.ob_util.jsvarchangeCount++}};window.addEventListener("error",function(a){if(com_sas_ci_acs.ob_util.jspageerrorCount<com_sas_ci_acs.ob_util.maxJspageErrors)try{var b=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.JS_PAGE_ERROR),c=a.message||"";c.length>com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE&&(c=c.slice(0,com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE));
b.add("message",c);b.add("url",a.filename);b.add("line",a.lineno);b.add("column",a.colno);var d=a.error&&a.error.stack||c;d.length>com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE&&(d=d.slice(0,com_sas_ci_acs.ob_util.MAX_PROPERTY_SIZE));b.add("error_stack",d);setTimeout(function(){b.send()},0);com_sas_ci_acs.ob_util.jspageerrorCount++}catch(G){com_sas_ci_acs.ob_util.log("exception occurred when sending javascript page error event : "+G)}});var ea=["radio","button","checkbox"];return{initialize:function(){"interactive"===
document.readyState||"complete"===document.readyState?c():window.addEventListener("DOMContentLoaded",c)},findElement:function(a){var b=!1;try{0<com_sas_ci_acs.ob_util.getElementsBySelector(a).length&&(b=!0)}catch(w){com_sas_ci_acs.ob_util.log("exception occurred in findElement for '"+a+"' : "+w)}return b},findElementMatch:function(a,b){var c=[];try{var d=b[0],e=d.target,f=d.op,h=d.values;d="["+e+"]";"tagName"==e&&(d="*");var g=a?com_sas_ci_acs.ob_util.getElementsBySelector(d,a):com_sas_ci_acs.ob_util.getElementsBySelector(d);
for(a=0;a<g.length;a++){var k="tagName"==e?g[a].tagName.toLowerCase():g[a].getAttribute(e);d=!1;for(var l=0;l<h.length;l++){if(com_sas_ci_acs.ob_util.strOp(f,k,h[l])){d=!0;for(var m=1;m<b.length;m++){var r=b[m],n=r.target,v=r.op,q=r.values;k="tagName"==n?g[a].tagName.toLowerCase():g[a].getAttribute(n);for(var p=!1,u=0;u<q.length;u++)if(com_sas_ci_acs.ob_util.strOp(v,k,q[u])){p=!0;break}if(!p){d=!1;break}}}if(d){c.push(g[a]);break}}}}catch(Ba){com_sas_ci_acs.ob_util.log("exception occurred in findElementMatch: "+
Ba)}return c},collectTerm:function(a,b,d,c){var e="",f="";try{f=com_sas_ci_acs.ob_util.getElementsBySelector(a);if(com_sas_ci_acs.ob_util.isUndefined(f))return;var h=f[0];null!=h&&(e=this.getContent(h,b,d,c))}catch(J){com_sas_ci_acs.ob_util.log("exception occurred in collectTerm for '"+a+"["+b+"]': "+J)}return null==e?e:e.trim()},filterValue:function(a,b,d){var c=a;"before"==b?(b=c.indexOf(d),c=0<=b?c.substring(0,b):a):"before_last"==b?(b=c.lastIndexOf(d),c=0<=b?c.substring(0,b):a):"after"==b?(b=
c.indexOf(d),c=0<=b?c.substring(b+d.length,c.length):a):"after_last"==b?(b=c.lastIndexOf(d),c=0<=b?c.substring(b+d.length,c.length):a):"between"==b?(a=d.split("__&&__"),d=c.indexOf(a[0]),b=c.indexOf(a[1],d+a[0].length),c=0<=d&&0<=b?c.substring(d+a[0].length,b):0<=d?c.substring(d+a[0].length):0<=b?c.substring(0,b):c):"regex"==b&&(a=(new RegExp(d)).exec(a))&&0<a.length&&(c=a[a.length-1]);return c},openWindow:function(a,b,c,d,e,f,h){var g="";0!=c&&(g+="height="+c+",");0!=d&&(g+="width="+d+",");1==e&&
(g+="menubar=no,status=no,toolbar=no,");1==f&&(g+="scrollbars=no,resizable=no,");1==h&&(g+="titlebar=no");return window.open(a,b,g)},instrumentDivClick:function(a){document.getElementById(a)},getContent:function(a,b,c,d){if("innerHTML"==b)var e=a.innerHTML;else if("innerText"==b)e=a.textContent?a.textContent:a.innerText;else if("outerHTML"==b)e=a.outerHTML;else if("value"==b)e=a.value;else{a=a.attributes.getNamedItem(b);if(!a)return e;e=a.value}e&&0<e.length&&(e=e.trim());c&&0<c.length&&d&&0<d.length&&
(e=this.filterValue(e,c,d));return e=e.trim()}}}();
com_sas_ci_acs._ob_jsvar=function(){var a=Object.observe?!0:!1,b=function(a,b,c){try{Object.defineProperty(a,b,{enumerable:!1,configurable:!0,writeable:!1,value:c})}catch(k){a[b]=c}},c=function(a,b){var c=a[b],d=function(){return c},e=function(d){var e=c;c=d;if(e!==d&&a.o_watchers&&a.o_watchers.list)for(var f=0;f<a.o_watchers.list.length;f++)a.o_watchers.list[f].call(a,b,"update",e,d)};try{Object.defineProperty?Object.defineProperty(a,b,{get:d,set:e,enumerable:!0,configurable:!0}):Object.prototype.__defineGetter__&&
Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(a,b,d),Object.prototype.__defineSetter__.call(a,b,e))}catch(l){}};return{watch:function(d,e){if(d instanceof Object||com_sas_ci_acs.ob_util.isArray(d))if(a){var f=function(a){a.forEach(function(a){e(a.name,a.type,a.oldValue,a.object[a.name])})};try{Object.observe(d,f)}catch(g){com_sas_ci_acs.ob_util.log(g)}}else{d.o_watchers||b(d,"o_watchers",{});d.o_watchers.list||(d.o_watchers.list=[]);for(f=0;f<d.o_watchers.list.length;f++)if(d.o_watchers.list[f]===
e)return;d.o_watchers.list.push(e);var k;if(com_sas_ci_acs.ob_util.isArray(d))for(k=0;k<d.length;k++)c(d,k);else if("object"==typeof d)for(k in d)d.hasOwnProperty(k)&&c(d,k)}},unwatch:function(b,c){if(a)Object.unobserve(b,c);else if(b.o_watchers&&b.o_watchers.list)for(var d=0;d<b.o_watchers.list.length;d++)if(b.o_watchers.list[d]===c){b.o_watchers.list.splice(d,1);break}}}}();
com_sas_ci_acs.ob_event=function(a,b){if(com_sas_ci_acs.ob_util.exists(a)){this.dataElements=[];this.event=a;this.data="";com_sas_ci_acs.ob_util.isUndefined(b)||null==b?(b="",null!=com_sas_ci_acs.ob_util_async.custom_domain&&0<com_sas_ci_acs.ob_util_async.custom_domain.length?b=com_sas_ci_acs.ob_util_async.custom_domain+"/t/e/"+com_sas_ci_acs.ob_util.account:(null!=com_sas_ci_acs.ob_util.ccsProtocol&&(b+=com_sas_ci_acs.ob_util.ccsProtocol+":"),b+=com_sas_ci_acs.ob_configure.ccs),this.url=b):this.url=
b;this.add("visitor",com_sas_ci_acs.ob_configure.getVisitorId());this.add("session",com_sas_ci_acs.ob_configure.getSessionId());this.add("domain",com_sas_ci_acs.ob_configure.getDomain());this.add("load_id",com_sas_ci_acs.ob_configure.getLoadId());this.add("event_guid",com_sas_ci_acs.ob_configure.getLoadId()+Math.floor(1E12*Math.random()+1));this.add("tab_id",com_sas_ci_acs.ob_util_async.getTabId());b=(new Date).getTime();var c=0;com_sas_ci_acs.ob_util.lastActivity=com_sas_ci_acs.ob_configure.getLastActivity();
com_sas_ci_acs.ob_util.maxInactivity=com_sas_ci_acs.ob_configure.getMaxInactivity();0<com_sas_ci_acs.ob_util.lastActivity&&(c=b-com_sas_ci_acs.ob_util.lastActivity);com_sas_ci_acs.ob_util.lastActivity=b;com_sas_ci_acs.ob_util.maxInactivity=Math.max(c,com_sas_ci_acs.ob_util.maxInactivity);com_sas_ci_acs.ob_configure.updateActivity(b,com_sas_ci_acs.ob_util.maxInactivity);c="";this.add("hb",com_sas_ci_acs.ob_util.maxInactivity);this.add("version",com_sas_ci_acs.version);this.add("event",this.event);
this.add("flags",c);this.add("event_channel","web");this.add("cts",b);this.add("cts_base",com_sas_ci_acs.ob_util.cts_base);this.add("cts_boot_base",com_sas_ci_acs.ob_util_async.cts_boot_base);this.add("timestamp",com_sas_ci_acs.ob_util.timestamp_base+b-com_sas_ci_acs.ob_util.cts_base);this.add("csn",com_sas_ci_acs.ob_util.nsn());b=com_sas_ci_acs.ob_boot.getDatahubId();com_sas_ci_acs.ob_util.exists(b)&&this.add("datahub_id",b);com_sas_ci_acs.newvid&&(com_sas_ci_acs.newvid=!1,c+="|nv",this.add("flags",
c));com_sas_ci_acs.webmarketing&&this.add("flags",c+"|wm");if(a!==com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM||null===com_sas_ci_acs.ob_util.cachedTermConfiguration)com_sas_ci_acs.ob_util.cachedTermConfiguration=this.getTermConfigs();c=com_sas_ci_acs.ob_util.cachedTermConfiguration.global;a=com_sas_ci_acs.ob_util.cachedTermConfiguration[this.event];b=com_sas_ci_acs.ob_util.cachedTermConfiguration.find;for(var d in c)this.add(d,c[d]);for(var e in a)"function"==typeof a[e]?(d=a[e](),null!=d&&0<
d.length&&this.add(e,d)):com_sas_ci_acs.ob_util.isUndefined(a[e])||null==a[e]||(d=a[e].toString(),0<d.length&&this.add(e,d));for(var f in b)b[f]&&this.add(f,b[f]);if("click"==this.event||"submit"==this.event||"contentchange"==this.event||"cart"==this.event||"jsvarchange"==this.event||"cartaction"==this.event){e=com_sas_ci_acs.ob_util.cachedTermConfiguration.load;for(var k in e)"function"==typeof e[k]?(f=e[k](),null!=f&&0<f.length&&this.add(k,f)):com_sas_ci_acs.ob_util.isUndefined(e[k])||null==e[k]||
(f=e[k].toString(),0<f.length&&this.add(k,f))}com_sas_ci_acs.ob_configure.sendMeta[this.event]&&this.addMeta();com_sas_ci_acs.ob_configure.sendCookies[this.event]&&this.addCookies();com_sas_ci_acs.ob_configure.sendJsvars[this.event]&&this.addJsvars();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?0:com_sas_ci_acs.ob_configure.trackCancelledEvents){k="";for(var g in com_sas_ci_acs.ob_util.cancelledEvents)com_sas_ci_acs.ob_util.cancelledEvents.hasOwnProperty(g)&&
(0<k.length&&(k+=","),k+=g+":"+com_sas_ci_acs.ob_util.cancelledEvents[g]);this.add("pageCancelledEvents",k);this.add("sessionCancelledEvents",com_sas_ci_acs.ob_configure.getCancelledEvents())}if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){g="";for(var l in com_sas_ci_acs.ob_util.eventResponses)com_sas_ci_acs.ob_util.eventResponses.hasOwnProperty(l)&&(0<g.length&&(g+=","),g+=l+":"+com_sas_ci_acs.ob_util.eventResponses[l]);
this.add("pageEventResponses",g);this.add("sessionEventResponses",com_sas_ci_acs.ob_configure.getEventResponses())}}};
com_sas_ci_acs.ob_event.EventNameEnum={CART:"cart",CART_ACTION:"cartaction",CART_ITEM:"cartitem",CHANGE:"change",CLICK:"click",CONTENT_CHANGE:"contentchange",CUSTOM:"custom",DOM_CONTENT_LOADED:"DOMContentLoaded",IDENTITY_EVENT:"IdentityEvent",IDENTITY_CONFIRMATION_EVENT:"IdentityConfirmationEvent",IMPRESSION:"impression",IMPRESSION_VIEWABLE:"impression_viewable",JS_PAGE_ERROR:"jspageerror",JS_VAR_CHANGE:"jsvarchange",LOAD:"load",MEDIA:"media",SPOT_ATTRIBUTES:"spot_attributes",SPOT_CHANGE:"spot_change",
SPOT_CLICKED:"spot_clicked",SPOT_VIEWABLE:"spot_viewable",SUBMIT:"submit",UNLOAD:"unload",VISIBILITY_CHANGE:"visibilitychange",LOGOUT:"logout"};com_sas_ci_acs.ob_event.prototype.send=function(){this.validate()&&(com_sas_ci_acs.ob_util.totalEventsNotMaxed(!0)?(com_sas_ci_acs.ob_event_cache.getLocalEventQueue().push(this),com_sas_ci_acs.ob_event_cache.eventInProcess||com_sas_ci_acs.ob_event_cache.processQueuedEvents()):com_sas_ci_acs.ob_util.log("Maximum event limit is reached. No more events will be sent on this page."))};
com_sas_ci_acs.ob_event.prototype.dispatch=function(a){this.add("sndcts",(new Date).getTime());this.createEventData(a);this.data&&0<this.data.length&&com_sas_ci_acs._o_ajax.sendEvent(this.url,this.data,a)};
com_sas_ci_acs.ob_event.prototype.createEventData=function(){if(this.validate()&&!com_sas_ci_acs.webmarketing){this.data="";for(var a in this.dataElements)typeof this.dataElements[a]!=com_sas_ci_acs.ob_util.f&&(0<this.data.length&&(this.data+="&"),this.data+=encodeURIComponent(a)+"="+encodeURIComponent(this.dataElements[a]));this.data=this.excludeDataElements(this.data)}};
com_sas_ci_acs.ob_event.prototype.validate=function(){if(!com_sas_ci_acs.ob_configure.validateEvents)return!0;var a=!0,b=this.get("visitor"),c=this.get("session"),d=this.get("domain"),e=this.get("event");!a||b&&null!=b&&0!=b.length||(a=!1);!a||c&&null!=c&&0!=c.length||(a=!1);!a||d&&null!=c&&0!=d.length||(a=!1);!a||e&&null!=c&&0!=e.length||(a=!1);return a};com_sas_ci_acs.ob_event.prototype.termConfiguration=function(){return{}};com_sas_ci_acs.ob_event.prototype.getTermConfigs=function(){return this.termConfiguration()};
com_sas_ci_acs.ob_event.prototype.getTermConfig=function(a){return this.termConfiguration()[a]};com_sas_ci_acs.ob_event.prototype.findElements=function(a){var b={},c;for(c in a)b[c]="",0<com_sas_ci_acs.ob_util.getElementsBySelector(a[c]).length&&(b[c]="found");return b};com_sas_ci_acs.ob_event.prototype.add=function(a,b){com_sas_ci_acs.ob_util.isUndefined(a)||(com_sas_ci_acs.ob_util.isUndefined(b)&&(b=""),this.dataElements[a]=b)};
com_sas_ci_acs.ob_event.prototype.get=function(a){if(com_sas_ci_acs.ob_util.isUndefined(a)||!a)return null;a=this.dataElements[a];return com_sas_ci_acs.ob_util.isUndefined(a)||!a?null:a};
com_sas_ci_acs.ob_event.prototype.addMeta=function(){for(var a=document.getElementsByTagName("HEAD")[0].getElementsByTagName("META"),b=0;b<a.length;b++){var c=a[b],d=""!=c.name?c.name:""!=c.httpEquiv?c.httpEquiv:""!=c.getAttribute("property")?c.getAttribute("property"):"";typeof c==com_sas_ci_acs.ob_util.f||com_sas_ci_acs.ob_util.isUndefined(d)||""==d||null==d||this.add("meta."+d,c.content)}};
com_sas_ci_acs.ob_event.prototype.addCookies=function(){var a=(new String(document.cookie)).split("; "),b=[];window.ci360Whitelist&&(b=[/^_SI_SID_1.*$/,/^_SI_VID_1.*$/]);var c=[];window.ci360Blacklist&&(c=[/PHP/]);for(var d=0;d<a.length;d++){var e=a[d],f=e.indexOf("="),k="",g="";0<=f&&(k=e.substr(0,f),g=unescape(e.substr(f+1)));f=0<c.length;e=!1;if(0<b.length){f=!1;for(var l=0;l<b.length&&!f;l++)b[l].test(k)&&(f=!0);f&&(e=!0)}else if(f){f=!1;for(l=0;l<c.length&&!f;l++)c[l].test(k)&&(f=!0);f||(e=!0)}else e=
!0;e&&this.add("cookie."+k,g,!0,4)}};com_sas_ci_acs.ob_event.prototype.addJsvars=function(){if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().jsvars){var a=(new com_sas_ci_acs._ob_jsvar_configuration).getConfig();if(a)for(var b in a){var c=a[b];try{this.add("jsvar."+b,com_sas_ci_acs.ob_util.getJsVariable(c))}catch(d){com_sas_ci_acs.ob_util.log(c+" variable will not be reported: "+d)}}}};
com_sas_ci_acs.ob_event.prototype.excludeDataElements=function(a){null==com_sas_ci_acs.ob_util.cachedTermConfiguration&&(com_sas_ci_acs.ob_util.cachedTermConfiguration=this.getTermConfigs());var b=com_sas_ci_acs.ob_util.cachedTermConfiguration.exclude,c;for(c in b)-1!=a.indexOf(b[c])&&(a=a.replace(new RegExp(b[c]+"=[^\\&]*\\&","g"),""));return a};
com_sas_ci_acs._o_ajax=function(){var a=function(a){if(1==a.aborted)com_sas_ci_acs.ob_util.log("o_ajax handleResponse: aborted, eventname = ["+a.oe+"]"),com_sas_ci_acs._o_ajax.cancelTimer(a);else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState))com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=undefined, eventname = ["+a.oe+"]");else if(4==a.readyState){com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=4, status = ["+a.status+"],  eventname = ["+a.oe+"]");com_sas_ci_acs._o_ajax.cancelTimer(a);
if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){var b=com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status];void 0===b&&(b=0);b++;com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status]=b;com_sas_ci_acs.ob_configure.updateEventResponses(a.oe,a.status)}k(a)}},b=function(a){if(1==a.aborted)com_sas_ci_acs.ob_util.log("o_ajax handleResponse: aborted, eventname = ["+a.oe+"]"),com_sas_ci_acs._o_ajax.cancelTimer(a);
else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState))com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=undefined, eventname = ["+a.oe+"]");else if(4==a.readyState){com_sas_ci_acs.ob_util.log("o_ajax handleResponse: readyState=4, status = ["+a.status+"],  eventname = ["+a.oe+"]");com_sas_ci_acs._o_ajax.cancelTimer(a);200<=a.status&&300>a.status?(com_sas_ci_acs.ob_event_cache.getLocalEventQueue().pop(!1),com_sas_ci_acs.ob_event_cache.timeoutResendCount=0,com_sas_ci_acs.ob_event_cache.processQueuedEvents(!1)):
com_sas_ci_acs.ob_event_cache.handleCanceledEvent();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?0:com_sas_ci_acs.ob_configure.trackEventResponses){var b=com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status];void 0===b&&(b=0);b++;com_sas_ci_acs.ob_util.eventResponses[a.oe+":"+a.status]=b;com_sas_ci_acs.ob_configure.updateEventResponses(a.oe,a.status)}k(a)}},c=function(a,b,c){com_sas_ci_acs.ob_util.log("o_ajax timeout: oto = ["+a.oto+"], to = ["+c+"] ms, eventname = ["+
a.oe+"]");a.aborted&&(a.aborted=!0);a.abort();if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?0:com_sas_ci_acs.ob_configure.trackCancelledEvents)b=com_sas_ci_acs.ob_util.cancelledEvents[a.oe],void 0===b&&(b=0),b++,com_sas_ci_acs.ob_util.cancelledEvents[a.oe]=b,com_sas_ci_acs.ob_configure.updateCancelledEvents(a.oe)},d=function(a,b,c,d,e){try{var f=new XDomainRequest;f.timeout=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.timeout)?500:com_sas_ci_acs.ob_configure.timeout;
f.onerror=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: ERROR")};f.onload=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: ONLOAD");d(f,e)};f.onprogress=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: PROGRESS")};f.ontimeout=function(){com_sas_ci_acs.ob_util.log("o_ajax_ie8: TIMEOUT")};if(com_sas_ci_acs.ob_util.logging){var g="";if(null!=b){var k=b.indexOf("event=");-1!=k&&(g=b.substring(k+6),k=g.indexOf("&"),-1!=k&&(g=g.substring(0,k)))}f.oe=g;com_sas_ci_acs.ob_util.log("o_ajax.ie8_send data: eventname = ["+
g+"]")}var m=document.URL.toLowerCase();com_sas_ci_acs.ob_util.strStartsWith(m,"http:")&&(a=a.toLowerCase(),a=a.replace("https:","http:").replace(":443/","/"),com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("converted https to http, the new post url is: "+a));if("POST"==c)f.open(c,a),f.send(b);else{var l=null!=b?0<a.indexOf("?")?"&"+b:"?"+b:"";f.open(c,a+l);f.send()}}catch(A){com_sas_ci_acs.ob_util.log("o_ajax.ie8_send(): "+A)}},e=[],f=function(){if(1>e.length)return function(){try{return new (this.XMLHttpRequest||
ActiveXObject)("MSXML2.XMLHTTP.3.0")}catch(l){com_sas_ci_acs.ob_util.log(l)}}();com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("reuse xhr");return e.pop()},k=function(a){com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("release xhr");a.onreadystatechange=function(){};e.push(a)},g=function(b,e,g,k,u,h){com_sas_ci_acs.ob_util.isUndefined(k)&&(k=!0);if(com_sas_ci_acs.ob_util.isUndefined(u)||null==u)u=a;if(com_sas_ci_acs.ob_util.isIE89Browser())d(b,e,g,u,h);else try{var m=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.timeout)?
500:com_sas_ci_acs.ob_configure.timeout,l=f();l.onreadystatechange=function(){u(l,h)};typeof l.onloadend==com_sas_ci_acs.ob_util.f&&(l.onloadend=function(){com_sas_ci_acs.ob_util.log("o_ajax onloadend: eventname = ["+l.oe+"]")});1!=k&&(typeof l.onloadstart==com_sas_ci_acs.ob_util.f?l.onloadstart=function(){l.oto=setTimeout(function(){c(l,b,m)},m);com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+l.oto+"], to = ["+m+"] ms")}:(l.oto=setTimeout(function(){c(l,b,m)},m),com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+
l.oto+"], to = ["+m+"] ms")));var q=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackCancelledEvents)?!1:com_sas_ci_acs.ob_configure.trackCancelledEvents,t=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.trackEventResponses)?!1:com_sas_ci_acs.ob_configure.trackEventResponses;if(com_sas_ci_acs.ob_util.logging||q||t){var A="";if(null!=e){var F=e.indexOf("event=");-1!=F&&(A=e.substring(F+6),F=A.indexOf("&"),-1!=F&&(A=A.substring(0,F)))}l.oe=A}if("POST"==g)l.open(g,b,
k),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),(com_sas_ci_acs.ob_util.sendBodyAsHeaderAll()||com_sas_ci_acs.ob_util.sendBodyAsHeaderLoad()&&e&&-1<e.indexOf("event=load"))&&l.setRequestHeader("X-SI-EventBody",e),1==k&&typeof l.onloadstart==com_sas_ci_acs.ob_util.f&&(l.onloadstart=function(){l.oto=setTimeout(function(){com_sas_ci_acs.ob_util.log("o_ajax async timeout: oto = ["+l.oto+"], to = ["+m+"] ms, eventname = ["+l.oe+"]");l.aborted&&(l.aborted=!0);l.abort();
com_sas_ci_acs.ob_event_cache.handleCanceledEvent()},m);com_sas_ci_acs.ob_util.log("o_ajax setTimeout: oto = ["+l.oto+"], to = ["+m+"] ms")}),com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("o_ajax send data: eventname = ["+A+"], data = ["+e+"]");else{var z=null!=e?b.indexOf("?")?"&"+e:"?"+e:"";l.open(g,b+z,k);com_sas_ci_acs.ob_util.logging&&com_sas_ci_acs.ob_util.log("o_ajax get data: uri = ["+b+"], args = ["+z+"]")}0!=k&&(l.withCredentials=!0);l.send(e)}catch(B){com_sas_ci_acs.ob_event_cache.handleCanceledEvent(),
com_sas_ci_acs.ob_util.log("o_ajax.send() error: "+B)}};return{sendEvent:function(a,c,d){g(a,c,"POST",d,b)},fetchContent:function(a,b,c,d,e){g(a,b,"GET",c,d,e)},deleteContent:function(a,b,c,d,e){g(a,b,"DELETE",c,d,e)},cancelTimer:function(a){a.oto?(com_sas_ci_acs.ob_util.log("o_ajax clearTimer: oto = ["+a.oto+"], eventname = ["+a.oe+"]"),clearTimeout(a.oto),a.oto=null):com_sas_ci_acs.ob_util.log("o_ajax clearTimer: no timer to clear, eventname = ["+a.oe+"]")}}}();com_sas_ci_acs.ob_injector=function(){};
com_sas_ci_acs.ob_injector.prototype.getSpotDefinitions=function(){return{}};com_sas_ci_acs.ob_injector.prototype.getDeferredSpots=function(){return com_sas_ci_acs.ob_util.deferredSpots};com_sas_ci_acs.ob_injector.prototype.getViewId=function(){com_sas_ci_acs.ob_util.viewId||(com_sas_ci_acs.ob_util.viewId=Math.floor(1E12*Math.random()+1));return com_sas_ci_acs.ob_util.viewId};
com_sas_ci_acs.ob_injector.prototype.deferrInjection=function(){var a=this.getDeferredSpots(),b=0;if(a)try{b=Object.keys(a).length}catch(d){b=0;for(var c in a)b++}0<b&&com_sas_ci_acs.ob_util.deferredSpotTryCount++<com_sas_ci_acs.ob_util.maxDeferredSpotTry&&setTimeout(function(){(new com_sas_ci_acs.ob_injector).injectDeferred(!0)},com_sas_ci_acs.ob_util.getDeferredSpotTimeout())};
com_sas_ci_acs.ob_injector.prototype.injectAll=function(){"undefined"!=typeof com_sas_ci_acs.ob_configure.csu&&com_sas_ci_acs.ob_configure.csu&&(this.injectSpots(this.getSpotDefinitions()),this.deferrInjection())};com_sas_ci_acs.ob_injector.prototype.injectDeferred=function(a){this.injectSpots(this.getDeferredSpots());!com_sas_ci_acs.ob_util.isUndefined(a)&&a&&this.deferrInjection()};
com_sas_ci_acs.ob_injector.prototype.injectSpots=function(a){if(!com_sas_ci_acs.webmarketing&&a)if(com_sas_ci_acs.ob_util.loadSpotsInBatch())(new com_sas_ci_acs.ob_inject_batch(a)).injectBatch(this.getViewId());else for(var b in a)(new com_sas_ci_acs.ob_inject(b,a[b])).inject(this.getViewId())};
com_sas_ci_acs.fireIfElementVisible=function(a,b){return function(){if(com_sas_ci_acs.ob_util.isElementInViewport(a)&&!a.spot_visible_fired){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);c.add("eventSource","webmarketing");for(var d in b)c.add(d,b[d]);d=b.spot_id;if(com_sas_ci_acs.ob_util.exists(d)&&com_sas_ci_acs.ob_util_async.virtualSpots[d]){var e=com_sas_ci_acs.ob_util_async.virtualSpots[d].parameters;e&&(e.customid&&c.add("custom_id",e.customid),e.idreference&&
c.add("idreference",e.idreference))}c.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE);e=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(e)&&0<e.length&&c.add("event_uid",e[0]);com_sas_ci_acs.ob_util.spotAttributeSetup(d,c);setTimeout(function(){c.send()},0);a.spot_visible_fired=!0}}};
com_sas_ci_acs.spotClicked=function(a,b){return function(){var a=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CLICKED);a.add("eventSource","webmarketing");for(var d in b)a.add(d,b[d]);d=com_sas_ci_acs.ob_configure.isCollectionEnabled().clickThrough_system_eventid;!com_sas_ci_acs.ob_util.isUndefined(d)&&0<d.length&&a.add("event_uid",d[0]);d=b.spot_id;if(com_sas_ci_acs.ob_util.exists(d)&&com_sas_ci_acs.ob_util_async.virtualSpots[d]){var e=com_sas_ci_acs.ob_util_async.virtualSpots[d].parameters;
e&&(e.customid&&a.add("custom_id",e.customid),e.idreference&&a.add("idreference",e.idreference))}d&&(a.add("spot_id",d),com_sas_ci_acs.ob_util.spotAttributeSetup(d,a));com_sas_ci_acs.ob_util.isSafariBrowser()?a.send(!1):setTimeout(function(){a.send()},0)}};
var Hashcode={encode:function(a){var b=0,c;if(0==a.length)return b;var d=0;for(c=a.length;d<c;d++){var e=a.charCodeAt(d);b=(b<<5)-b+e;b|=0}return Math.abs(b)}},GeneralBase64={_PADCHAR:"=",_ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_getbyte64:function(a,b){a=this._ALPHA.indexOf(a.charAt(b));if(-1===a)throw"Cannot decode base64";return a},decode:function(a){var b=0,c,d=a.length,e=[];a=String(a);if(window.atob)return atob(a);if(0===d)return a;if(0!==d%4)throw"Cannot decode base64";
a.charAt(d-1)===this._PADCHAR&&(b=1,a.charAt(d-2)===this._PADCHAR&&(b=2),d-=4);for(c=0;c<d;c+=4){var f=GeneralBase64._getbyte64(a,c)<<18|GeneralBase64._getbyte64(a,c+1)<<12|GeneralBase64._getbyte64(a,c+2)<<6|GeneralBase64._getbyte64(a,c+3);e.push(String.fromCharCode(f>>16,f>>8&255,f&255))}switch(b){case 1:f=GeneralBase64._getbyte64(a,c)<<18|GeneralBase64._getbyte64(a,c+1)<<12|GeneralBase64._getbyte64(a,c+2)<<6;e.push(String.fromCharCode(f>>16,f>>8&255));break;case 2:f=GeneralBase64._getbyte64(a,c)<<
18|GeneralBase64._getbyte64(a,c+1)<<12,e.push(String.fromCharCode(f>>16))}return e.join("")},_getbyte:function(a,b){a=a.charCodeAt(b);if(255<a)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return a},encode:function(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);if(window.btoa)return btoa(a);var b,c=[],d=a.length-a.length%3;if(0===a.length)return a;for(b=0;b<d;b+=3){var e=GeneralBase64._getbyte(a,b)<<16|GeneralBase64._getbyte(a,b+1)<<8|GeneralBase64._getbyte(a,
b+2);c.push(this._ALPHA.charAt(e>>18));c.push(this._ALPHA.charAt(e>>12&63));c.push(this._ALPHA.charAt(e>>6&63));c.push(this._ALPHA.charAt(e&63))}switch(a.length-d){case 1:e=GeneralBase64._getbyte(a,b)<<16;c.push(this._ALPHA.charAt(e>>18)+this._ALPHA.charAt(e>>12&63)+this._PADCHAR+this._PADCHAR);break;case 2:e=GeneralBase64._getbyte(a,b)<<16|GeneralBase64._getbyte(a,b+1)<<8,c.push(this._ALPHA.charAt(e>>18)+this._ALPHA.charAt(e>>12&63)+this._ALPHA.charAt(e>>6&63)+this._PADCHAR)}return c.join("")}},
Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.-=",encode:function(a){var b="",c=0;for(a=Base64._utf8_encode(a);c<a.length;){var d=a.charCodeAt(c++);var e=a.charCodeAt(c++);var f=a.charCodeAt(c++);var k=d>>2;d=(d&3)<<4|e>>4;var g=(e&15)<<2|f>>6;var l=f&63;isNaN(e)?g=l=64:isNaN(f)&&(l=64);b=b+this._keyStr.charAt(k)+this._keyStr.charAt(d)+this._keyStr.charAt(g)+this._keyStr.charAt(l)}return b},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=
a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}};function getDecisionParams(a){var b=null;if(null!=a&&null!=spotMap)for(var c in spotMap)spotMap.hasOwnProperty(c)&&c==a&&(b=spotMap[c]);return b}var spotMap={};com_sas_ci_acs.ob_inject_batch=function(a){this.spots=a;this.elements=[]};
com_sas_ci_acs.ob_inject_batch.prototype.populateSpotParams=function(a,b,c){var d=a.divId;if(d){var e="",f=null;try{f=com_sas_ci_acs.ob_util.getElementsBySelector(d)[0]}catch(t){com_sas_ci_acs.ob_util.log(t)}if(null!=f){var k=a.service;if(!com_sas_ci_acs.ob_util.isUndefined(k.p))for(var g in k.p)if("domain"!==g&&"customerid"!==g&&"sessionid"!==g){var l=k.p[g];com_sas_ci_acs.ob_util.isUndefined(l)||null==l||"null"==l||(e+="/"+g+"="+l)}k=a.spot_properties;if(com_sas_ci_acs.ob_util.isUndefined(k)||!k||
com_sas_ci_acs.ob_util.propertyMatch(k,com_sas_ci_acs.ob_util.getLoadEventInstance())){g=a.spot_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(g)&&g){k=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_ATTRIBUTES);k.dataElements={};com_sas_ci_acs.ob_util.customAttributeSetup(g,k,null,new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));for(var q in k.dataElements)g=Base64.encode(k.dataElements[q].trim()),l=k.dataElements[q].trim(),g=g.replace(/=/g,""),"product_id"==
q||"product_sku"==q?(q+="_key",e+="/"+q+"="+l):e+="/"+q+"="+g}a=a.spot_set_id;if(!com_sas_ci_acs.ob_util.isUndefined(a))for(;0<a.length;){c=Hashcode.encode(a[0]+c);break}e+="/viewid="+c;spotMap[d]=e;f.spotid=b;this.registerCustomerSpotDelivery(b,d);com_sas_ci_acs.ob_util.deferredSpots[b]&&delete com_sas_ci_acs.ob_util.deferredSpots[b];return[e,f]}}else return com_sas_ci_acs.ob_util.deferredSpots[b]=a,null}};
com_sas_ci_acs.ob_inject_batch.prototype.registerCustomerSpotDelivery=function(a,b){"undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_util_async.registerSpot(a,b,function(a,b){a=new CustomEvent("spotReady",{detail:'{"spotid":"'+a+'","taskid":"'+b.taskid+'","creativeid":"'+b.creativeid+'","customid":"'+b.customid+'","productid":"'+b.productid+'","productsku":"'+b.productsku+'","controlgroup":"'+b.controlgroup+
'","variantid":"'+b.variantid+'","selector":"'+b.selector+'","url":"'+b.spotURL+'","idreference":"'+b.idreference+'","content":"'+b.spotContent+'"}'});document.dispatchEvent(a)},null,[])};
com_sas_ci_acs.ob_inject_batch.prototype.injectBatch=function(a){var b=com_sas_ci_acs.ob_configure.csu.replace("hserver","bserverj");b+="/ball";com_sas_ci_acs.ob_configure.getDomain()&&(b+="/domain="+com_sas_ci_acs.ob_configure.getDomain());com_sas_ci_acs.ob_configure.getDatahubId()&&(b+="/customerid="+com_sas_ci_acs.ob_configure.getDatahubId());com_sas_ci_acs.ob_configure.getSessionId()&&(b+="/sessionid="+com_sas_ci_acs.ob_configure.getSessionId());b+="/hint=x";var c=0,d;for(d in this.spots)if(b.length<
com_sas_ci_acs.ob_util.maxUrlSize){var e=this.populateSpotParams(this.spots[d],d,a);e&&1<e.length&&(b+="/b"+ ++c+e[0],this.elements[d]=e[1])}else com_sas_ci_acs.ob_util.deferredSpots[d]=this.spots[d];c&&com_sas_ci_acs._o_ajax.fetchContent(b,null,!0,this.handleInjectResponseBatch,this.elements)};
com_sas_ci_acs.ob_inject_batch.prototype.handleInjectResponseBatch=function(a,b){if(1==a.aborted)com_sas_ci_acs._o_ajax.cancelTimer(a);else if(com_sas_ci_acs.ob_util.isUndefined(a.readyState)&&(a.readyState=4,a.status=200),4==a.readyState&&200==a.status&&!com_sas_ci_acs.ob_util.isUndefined(a.response)&&a.response){try{var c=JSON.parse(a.response)}catch(e){c=eval(a.response)}a=0;for(var d in b)(new com_sas_ci_acs.ob_inject).handleInjectResponse(c[a++],b[d])}};
com_sas_ci_acs.ob_inject=function(a,b){this.spotId=a;this.spot=b};
com_sas_ci_acs.ob_inject.prototype.inject=function(a){var b=this.spot.divId;if(b){var c="",d=null;try{d=com_sas_ci_acs.ob_util.getElementsBySelector(b)[0]}catch(t){com_sas_ci_acs.ob_util.log(t)}if(null!=d){com_sas_ci_acs.ob_util.log("inject(spot="+this.spotId+") into HTML div "+b);var e=this.spot.service,f=com_sas_ci_acs.ob_configure.csu;if(!com_sas_ci_acs.ob_util.isUndefined(e.p)){var k=!0;for(q in e.p){var g=e.p[q];com_sas_ci_acs.ob_util.isUndefined(g)||null==g||"null"==g||(c+=(k?"?":"&")+q+"="+
g,k=!1)}}com_sas_ci_acs.ob_configure.getSessionId()&&(c+=(k?"?":"&")+"sessionid="+com_sas_ci_acs.ob_configure.getSessionId());e=this.spot.spot_properties;if(com_sas_ci_acs.ob_util.isUndefined(e)||!e||com_sas_ci_acs.ob_util.propertyMatch(e,com_sas_ci_acs.ob_util.getLoadEventInstance())){k=this.spot.spot_attributes;if(!com_sas_ci_acs.ob_util.isUndefined(k)&&k){e=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_ATTRIBUTES);e.dataElements={};com_sas_ci_acs.ob_util.customAttributeSetup(k,
e,null,new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.LOAD));for(var l in e.dataElements){k=Base64.encode(e.dataElements[l].trim());var q=e.dataElements[l].trim();k=k.replace(/=/g,"");"product_id"==l||"product_sku"==l?(l+="_key",c+="/"+l+"="+q):c+="/"+l+"="+k}}l=this.spot.spot_set_id;if(!com_sas_ci_acs.ob_util.isUndefined(l))for(;0<l.length;){a=Hashcode.encode(l[0]+a);break}c+="/viewid="+a;spotMap[b]=c;f=f+c+"/hint=x";d.spotid=this.spotId;"undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&
com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_util_async.registerSpot(this.spotId,b,function(a,b){a=new CustomEvent("spotReady",{detail:'{"spotid":"'+a+'","taskid":"'+b.taskid+'","creativeid":"'+b.creativeid+'","customid":"'+b.customid+'","productid":"'+b.productid+'","productsku":"'+b.productsku+'","controlgroup":"'+b.controlgroup+'","variantid":"'+b.variantid+'","selector":"'+b.selector+'","url":"'+b.spotURL+'","idreference":"'+b.idreference+'","content":"'+b.spotContent+'"}'});
document.dispatchEvent(a)},null,[]);com_sas_ci_acs._o_ajax.fetchContent(f,null,!0,this.handleInjectResponse,d);com_sas_ci_acs.ob_util.deferredSpots[this.spotId]&&delete com_sas_ci_acs.ob_util.deferredSpots[this.spotId]}}else com_sas_ci_acs.ob_util.log("inject(spot="+this.spotId+"): HTML div["+b+"] not found"),com_sas_ci_acs.ob_util.deferredSpots[this.spotId]=this.spot}};
function loadDoc(a,b){try{var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.innerHTML=c.responseText)};c.open("GET",a,!0);c.send()}catch(d){com_sas_ci_acs.ob_util.log("Error while loading document: "+a+" error:"+d)}}function extractValue(a){return com_sas_ci_acs.ob_util.isUndefined(a)?null:"object"===typeof a?com_sas_ci_acs.ob_util.isUndefined(a.value)?null:a.value:a}
var dataTagToEventMap={taskid:"task_id",creativeid:"creative_id",productid:"product_id",productsku:"product_sku",control:"is_control_group","context-url":"context_url",recgroup:"rec_group"};
function handleInjectResponse(a,b){if("object"===typeof a){var c=a.responseText;var d=!0}else c=a,d=!1;var e="undefined"!==typeof com_sas_ci_acs.ob_configure.customerSpotDelivery&&com_sas_ci_acs.ob_configure.customerSpotDelivery;if(d&&1==a.aborted)com_sas_ci_acs._o_ajax.cancelTimer(a);else if(d&&com_sas_ci_acs.ob_util.isUndefined(a.readyState)&&(a.readyState=4,a.status=200),!d||4==a.readyState)if(d&&com_sas_ci_acs._o_ajax.cancelTimer(a),!(d&&200!=a.status||com_sas_ci_acs.ob_util.isUndefined(c))&&
c&&null!==b){var f={};try{var k=(new window.DOMParser).parseFromString(c,"text/html");var g=k.getElementsByTagName("data");if(com_sas_ci_acs.ob_util.exists(g))for(var l=0;l<g.length;l++){var q=g[l].attributes;if(0<q.length){var t=q[0].name.toLowerCase(),m=extractValue(q[0]);0===t.indexOf("data-")&&(t=t.slice(5,t.length));com_sas_ci_acs.ob_util.exists(dataTagToEventMap[t])?f[dataTagToEventMap[t]]=m:f[t]=m}}}catch(D){com_sas_ci_acs.ob_util.log("Error while sending generic event: "+D)}if(com_sas_ci_acs.ob_util.exists(f.creative_id)){g=
b;e||("DIV"==b.tagName?(b.innerHTML=c,b.style.visibility="visible"):(g=document.createElement("div"),g.innerHTML=c,null!=b.parentNode&&b.parentNode.replaceChild(g,b),b.style.visibility="visible"),0<k.getElementsByTagName("body").length&&(k=k.getElementsByTagName("body")[0].childNodes[0].nodeValue)&&0==k.indexOf("http")&&loadDoc(k,g),com_sas_ci_acs.ob_util.exists(f.context_url)&&loadDoc(f.context_url,g));com_sas_ci_acs.ob_util.exists(b)&&(f.spot_id=b.spotid);var u=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE);
u.add("eventSource","webmarketing");for(var h in f)u.add(h,f[h]);if(com_sas_ci_acs.ob_util.exists(e)&&com_sas_ci_acs.ob_util.exists(com_sas_ci_acs.ob_util_async.virtualSpots[f.spot_id])){if(com_sas_ci_acs.ob_util.exists(b.className)&&com_sas_ci_acs.ob_util.exists(com_sas_ci_acs.ob_configure.virtualSpotsClassId)){var r=com_sas_ci_acs.ob_configure.virtualSpotClassId.substr(1)+"-id-";if(-1!==b.className.indexOf(r))for(b=b.className.split(" "),e=0;e<b.length;e++)if(k=b[e],-1!=k.indexOf(r)){f.custom_id=
k.substr(r.length);break}}b=c.match(/<idreference[^>]*>((.|[\n\r])*)<\/idreference>/im);f.id_reference=b&&b[1]?b[1]:"";var v=JSON.parse(JSON.stringify(f));f=new RegExp(/-|_/);for(h in v)v.hasOwnProperty(h)&&f.test(h)&&(v[h.replace(f,"")]=v[h],delete v[h]);com_sas_ci_acs.ob_util.exists(v.control)&&(v.controlgroup=v.control,delete v.control);d&&(v.spotURL=a.responseURL);v.selector=com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].selector;v.spotContent=encodeURIComponent(c);com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].parameters=
v;a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;c=com_sas_ci_acs.ob_util.getElementsBySelector(com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].selector);for(d=0;d<c.length;d++)com_sas_ci_acs.ob_util.exists(a)&&(h=new a(function(){return function(a){com_sas_ci_acs.ob_util.virtualSpotObserver(a,com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].spot_id,com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].selector,com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].parameters)}}()),
com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].observers[d]=h,h.observe(c[d],{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}));com_sas_ci_acs.ob_util_async.virtualSpots[v.spotid].callback(v.spotid,v)}else if(u.add("eventname",com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION),com_sas_ci_acs.ob_util.spotAttributeSetup(f.spot_id,u),setTimeout(function(){u.send()},0),com_sas_ci_acs.spotClickedHandler=com_sas_ci_acs.spotClicked(g,f),com_sas_ci_acs.ob_configure.w3c?
g.addEventListener("click",com_sas_ci_acs.spotClickedHandler,!1):g.attachEvent("onclick",com_sas_ci_acs.spotClickedHandler),com_sas_ci_acs.ob_util.isElementInViewport(g)){a=JSON.parse(JSON.stringify(f));var y=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE);y.add("eventSource","webmarketing");com_sas_ci_acs.ob_util.exists(b)&&(a.spot_id=b.spotid);a.eventname=com_sas_ci_acs.ob_event.EventNameEnum.IMPRESSION_VIEWABLE;c=com_sas_ci_acs.ob_configure.isCollectionEnabled().impression_system_eventid;
com_sas_ci_acs.ob_util.exists(c)&&0<c.length&&(a.event_uid=c[0]);for(r in a)y.add(r,a[r]);com_sas_ci_acs.ob_util.spotAttributeSetup(a.spot_id,y);setTimeout(function(){y.send()},0)}else a=com_sas_ci_acs.fireIfElementVisible(g,f),window.addEventListener&&(addEventListener("DOMContentLoaded",a,!1),addEventListener("load",a,!1),addEventListener("scroll",a,!1),addEventListener("resize",a,!1))}else e||(b.style.visibility="visible")}}com_sas_ci_acs.ob_inject.prototype.handleInjectResponse=handleInjectResponse;
"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var windowFocused=function(){com_sas_ci_acs.ob_util.windowHasFocus=!0;com_sas_ci_acs.ob_event_cache.windowFocused()},windowBlured=function(){com_sas_ci_acs.ob_util.windowHasFocus=!1};window.addEventListener("focus",windowFocused);window.addEventListener("blur",windowBlured);
com_sas_ci_acs.ob_event_cache={localQueue:null,QUEUE_KEY_PREFIX:"_cievq_",LOADID_KEY_PREFIX:"_ciawlid_",LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage",maxTimeoutResendCount:4,timeoutResendCount:0,queueProcessingInitiated:!1,eventInProcess:!1,storageType:function(){return this.SESSION_STORAGE},getBrowserStorage:function(){return window[this.storageType()]},getLocalEventQueue:function(){null==this.localQueue&&(this.localQueue=new LocalQueue(this.QUEUE_KEY_PREFIX+com_sas_ci_acs.ob_util.account));
return this.localQueue},windowFocused:function(){this.isWindowActive()||(this.setCurrentWindowActive(),this.processQueuedEvents())},isWindowActive:function(){if(this.storageType()==this.SESSION_STORAGE)return!0;var a=this.LOADID_KEY_PREFIX+com_sas_ci_acs.ob_util.account;a=this.getBrowserStorage().getItem(a);return com_sas_ci_acs.ob_util.notBlank(a)?a==com_sas_ci_acs.ob_configure.getLoadId():!1},setCurrentWindowActive:function(){if(this.storageType()!=this.SESSION_STORAGE){var a=this.LOADID_KEY_PREFIX+
com_sas_ci_acs.ob_util.account;this.getBrowserStorage().setItem(a,com_sas_ci_acs.ob_configure.getLoadId())}},stringifyEvent:function(a){var b={dataElements:{},event:"",data:"",url:""},c={},d;for(d in a.dataElements)c[d]=a.dataElements[d];b.dataElements=c;b.event=a.event;b.data=a.data;b.url=a.url;return JSON.stringify(b)},parseEvent:function(a){a=JSON.parse(a);var b=new com_sas_ci_acs.ob_event,c;for(c in a)b[c]=a[c];return b},handleCanceledEventImediate:function(){this.timeoutResendCount<this.maxTimeoutResendCount?
this.timeoutResendCount++:(this.getLocalEventQueue().pop(!1),this.timeoutResendCount=0);this.processQueuedEvents(!1)},handleCanceledEvent:function(){setTimeout(function(){com_sas_ci_acs.ob_event_cache.handleCanceledEventImediate()},1E3*(this.timeoutResendCount+1))},handleDatahubIdResponse:function(a){1==a.aborted?com_sas_ci_acs._o_ajax.cancelTimer(a):4==a.readyState&&200==a.status&&!com_sas_ci_acs.ob_util.isUndefined(a.response)&&a.response&&(a=a.response)&&/^([0-9]|[a-z]|-){32,64}$/.test(a)&&com_sas_ci_acs.ob_boot&&
"function"===typeof com_sas_ci_acs.ob_boot.setDatahubId&&com_sas_ci_acs.ob_boot.setDatahubId(a)},updateDatahubId:function(){try{com_sas_ci_acs._o_ajax.fetchContent(com_sas_ci_acs.ob_util.getDataHubCallUrl(),null,!0,this.handleDatahubIdResponse,null)}catch(a){com_sas_ci_acs.ob_util.log("Error while updating DatahubId. "+a)}},processQueuedEvents:function(a){com_sas_ci_acs.ob_util.exists(a)&&(this.eventInProcess=a);var b=null;this.queueProcessingInitiated||(this.queueProcessingInitiated=!0,this.setCurrentWindowActive());
this.isWindowActive()&&(b=this.getLocalEventQueue().getFront())&&!this.eventInProcess&&(this.eventInProcess=!0,setTimeout(function(){b.dispatch()},0),com_sas_ci_acs.ob_util.isIdEvent(b)&&setTimeout(function(){com_sas_ci_acs.ob_event_cache.updateDatahubId()},com_sas_ci_acs.ob_util.datahubIdUpdateDelay))}};
var LocalQueue=function(a){function b(a){var b=com_sas_ci_acs.ob_event_cache.getBrowserStorage().getItem(a);return b&&null!=b?b:(com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,""),"")}if(!a)return null;var c={},d=com_sas_ci_acs.ob_util.isIEBrowser()?String.fromCharCode(127):String.fromCharCode(31),e=b(a)?b(a).split(d).length:0;c.size=function(){return e};c.push=function(c){try{var f=com_sas_ci_acs.ob_event_cache.stringifyEvent(c),g=b(a);g=""==g?g+f:g+(d+f);com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,
g);e++}catch(l){return!1}return!0};c.pop=function(c){try{var f=b(a),g=f.indexOf(d);if(-1<g){var l=f.substr(0,g);f=f.substr(g+1);com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,f);e--;return c?com_sas_ci_acs.ob_event_cache.parseEvent(l):null}return 0<f.length?(com_sas_ci_acs.ob_event_cache.getBrowserStorage().setItem(a,""),e=0,c?com_sas_ci_acs.ob_event_cache.parseEvent(f):null):null}catch(q){return null}};c.getFront=function(){try{var c=b(a),e=c.indexOf(d);if(-1<e){var g=c.substr(0,e);
return com_sas_ci_acs.ob_event_cache.parseEvent(g)}return 0<c.length?com_sas_ci_acs.ob_event_cache.parseEvent(c):null}catch(l){return null}};return c};
com_sas_ci_acs.api_engine=function(){function a(a,b){var c={reject_undefined:!1,allow_override:!1,max_event_per_interval:100,types:["string"],regex:".*",required:!1};return com_sas_ci_acs.ob_util.exists(a)?a:c[b]}function b(a){return"undefined"!=typeof a&&null!=a}function c(c){if(b(c.event)&&b(t[c.event])){var d=[];for(l in t[c.event]){var e=t[c.event][l];if("object"===typeof e){b(e.group)&&(d[e.group]?e.group_min&&(d[e.group].min=Math.max(d[e.group].min,e.group_min)):(d[e.group]=[],d[e.group].found=
0,d[e.group].min=e.group_min?e.group_min:0));var f=c[l];f=b(f)&&"object"===typeof f?f.value:f;if(b(f)){for(var g=a(e.types,"types"),k=!1,m=0;m<g.length;m++)if(typeof f===g[m]){k=!0;break}if(!k)return"invalid type: "+typeof f;g=new RegExp(a(e.regex,"regex"));if(!g.test(f))return"regex failure, does not match: "+g;b(e.group)&&d[e.group].found++}else if(a(e.required,"required")&&!b(e.default_value))return'value required for property "'+l+'" but not provided'}}if(c.event===com_sas_ci_acs.ob_event.EventNameEnum.CHANGE){var l=
new RegExp(com_sas_ci_acs.ob_util.regularExpressions.formFieldChanges);for(var q in c)if(l.test(q)&&(f=c[q],e=b(f)&&"object"===typeof f?f.value:f,!(new RegExp(com_sas_ci_acs.ob_util.regularExpressions.integer)).test(e)))return"value must be an integer: "+e}if(c.event===com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION&&"remove"===c.action&&"cartview"!==c.cart_type&&"checkout"!==c.cart_type)return'cart_type required to be "cartview" or "checkout"';for(var z in d)if(d[z].min>d[z].found)return"group minimum not satisfied for group: "+
z}return com_sas_ci_acs.ob_util.SUCCESS}function d(a){try{var b=f(a);b.event&&null!=b.event&&setTimeout(function(){b.event.send()},0);return b.message}catch(h){return"Error while sending event. "+h}}function e(a,b){try{var c=f(a);if(c.event&&null!=c.event){if("spot-click"===b){var d=c3.ob_configure.isCollectionEnabled().clickThrough_system_eventid;!c3.ob_util.isUndefined(d)&&0<d.length&&c.event.add("event_uid",d[0])}else"spot-view"===b&&(d=c3.ob_configure.isCollectionEnabled().impression_system_eventid,
!c3.ob_util.isUndefined(d)&&0<d.length&&c.event.add("event_uid",d[0]));setTimeout(function(){c.event.send()},0)}return c.message}catch(v){return"Error while sending spot event. "+v}}function f(c){var d={};try{var e=c.event,f=t[e],g=new com_sas_ci_acs.ob_event(e,null);g.add("initiator","api");e=null;var k=1,l=!1,m;for(m in c)if(l=!1,c.hasOwnProperty(m)){if("object"===typeof c[m]){var q=c[m].value;b(q)&&c[m].obscured&&(q=CryptoJS.SHA384(com_sas_ci_acs.ob_util.toLowerCase(q)+com_sas_ci_acs.ob_util.account).toString(),
l=!0)}else q=c[m];e=f.hasOwnProperty(m)&&b(f[m].internal_name)?f[m].internal_name:m;!f.hasOwnProperty(m)&&a(f.reject_undefined,"reject_undefined")||!a(f.allow_override,"allow_override")&&null!=g.get(e)||!b(q)||(g.add(e,q),l&&g.add("ffobscure."+k++,e))}for(var z in f){var B=f[z].default_value;e=b(f[z].internal_name)?f[z].internal_name:z;b(B)&&null==g.get(e)&&g.add(e,B)}d.event=g;d.message=com_sas_ci_acs.ob_util.SUCCESS;return d}catch(H){return d.message="Error while poulating event. "+H,d}}function k(a){if(a.event===
com_sas_ci_acs.ob_event.EventNameEnum.CART){var b=a.items;for(var d=new com_sas_ci_acs.ob_cart.contents,e=0;e<b.length;e++)d.addContent(b[e]);if("undefined"!==typeof d&&null!==d){b=d.getItems();for(e=0;e<b.length;e++){var f=JSON.parse(JSON.stringify(b[e]));f.event=com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM;f=c(f);if(f!==com_sas_ci_acs.ob_util.SUCCESS)return a="cartItem invalid: "+f,com_sas_ci_acs.ob_util.log(a),a}b=com_sas_ci_acs.ob_cart.cartDetailsGeneric(a);e=new com_sas_ci_acs.ob_cart.details;
e.addDetails(b);com_sas_ci_acs.ob_cart.sendCartEvent(a.cart_id,a.cart_name,a.cart_type,e,d,"generic_api");return com_sas_ci_acs.ob_util.SUCCESS}}else{if(a.event===com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM)return com_sas_ci_acs.ob_util.SUCCESS;a="invalid event";com_sas_ci_acs.ob_util.log(a);return a}}var g=0,l=0,q={custom:{epoch:0,count:0},spot_change:{epoch:0,count:0},spot_viewable:{epoch:0,count:0},spot_clicked:{epoch:0,count:0},click:{epoch:0,count:0},jsvarchange:{epoch:0,count:0},contentchange:{epoch:0,
count:0},submit:{epoch:0,count:0},change:{epoch:0,count:0},IdentityEvent:{epoch:0,count:0},media:{epoch:0,count:0},cart:{epoch:0,count:0},cartaction:{epoch:0,count:0},logout:{epoch:0,count:0}},t={spot_change:{max_event_per_interval:200,eventname:{required:!0,default_value:"impression"},spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},spot_viewable:{max_event_per_interval:200,eventname:{required:!0,default_value:"impression_viewable"},
spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},spot_clicked:{max_event_per_interval:50,spot_id:{required:!0},variant_id:{},creative_id:{required:!0},task_id:{required:!0},eventSource:{default_value:"webmarketing"}},click:{max_event_per_interval:50,referrer:{},element_tag_name:{internal_name:"elementTagName"},elementTagName:{},anchor_id:{types:["string","number"]},anchor_name:{},anchor_href:{},location:{},target_selector_path:{internal_name:"targetSelectorPath"},
targetSelectorPath:{},target_inner_text:{internal_name:"targetInnerText"},targetInnerText:{},on_click:{internal_name:"onclick"},onclick:{},title:{},port:{types:["number","string"]},protocol:{required:!0,default_value:"http"}},submit:{max_event_per_interval:4,location:{},referrer:{},uri:{},form_o_id:{internal_name:"form._o.id"},"form._o.id":{},form_h_id:{internal_name:"form._h.id"},"form._h.id":{},form_h_name:{types:["number","string"],internal_name:"form._h.name"},"form._h.name":{types:["number",
"string"]},ff_obscure_1:{internal_name:"ffobscure.1"},"ffobscure.1":{}},change:{form_o_id:{required:!0,internal_name:"form._o.id"},form_o_attempts:{types:["number","string"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.integer,internal_name:"form._o.attempts"}},jsvarchange:{max_event_per_interval:50,name:{required:!0},action:{required:!0,default_value:"update",regex:"^add$|^update$"},old_value:{types:["string","number"],internal_name:"oldvalue"},oldvalue:{types:["string","number"]},
new_value:{types:["string","number"],internal_name:"newvalue",group:"newValueGroup",group_min:1},newvalue:{types:["string","number"],group:"newValueGroup",group_min:1}},IdentityEvent:{max_event_per_interval:50,eventname:{default_value:"IdentityEvent",regex:"^IdentityEvent$"},login_event:{required:!0},login_event_type:{required:!0,regex:"^email_id$|^login_id$|^customer_id$"},eventSource:{default_value:"webmarketing",regex:"^webmarketing$"},protocol:{},port:{types:["string","number"]}},custom:{max_event_per_interval:50},
media:{max_event_per_interval:50,player_id:{required:!0},media:{required:!0,regex:"^.{0,260}$"},media_player:{types:["string","number"],regex:"^.{0,30}$"},media_position:{types:["string","number"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.integer},media_duration:{types:["string","number"],required:!0,regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},media_action:{types:["string"],required:!0,regex:"^start$|^stop$|^end$|^playing$"}},contentchange:{max_event_per_interval:50,
target_selector:{internal_name:"targetselector",group:"targetSelectorGroup",group_min:1},targetselector:{group:"targetSelectorGroup",group_min:1},target_name:{internal_name:"targetname",group:"targetNameGroup",group_min:1},targetname:{group:"targetNameGroup",group_min:1},target_id:{types:["string","number"],internal_name:"targetid"},targetid:{types:["string","number"]},target_type:{regex:"^attribute$|^childremove$|^childadd$",internal_name:"targettype"},targettype:{regex:"^attribute$|^childremove$|^childadd$"},
attribute_name:{internal_name:"attributename"},attributename:{},old_value:{internal_name:"oldvalue"},oldvalue:{},new_value:{internal_name:"newvalue"},newvalue:{},event_id:{},event_uid:{internal_name:"eventuid"},eventuid:{},event_source:{internal_name:"eventSource"},eventSource:{}},cart:{max_event_per_interval:50,cart_type:{required:!0,regex:"^cartview$|^checkout$|^purchase$"},cart_id:{types:["string","number"],required:!0,regex:"^.{0,42}$"},order_id:{types:["string","number"]},cart_name:{required:!0},
billing_city:{regex:"^.{0,390}$"},billing_country:{regex:"^.{0,85}$"},billing_postcode:{regex:"^.{0,10}$"},billing_region:{regex:"^.{0,256}$"},delivery_type:{regex:"^.{0,42}$"},payment_type:{regex:"^.{0,42}$"},shipping_city:{regex:"^.{0,390}$"},shipping_cost:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},shipping_country:{regex:"^.{0,85}$"},shipping_postcode:{regex:"^.{0,10}$"},shipping_region:{regex:"^.{0,256}$"},tax:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},
total_cart_value:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},items:{types:["object"]}},cartaction:{max_event_per_interval:50,product_id:{types:["string","number"],group:"productGroup",regex:"^.{0,130}$",group_min:1},product_sku:{types:["string","number"],group:"productGroup",regex:"^.{0,100}$",group_min:1},product_name:{group:"productGroup",regex:"^.{0,130}$",group_min:1},action:{required:!0,regex:"^add$|^addFailed$|^update$|^remove$"},cart_id_internal:{types:["string",
"number"],group:"cartGroup",regex:"^.{0,42}$",group_min:1},cart_id:{types:["string","number"],group:"cartGroup",group_min:1},cart_name:{group:"cartGroup",group_min:1},cart_type:{regex:"^cartview$|^checkout$"}},cartitem:{max_event_per_interval:50,product_id:{types:["string","number"],group:"cartItemGroup",regex:"^.{0,130}$",group_min:1},product_name:{group:"cartItemGroup",regex:"^.{0,130}$",group_min:1},product_sku:{types:["string","number"],group:"cartItemGroup",regex:"^.{0,100}$",group_min:1},product_quantity:{types:["string",
"number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},product_unit_price:{types:["string","number"],regex:com_sas_ci_acs.ob_util.regularExpressions.decimal},product_group:{regex:"^.{0,130}$"},availability_message:{regex:"^.{0,650}$"},shipping_message:{regex:"^.{0,650}$"},savings_message:{regex:"^.{0,650}$"}},logout:{}};return{i:function(b,f,h){if("event"===b)if(h&&h.event)if(b=c(h),b===com_sas_ci_acs.ob_util.SUCCESS){a:{b=h.event;if(q[b]&&"undefined"!==typeof q[b].epoch&&"undefined"!==
typeof q[b].count&&(f=(new Date).getTime(),6E4<f-l&&(l=f,g=0),6E4<f-q[b].epoch&&(q[b].epoch=f,q[b].count=0),a(t[b].max_event_per_interval,"max_event_per_interval")>q[b].count&&500>g)){q[b].count++;g++;b=!0;break a}b=!1}if(b)switch(h.event){case com_sas_ci_acs.ob_event.EventNameEnum.JS_VAR_CHANGE:case com_sas_ci_acs.ob_event.EventNameEnum.CLICK:case com_sas_ci_acs.ob_event.EventNameEnum.SUBMIT:case com_sas_ci_acs.ob_event.EventNameEnum.CONTENT_CHANGE:case com_sas_ci_acs.ob_event.EventNameEnum.MEDIA:case com_sas_ci_acs.ob_event.EventNameEnum.IDENTITY_EVENT:case com_sas_ci_acs.ob_event.EventNameEnum.CUSTOM:case com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION:case com_sas_ci_acs.ob_event.EventNameEnum.CHANGE:return d(h);
case com_sas_ci_acs.ob_event.EventNameEnum.LOGOUT:try{if(h.event===com_sas_ci_acs.ob_event.EventNameEnum.LOGOUT){com_sas_ci_acs._o_ajax.deleteContent(com_sas_ci_acs.ob_util.getDataHubCallUrl(),null,!0,com_sas_ci_acs.ob_event_cache.handleDatahubIdResponse,null);var m=com_sas_ci_acs.ob_util.SUCCESS}else m="Invalid event."}catch(v){m="Error while sending logout event. "+v}return m;case com_sas_ci_acs.ob_event.EventNameEnum.CART:return k(h);case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CHANGE:return e(h);
case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_VIEWABLE:return e(h,"spot-view");case com_sas_ci_acs.ob_event.EventNameEnum.SPOT_CLICKED:return e(h,"spot-click");default:return h="Event type not recognized",com_sas_ci_acs.ob_util.log(h),h}else return h="Maximum limit has been reached.",com_sas_ci_acs.ob_util.log(h),h}else return h="Validation failed for event: "+h.event+", "+b,com_sas_ci_acs.ob_util.log(h),h;else return h="Event is not valid",com_sas_ci_acs.ob_util.log(h),h;else return h=b+" is not a valid type.",
com_sas_ci_acs.ob_util.log(h),h}}}();
com_sas_ci_acs.ob_cart_api=function(){return{isReady:function(){return"undefined"!==typeof com_sas_ci_acs.ob_configure.getLoadId()&&0<com_sas_ci_acs.ob_configure.getLoadId().length},sendCart:function(a,b,c,d,e){com_sas_ci_acs.ob_cart.sendCartEvent(a,b,c,d,e,"api")},cartDetails:function(){return new com_sas_ci_acs.ob_cart.details},cartContents:function(){return new com_sas_ci_acs.ob_cart.contents},add:function(a,b,c,d,e,f,k,g,l,q,t){var m=e;if(a||b||c)if(d?"number"!=typeof d&&(d=parseInt(d),isNaN(d)&&
(com_sas_ci_acs.ob_util.log("cart add: qty is not a valid number. defaulting to 1."),d=1)):d=1,e){if("number"!=typeof e&&(m=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator,e=parseFloat(e.replace(new RegExp("\\"+m,"g"),"").replace(/,/,".")),isNaN(e))){com_sas_ci_acs.ob_util.log("cart add: price is not a valid number.");return}com_sas_ci_acs.ob_util.isUndefined(f)||null==f?f=!0:"boolean"!=typeof f&&(com_sas_ci_acs.ob_util.log("cart add: isUnitPrice is not a valid boolean."),
f=!0);m=f?e:e/d;var u=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);u.add("action","add");u.add("initiator","api");a&&u.add("product_id",a);b&&u.add("product_name",b);c&&u.add("product_sku",c);u.add("product_quantity",d);u.add("product_unit_price",m.toFixed(2));k&&u.add("product_group",k);l&&u.add("cart_id_internal",l);q&&u.add("cart_name",q);t&&u.add("cart_type",t);if(void 0!=g&&null!=g)for(var h in g)g.hasOwnProperty(h)&&g[h]&&u.add(h,g[h]);setTimeout(function(){u.send()},
0)}else com_sas_ci_acs.ob_util.log("cart add: price is undefined, but is required.");else com_sas_ci_acs.ob_util.log("cart add: one of id, name, or sku is required.")},addFailed:function(a,b,c,d,e,f){if(a||b||c){var k=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);k.add("action","addFailed");k.add("initiator","api");a&&k.add("product_id",a);b&&k.add("product_name",b);c&&k.add("product_sku",c);d&&k.add("cart_id_internal",d);e&&k.add("cart_name",e);f&&k.add("cart_type",
f);setTimeout(function(){k.send()},0)}else com_sas_ci_acs.ob_util.log("cart addFailed: one of id, name, or sku is required.")},remove:function(a,b,c,d,e,f,k,g,l){if(a||b||c){if(e&&"number"!=typeof e){var q=com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.thousands_separator)?",":com_sas_ci_acs.ob_configure.thousands_separator;e=parseFloat(e.replace(new RegExp("\\"+q,"g"),"").replace(/,/,"."));isNaN(e)?(com_sas_ci_acs.ob_util.log("cart remove: unit_price is not a valid number."),e=""):
e=e.toFixed(2)}var t=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);t.add("action","remove");t.add("initiator","api");t.add("product_id",a);t.add("product_name",b);t.add("product_sku",c);t.add("product_quantity",d);t.add("product_unit_price",e);t.add("product_group",f);t.add("cart_id_internal",k);t.add("cart_name",g);t.add("cart_type",l);com_sas_ci_acs.ob_util.isSafariBrowser()?t.send(!1):setTimeout(function(){t.send()},0)}else com_sas_ci_acs.ob_util.log("cart remove: id,name,sku are undefined, but at least one is required.")},
update:function(a,b,c,d,e,f,k){if(a||b||c)if(d){if("number"!=typeof d&&(d=parseInt(d),isNaN(d))){com_sas_ci_acs.ob_util.log("cart update: qty is not a number.");return}var g=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ACTION);g.add("action","update");g.add("initiator","api");a&&g.add("product_id",a);b&&g.add("product_name",b);c&&g.add("product_sku",c);g.add("product_quantity",d);g.add("cart_id_internal",e);g.add("cart_name",f);g.add("cart_type",k);setTimeout(function(){g.send()},
0)}else com_sas_ci_acs.ob_util.log("cart update: qty is undefined, but is required.");else com_sas_ci_acs.ob_util.log("cart update: one of id, name, or sku is required.")}}}();
com_sas_ci_acs.ob_cart=function(){function a(a,b,e,f,k){f=f.getItems();for(var c=0;c<f.length;c++){var d=void 0,q=a,t=b,m=e,u=f[c],h=k,r=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART_ITEM);r.add("cart_id_internal",q);r.add("cart_name",t);r.add("cart_type",m);m=t=q=!1;for(d in u)u.hasOwnProperty(d)&&u[d]&&(r.add(d,u[d]),"product_id"==d&&(q=!0),"product_name"==d&&(t=!0),"product_sku"==d&&(m=!0));if(q||t||m)r.createEventData(),r.data&&0<r.data.length&&(d=h.get("cartitem_count"),
d++,h.add("cartitem."+d,r.data),h.add("cartitem_count",d))}}function b(b,d,e,f,k,g){var c=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.CART);c.add("cart_id_internal",b);c.add("cart_name",d);c.add("cart_type",e);g&&""!=g&&c.add("initiator",g);f=f.getDetails();for(var q in f)f.hasOwnProperty(q)&&f[q]&&c.add(q,f[q]);c.add("cartitem_count","0");a(b,d,e,k,c);setTimeout(function(){c.send()},0)}return{CartDetails:function(a,b,e,f,k,g,l,q,t,m,u,h,r,v,y){this.cart_id=a;this.order_id=b;
"number"===typeof e&&(e=e.toFixed(2));this.total_cart_value=e;"number"===typeof f&&(f=f.toFixed(2));this.tax=f;"number"===typeof k&&(k=k.toFixed(2));this.shipping_cost=k;this.payment_type=g;this.delivery_type=l;this.shipping_city=q;this.shipping_region=t;this.shipping_postcode=m;this.shipping_country=u;this.billing_city=h;this.billing_region=r;this.billing_postcode=v;this.billing_country=y},cartDetailsGeneric:function(a){var b=new com_sas_ci_acs.ob_cart.CartDetails,c;for(c in b)com_sas_ci_acs.ob_util.exists(a[c])&&
(b[c]=a[c]);return b},CartItem:function(a,b,e,f,k,g,l,q,t){this.product_id=a;this.product_name=b;this.product_sku=e;this.product_quantity=f;"number"===typeof k&&(k=k.toFixed(2));this.product_unit_price=k;this.product_group=g;this.availability_message=l;this.shipping_message=q;this.savings_message=t},contents:function(){var a=[];this.addItem=function(b,c,f,k,g,l,q,t,m){b=new com_sas_ci_acs.ob_cart.CartItem(b,c,f,k,g,l,q,t,m);a.push(b)};this.addContent=function(b){a.push(b)};this.getItems=function(){return a};
this.clearItems=function(){a=[]}},details:function(){var a={};this.setDetails=function(b,c,f,k,g,l,q,t,m,u,h,r,v,y){a=new com_sas_ci_acs.ob_cart.CartDetails(b,c,f,k,g,l,q,t,m,u,h,r,v,y)};this.addDetails=function(b){for(var c in b)b.hasOwnProperty(c)&&b[c]&&(a[c]=b[c])};this.getDetails=function(){return a};this.clearDetails=function(){a={}}},showCartDetails:function(a,d,e,f,k){b(a,d,e,f,k)},sendCartEvent:function(a,d,e,f,k,g){b(a,d,e,f,k,g)}}}();com_sas_ci_acs._ob_cart_configuration=function(){};
com_sas_ci_acs._ob_cart_configuration.prototype.getCartConfig=function(){};com_sas_ci_acs._ob_cart_configuration.prototype.getCheckoutConfig=function(){};com_sas_ci_acs._ob_cart_configuration.prototype.getPurchaseConfig=function(){};
com_sas_ci_acs._ob_cart_handlers=function(){function a(a,b,e,f,k,g,l,q,t){return function(){com_sas_ci_acs.ob_cart_api.remove(a,b,e,f,k,g,l,q,t)}}function b(b,d){if(b)for(var c in b)try{var f=b[c],k=f.name;if(f.selector){var g=com_sas_ci_acs.ob_util.getElementsBySelector(f.selector);if(0!=g.length){for(var l=f.item,q=new com_sas_ci_acs.ob_cart.contents,t=0;t<g.length;t++){var m={},u=!0,h;for(h in l){var r=l[h];if(r){var v,y=void 0,D=r,A=g[t],F=null;D=[].concat(D);for(var z=0;z<D.length;z++){var B=
D[z];if(B&&B.s){var H=A?com_sas_ci_acs.ob_util.getElementsBySelector(B.s,A):com_sas_ci_acs.ob_util.getElementsBySelector(B.s);if(0!=H.length&&(y=com_sas_ci_acs._ob_dom.getContent(H[0],B.a,B.f,B.p))){F=y;break}}}if(v=F)m[h]=v,u=!1}}if(!u){q.addContent(m);var P=f.removetargets;if(P){var p=com_sas_ci_acs._ob_dom.findElementMatch(g[t],P);for(u=0;u<p.length;u++)com_sas_ci_acs.ob_configure.w3c?p[u].addEventListener("click",a(m.product_id,m.product_name,m.product_sku,m.product_quantity||m.product_quantity_num,
m.product_unit_price||m.product_unit_price_num,m.product_group,c,k,d)):p[u].attachEvent("onclick",a(m.product_id,m.product_name,m.product_sku,m.product_quantity||m.product_quantity_num,m.product_unit_price||m.product_unit_price_num,m.product_group,c,k,d))}}}var U=new com_sas_ci_acs.ob_cart.details;com_sas_ci_acs.ob_cart.showCartDetails(c,k,d,U,q)}}}catch(aa){com_sas_ci_acs.ob_util.log("exception occurred during cart scraping: "+aa)}}return{scrapeHandler:function(){b((new com_sas_ci_acs._ob_cart_configuration).getCartConfig(),
"cartview");b((new com_sas_ci_acs._ob_cart_configuration).getCheckoutConfig(),"checkout");b((new com_sas_ci_acs._ob_cart_configuration).getPurchaseConfig(),"purchase")}}}();com_sas_ci_acs._ob_contentvisible_configuration=function(){};com_sas_ci_acs._ob_contentvisible_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_contentvisible_configuration()};com_sas_ci_acs._ob_jsvar_configuration=function(){};com_sas_ci_acs._ob_jsvar_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_jsvar_configuration()};
com_sas_ci_acs._ob_jsvarchange_configuration=function(){};com_sas_ci_acs._ob_jsvarchange_configuration.prototype.getConfig=function(){return com_sas_ci_acs._ob_jsvarchange_configuration()};
com_sas_ci_acs.SasVideo={_silverlight:{},_brightcove:{},_youtube:{},_osmf:{},_wmp:{},_players:[],expressions:{html5:["video","audio","embed[html5='true']"],wmp:["object[type='application/x-oleobject']"],quicktime:["object[type='video/quicktime']"],osmf:["object[type='application/x-shockwave-flash'][data*='StrobeMediaPlayback.swf']"]},incrementMediaEventCount:function(){com_sas_ci_acs.ob_util.mediaEventsCount++},isBelowMaxMediaEvents:function(){return com_sas_ci_acs.ob_util.mediaEventsCount<com_sas_ci_acs.ob_util.getMaxMediaEvents()},
testYoutube:function(a){var b=[],c=[];"IFRAME"===a.tagName?b.push(a):b=a.getElementsByTagName("iframe");for(a=0;a<b.length;a++)/youtube.com\/embed/.test(b[a].src)&&c.push(b[a]);return c},enableYoutubeApi:function(a){for(var b=0;b<a.length;b++)-1===a[b].src.indexOf("enablejsapi=")&&(a[b].src+=(-1===a[b].src.indexOf("?")?"?":"&")+"enablejsapi=1")},instrumentYouTube:function(a){this.loadYouTubeIframeAPI(a)},filterElemsBySelector:function(a,b){for(var c=[],d=0;d<b.length;d++){com_sas_ci_acs.ob_util.exists(a.matches)&&
a.matches(b[d])&&(c=c.concat(a));var e=a.querySelectorAll(b[d]);if(com_sas_ci_acs.ob_util.exists(e)&&0<e.length)for(var f=0;f<e.length;f++)c=c.concat(e[f])}return c},testHTML5:function(a){return this.filterElemsBySelector(a,this.expressions.html5)},instrumentHTML5:function(a){a=new com_sas_ci_acs.SasVideo.Html5(a);this._players.push(a)},testWindowsMedia:function(a){return/MSIE/.test(navigator.userAgent)&&"Win32"==navigator.platform?this.filterElemsBySelector(a,this.expressions.wmp):[]},instrumentWindowsMedia:function(a){a=
new com_sas_ci_acs.SasVideo.WindowsMediaPlayer(a);this._players.push(a)},testQuicktime:function(a){return this.filterElemsBySelector(a,this.expressions.quicktime)},instrumentQuicktime:function(a){a=new com_sas_ci_acs.SasVideo.Quicktime(a);this._players.push(a)},testOpenSourceMediaFramework:function(a){return this.filterElemsBySelector(a,this.expressions.osmf)},instrumentOpenSourceMediaFramework:function(a){a=new com_sas_ci_acs.SasVideo.Osmf(a);this._players.push(a)},loadPlayers:function(a){com_sas_ci_acs.ob_util.exists(a)||
(a=document);var b=this.testYoutube(a);0<b.length&&this.instrumentYouTube(b);b=this.testHTML5(a);for(var c=0;c<b.length;c++)this.instrumentHTML5(b[c]);b=this.testWindowsMedia(a);for(c=0;c<b.length;c++)this.instrumentWindowsMedia(b[c]);b=this.testQuicktime(a);for(c=0;c<b.length;c++)this.instrumentQuicktime(b[c]);a=this.testOpenSourceMediaFramework(a);for(b=0;b<a.length;b++)this.instrumentOpenSourceMediaFramework(a[b])},unloadPlayers:function(){for(var a,b=0;b<window._players.length;b++)a=window._players[b],
a=a.send("exit"),_send(a)},loadYouTubeIframeAPI:function(a){if("undefined"!==typeof YT)com_sas_ci_acs.SasVideo.handleYoutubeIframe(a);else{a=document.createElement("script");var b=document.getElementsByTagName("script")[0];a.src="//www.youtube.com/iframe_api";b.parentNode.insertBefore(a,b)}},addSilverlight:function(a){var b={};com_sas_ci_acs.SasVideo.createSilverlight(a,b);return b},createSilverlight:function(a,b){if("Canvas"==a.toString())for(var c,d=0;d<a.children.count;d++)c=a.children.getItem(d),
"MediaElement"==c.toString()?(new com_sas_ci_acs.SasVideo.SilverLight(c),b[c.name]=c):com_sas_ci_acs.SasVideo.createSilverlight(c,b)},getSilverlight:function(a){return com_sas_ci_acs.SasVideo._silverlight.hasOwnProperty(a)?com_sas_ci_acs.SasVideo._silverlight[a]._player:null},handleBrightcove:function(a){var b=com_sas_ci_acs.SasVideo._brightcove[a.target.experience.id];b.set(a);"mediaPlay"==a.type?(com_sas_ci_acs.ob_util.log("Brightcove media event [mediaPlay]"),b.start()):"mediaStop"==a.type&&(com_sas_ci_acs.ob_util.log("Brightcove media event [mediaStop]"),
b.stop())},osmfRegister:function(a){null==a.getState?setTimeout(function(){com_sas_ci_acs.SasVideo.osmfRegister(a)},1E3):(a.addEventListener("mediaPlayerStateChange","com_sas_ci_acs.SasVideo.osmfStateChange"),a.addEventListener("currentTimeChange","com_sas_ci_acs.SasVideo.osmfTimeChange"),a.addEventListener("complete","com_sas_ci_acs.SasVideo.osmfComplete"),a.addEventListener("durationChange","com_sas_ci_acs.SasVideo.osmfDurationChange"),"playing"==a.getState()&&this.play())},osmfStateChange:function(a,
b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(b=com_sas_ci_acs.SasVideo._osmf[b],"playing"==a?(com_sas_ci_acs.ob_util.log("OSMF media event [playing]"),b.play()):"paused"==a&&(com_sas_ci_acs.ob_util.log("OSMF media event [paused]"),b.pause()))},osmfTimeChange:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&com_sas_ci_acs.ob_util.log("OSMF media event [timechange]")},osmfDurationChange:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(com_sas_ci_acs.ob_util.log("OSMF media event [durationchange]"),
com_sas_ci_acs.SasVideo._osmf[b]._duration=parseInt(a))},osmfComplete:function(a,b){com_sas_ci_acs.SasVideo._osmf.hasOwnProperty(b)&&(com_sas_ci_acs.ob_util.log("OSMF media event [complete]"),_osmf[b].end())},handleQuicktime:function(a){var b=a.target.__player;"qt_play"==a.type?(com_sas_ci_acs.ob_util.log("Quicktime media event [play]"),b.play()):"qt_pause"==a.type?(com_sas_ci_acs.ob_util.log("Quicktime media event [pause]"),b.pause()):"qt_ended"==a.type&&(com_sas_ci_acs.ob_util.log("Quicktime media event [ended]"),
b.end())},getWindowsMedia:function(a){return com_sas_ci_acs.SasVideo._wmp.hasOwnProperty(a)?com_sas_ci_acs.SasVideo._wmp[a]:null},handleYoutubeIframe:function(a){com_sas_ci_acs.ob_util.exists(a)||(a=com_sas_ci_acs.SasVideo.testYoutube(document));if(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure)||"function"!=typeof com_sas_ci_acs.ob_configure.isCollectionEnabled||com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media){com_sas_ci_acs.SasVideo.enableYoutubeApi(a);
for(var b=0;b<a.length;b++){var c="";com_sas_ci_acs.ob_util.exists(a[b].id)&&""!==a[b].id&&(c=a[b].id);""===c?com_sas_ci_acs.SasVideo.handleExistingYoutubePlayer(c,a[b]):com_sas_ci_acs.SasVideo.handleExistingYoutubePlayer(c)}}},handleExistingYoutubePlayer:function(a,b){var c=YT.get(a);com_sas_ci_acs.ob_util.exists(c)||(null!=b?(c=new YT.Player(b),a=b.id):c=new YT.Player(a));b="";com_sas_ci_acs.ob_util.exists(c.getIframe())&&(b=c.getIframe().src);var d=new com_sas_ci_acs.SasVideo.YouTube(c,0,a,b);
c.addEventListener("onStateChange",function(a){d.state(a)})}};
com_sas_ci_acs.SasVideo.Html5=function(a){this._player=a;this._player.__player=this;this._type="Html5";this._source=null;this._duration=0;this._seeking=!1;com_sas_ci_acs.ob_util.isIE8Browser()?(this._player.attachEvent("play",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("pause",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("ended",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("seeking",com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("seeked",
com_sas_ci_acs.SasVideo.Html5_handle),this._player.attachEvent("durationchange",com_sas_ci_acs.SasVideo.Html5_handle)):(this._player.addEventListener("play",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("pause",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("ended",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("seeking",com_sas_ci_acs.SasVideo.Html5_handle),this._player.addEventListener("seeked",com_sas_ci_acs.SasVideo.Html5_handle),
this._player.addEventListener("durationchange",com_sas_ci_acs.SasVideo.Html5_handle))};com_sas_ci_acs.SasVideo.Html5.prototype.start=function(){this._position=0;this.send("start")};com_sas_ci_acs.SasVideo.Html5.prototype.playing=function(){var a=parseInt(this._player.currentTime);this._position!=a&&(this._position=a,this.send("playing"))};com_sas_ci_acs.SasVideo.Html5.prototype.stop=function(){this._position=0;this.send("stop")};com_sas_ci_acs.SasVideo.Html5.prototype.end=function(){this.send("end")};
com_sas_ci_acs.SasVideo.Html5.prototype.setDuration=function(a){this._duration=a};com_sas_ci_acs.SasVideo.Html5.prototype.seeking=function(){0==this._player.paused&&0==this._seeking&&(this._seeking=!0,this.send("stop"))};com_sas_ci_acs.SasVideo.Html5.prototype.seeked=function(){0==this._player.paused&&(this.send("start"),this._seeking=!1)};
com_sas_ci_acs.SasVideo.Html5.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.currentTime),c=this._duration;0==c&&0==isNaN(this._player.duration)&&(c=parseInt(this._player.duration));com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.id);d.add("media",
this._source);d.add("media_player",this._type);d.add("media_position",b);d.add("media_duration",c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.Html5_handle=function(a){var b=a.target.__player;b._source=a.target.currentSrc;"play"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [play]"),b.start()):"pause"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [pause]"),b.stop()):"ended"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [ended]"),b.end()):"timeupdate"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [timeupdate]"),0==b._player.paused&&b.playing()):"durationchange"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [durationchange]"),
a.target.hasOwnProperty("duration")&&b.setDuration(parseInt(a.target.duration))):"seeking"==a.type?(com_sas_ci_acs.ob_util.log("Html5 media event [seeking]"),b.seeking(a)):"seeked"==a.type&&(com_sas_ci_acs.ob_util.log("Html5 media event [seeked]"),b.seeked(a))};
com_sas_ci_acs.SasVideo.SilverLight=function(a){this._playing=!1;this._player=a;this._type="Silverlight";com_sas_ci_acs.SasVideo._silverlight[a.name]=this;this._player.addEventListener("CurrentStateChanged",com_sas_ci_acs.SasVideo.SilverLight_state);this._player.addEventListener("MediaEnded",com_sas_ci_acs.SasVideo.SilverLight_end)};
com_sas_ci_acs.SasVideo.SilverLight.prototype.state=function(){"Playing"==this._player.currentState?(com_sas_ci_acs.ob_util.log("SilverLight media event [playing]"),0==this._playing&&(this._playing=!0,this.play())):"Paused"==this._player.currentState&&(com_sas_ci_acs.ob_util.log("SilverLight media event [paused]"),this._playing&&(this._playing=!1,this.pause()))};com_sas_ci_acs.SasVideo.SilverLight.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.SilverLight.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.SilverLight.prototype.end=function(){com_sas_ci_acs.ob_util.log("SilverLight media event [end]");this.send("end")};
com_sas_ci_acs.SasVideo.SilverLight.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.position.seconds),c=parseInt(this._player.naturalDuration.seconds);com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.name);d.add("media",this._player.Source);d.add("media_player",
this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};com_sas_ci_acs.SasVideo.SilverLight_state=function(a){com_sas_ci_acs.SasVideo._silverlight[a.name].state()};com_sas_ci_acs.SasVideo.SilverLight_end=function(a){com_sas_ci_acs.SasVideo._silverlight[a.name].end()};
com_sas_ci_acs.SasVideo.Brightcove=function(a){null!=(this._player=a)&&(this._type="Brightcove",this._id=a.id,this._position=this._duration=0,com_sas_ci_acs.SasVideo._brightcove[this._id]=this,a.addEventListener(brightcove.api.events.MediaEvent.PLAY,com_sas_ci_acs.SasVideo.handleBrightcove),a.addEventListener(brightcove.api.events.MediaEvent.STOP,com_sas_ci_acs.SasVideo.handleBrightcove))};com_sas_ci_acs.SasVideo.Brightcove.prototype.start=function(){this.send("start")};
com_sas_ci_acs.SasVideo.Brightcove.prototype.playing=function(){};com_sas_ci_acs.SasVideo.Brightcove.prototype.stop=function(){this.send("stop")};com_sas_ci_acs.SasVideo.Brightcove.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Brightcove.prototype.set=function(a){this._duration=parseInt(a.duration);this._position=parseInt(a.position);this._source=a.media.FLVFullLengthURL};
com_sas_ci_acs.SasVideo.Brightcove.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=this._position,c=this._duration;com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._id);d.add("media",this._source);d.add("media_player",this._type);d.add("media_position",b);d.add("media_duration",
c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};com_sas_ci_acs.SasVideo.YouTube=function(a,b,c,d){this._player=a;!c&&a.id&&(c=a.id);!d&&a.src&&(d=a.src);!d&&a.data&&(d=a.data);this._id=c;this._src=d;this._type="YouTube";com_sas_ci_acs.SasVideo._youtube[c]=this};
com_sas_ci_acs.SasVideo.YouTube.prototype.state=function(a){1==a.data?(com_sas_ci_acs.ob_util.log("YouTube media event [play]"),this.play()):2==a.data?(com_sas_ci_acs.ob_util.log("YouTube media event [pause]"),this.pause()):0==a.data&&(com_sas_ci_acs.ob_util.log("YouTube media event [end]"),this.end())};com_sas_ci_acs.SasVideo.YouTube.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.YouTube.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.YouTube.prototype.end=function(){this.send("end")};
com_sas_ci_acs.SasVideo.YouTube.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()&&(com_sas_ci_acs.SasVideo.incrementMediaEventCount(),"function"===typeof this._player.getCurrentTime&&"function"===typeof this._player.getDuration)){var b=parseInt(this._player.getCurrentTime()),c=parseInt(this._player.getDuration());com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);
d.add("player_id",this._id);d.add("media",this._src);d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};null!=window.onYouTubeIframeAPIReady&&(com_sas_ci_acs.SasVideo.otherYTApiReadyFn=window.onYouTubeIframeAPIReady);window.onYouTubeIframeAPIReady=function(){null!=com_sas_ci_acs.SasVideo.otherYTApiReadyFn&&(com_sas_ci_acs.SasVideo.otherYTApiReadyFn(),com_sas_ci_acs.SasVideo.otherYTApiReadyFn=null);com_sas_ci_acs.SasVideo.handleYoutubeIframe()};
null!=window.onYouTubePlayerReady&&(com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn=window.onYouTubePlayerReady);
window.onYouTubePlayerReady=function(a){null!=com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn&&(com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn(),com_sas_ci_acs.SasVideo.otherYTPlayerReadyFn=null);(com_sas_ci_acs.ob_util.isUndefined(com_sas_ci_acs.ob_configure.isCollectionEnabled().media)||"true"==com_sas_ci_acs.ob_configure.isCollectionEnabled().media)&&new com_sas_ci_acs.SasVideo.YouTube(document.getElementById(a),1)};
com_sas_ci_acs.SasVideo.Osmf=function(a){this._type="OSMF";this._player=a;com_sas_ci_acs.SasVideo._osmf[this._player.getAttribute("name")]=this;this._duration=0;com_sas_ci_acs.SasVideo.osmfRegister(a)};com_sas_ci_acs.SasVideo.Osmf.prototype.play=function(){this.send("start")};com_sas_ci_acs.SasVideo.Osmf.prototype.pause=function(){this.send("stop")};com_sas_ci_acs.SasVideo.Osmf.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Osmf.prototype.seek=function(){this.send("seek")};
com_sas_ci_acs.SasVideo.Osmf.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.getCurrentTime()),c=this._duration;0==c&&0==isNaN(this._player.getDuration())&&(c=parseInt(this._player.getDuration()));com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.getAttribute("id"));
d.add("media",this._player.getSrc());d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.Quicktime=function(a){this._player=a;this._player.__player=this;this._type="Quicktime";com_sas_ci_acs.ob_util.isIE8Browser()?(this._player.attachEvent("qt_play",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_pause",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_ended",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.attachEvent("qt_timechanged",com_sas_ci_acs.SasVideo.handleQuicktime)):(this._player.addEventListener("qt_play",
com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_pause",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_ended",com_sas_ci_acs.SasVideo.handleQuicktime),this._player.addEventListener("qt_timechanged",com_sas_ci_acs.SasVideo.handleQuicktime))};com_sas_ci_acs.SasVideo.Quicktime.prototype.play=function(){this._position=0;this.send("start")};com_sas_ci_acs.SasVideo.Quicktime.prototype.pause=function(){this.send("stop")};
com_sas_ci_acs.SasVideo.Quicktime.prototype.end=function(){this.send("end")};com_sas_ci_acs.SasVideo.Quicktime.prototype.playing=function(){var a=parseInt(this._player.GetTime()/1E3);this._position!=a&&(this._position=a,this.send("playing"))};com_sas_ci_acs.SasVideo.Quicktime.prototype.seek=function(){this.send("seek")};
com_sas_ci_acs.SasVideo.Quicktime.prototype.send=function(a){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var b=parseInt(this._player.GetTime()/1E3),c=parseInt(this._player.GetDuration()/1E3),d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("",this._player.id);d.add("player_id",this._player.GetMovieName());d.add("media",this._player.GetURL());d.add("media_player",this._type);d.add("media_duration",c);d.add("media_position",
b);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer=function(a){this._player=a;this._player.__player=this;this._type="WindowsMediaPlayer";this._position=0;com_sas_ci_acs.SasVideo._wmp[a.id]=this;var b="wmpstate_"+a.id.replace(/([^_a-z0-9]+)/g,"");var c="com_sas_ci_acs.SasVideo."+b+" = function(state){var player = com_sas_ci_acs.SasVideo.getWindowsMedia('"+(a.id+"');");c+="player.handleState(state);";c+="}";eval(c);this._player.attachEvent("playStateChange",eval("com_sas_ci_acs.SasVideo."+b));b="wmpposition_"+
a.id.replace(/([^_a-z0-9]+)/g,"");c="com_sas_ci_acs.SasVideo."+b+" = function(oldPosition,newPosition){var player = com_sas_ci_acs.SasVideo.getWindowsMedia('"+(a.id+"');");c+="player.handlePosition(oldPosition,newPosition);";c+="}";eval(c);this._player.attachEvent("positionChange",eval("com_sas_ci_acs.SasVideo."+b))};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer.prototype.handleState=function(a){if(null!=this._player.controls){var b=parseInt(this._player.controls.currentPosition);1==a?(com_sas_ci_acs.ob_util.log("WMP media event [stop]"),this.send("stop",b),this._position=0):2==a?(com_sas_ci_acs.ob_util.log("WMP media event [pause]"),this.send("stop",b),this._position=b):3==a&&(com_sas_ci_acs.ob_util.log("WMP media event [play]"),this.send("play",this._position))}};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer.prototype.handlePosition=function(a,b){com_sas_ci_acs.ob_util.log("WMP media event [positionChange]");this._position=parseInt(b);3==this._player.playState&&(this.send("stop",parseInt(a)),this.send("play",this._position))};
com_sas_ci_acs.SasVideo.WindowsMediaPlayer.prototype.send=function(a,b){if(com_sas_ci_acs.SasVideo.isBelowMaxMediaEvents()){com_sas_ci_acs.SasVideo.incrementMediaEventCount();var c=parseInt(this._player.currentMedia.duration);com_sas_ci_acs.ob_util.log("send ("+this._type+") : "+a+" ("+b+" out of "+c+")");var d=new com_sas_ci_acs.ob_event(com_sas_ci_acs.ob_event.EventNameEnum.MEDIA);d.add("player_id",this._player.id);d.add("media",this._player.fileName);d.add("media_player",this._type);d.add("media_position",
b);d.add("media_duration",c);d.add("media_action",a);setTimeout(function(){d.send()},0)}};
var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
k=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||l).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-e%4*8&255)<<24-(d+e)%4*8;else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-
c%4*8;b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new k.init(c,b)}}),g=c.enc={},l=g.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<
24-d%8*4;return new k.init(c,b/2)}},q=g.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new k.init(c,b)}},t=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(q.stringify(a)))}catch(r){throw Error("Malformed UTF-8 data");}},parse:function(a){return q.parse(unescape(encodeURIComponent(a)))}},
m=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new k.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=t.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,g=e/(4*f);g=b?a.ceil(g):a.max((g|0)-this._minBufferSize,0);b=g*f;e=a.min(4*b,e);if(b){for(var h=0;h<b;h+=f)this._doProcessBlock(d,h);h=d.splice(0,b);c.sigBytes-=e}return new k.init(h,e)},clone:function(){var a=f.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=m.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){m.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new u.HMAC.init(a,
c)).finalize(b)}}});var u=c.algo={};return c}(Math);
(function(a){var b=CryptoJS,c=b.lib,d=c.Base,e=c.WordArray;b=b.x64={};b.Word=d.extend({init:function(a,b){this.high=a;this.low=b}});b.WordArray=d.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=a?c:8*b.length},toX32:function(){for(var a=this.words,b=a.length,c=[],d=0;d<b;d++){var q=a[d];c.push(q.high);c.push(q.low)}return e.create(c,this.sigBytes)},clone:function(){for(var a=d.clone.call(this),b=a.words=this.words.slice(0),c=b.length,e=0;e<c;e++)b[e]=b[e].clone();return a}})})();
(function(){function a(){return e.create.apply(e,arguments)}var b=CryptoJS,c=b.lib.Hasher,d=b.x64,e=d.Word,f=d.WordArray;d=b.algo;for(var k=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),
a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,
2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),
a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,
3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],g=[],l=0;80>l;l++)g[l]=a();d=d.SHA512=c.extend({_doReset:function(){this._hash=new f.init([new e.init(1779033703,4089235720),new e.init(3144134277,2227873595),new e.init(1013904242,4271175723),new e.init(2773480762,1595750129),new e.init(1359893119,2917565137),new e.init(2600822924,725511199),new e.init(528734635,4215389547),new e.init(1541459225,327033209)])},_doProcessBlock:function(a,b){var c=this._hash.words,
d=c[0],e=c[1],f=c[2],l=c[3],q=c[4],t=c[5],A=c[6];c=c[7];for(var F=d.high,z=d.low,B=e.high,H=e.low,P=f.high,p=f.low,U=l.high,aa=l.low,ua=q.high,ma=q.low,sa=t.high,na=t.low,ta=A.high,ca=A.low,ha=c.high,fa=c.low,R=F,C=z,Z=B,V=H,la=P,N=p,ra=U,ia=aa,Q=ua,O=ma,oa=sa,ja=na,pa=ta,ka=ca,ea=ha,n=fa,x=0;80>x;x++){var w=g[x];if(16>x)var S=w.high=a[b+2*x]|0,G=w.low=a[b+2*x+1]|0;else{S=g[x-15];G=S.high;var T=S.low;S=(G>>>1|T<<31)^(G>>>8|T<<24)^G>>>7;T=(T>>>1|G<<31)^(T>>>8|G<<24)^(T>>>7|G<<25);var da=g[x-2];G=da.high;
var J=da.low;da=(G>>>19|J<<13)^(G<<3|J>>>29)^G>>>6;J=(J>>>19|G<<13)^(J<<3|G>>>29)^(J>>>6|G<<26);G=g[x-7];var va=G.high,W=g[x-16],X=W.high;W=W.low;G=T+G.low;S=S+va+(G>>>0<T>>>0?1:0);G+=J;S=S+da+(G>>>0<J>>>0?1:0);G+=W;S=S+X+(G>>>0<W>>>0?1:0);w.high=S;w.low=G}va=Q&oa^~Q&pa;W=O&ja^~O&ka;w=R&Z^R&la^Z&la;var wa=C&V^C&N^V&N;T=(R>>>28|C<<4)^(R<<30|C>>>2)^(R<<25|C>>>7);da=(C>>>28|R<<4)^(C<<30|R>>>2)^(C<<25|R>>>7);J=k[x];var Aa=J.high,Y=J.low;J=n+((O>>>14|Q<<18)^(O>>>18|Q<<14)^(O<<23|Q>>>9));X=ea+((Q>>>14|
O<<18)^(Q>>>18|O<<14)^(Q<<23|O>>>9))+(J>>>0<n>>>0?1:0);J+=W;X=X+va+(J>>>0<W>>>0?1:0);J+=Y;X=X+Aa+(J>>>0<Y>>>0?1:0);J+=G;X=X+S+(J>>>0<G>>>0?1:0);G=da+wa;w=T+w+(G>>>0<da>>>0?1:0);ea=pa;n=ka;pa=oa;ka=ja;oa=Q;ja=O;O=ia+J|0;Q=ra+X+(O>>>0<ia>>>0?1:0)|0;ra=la;ia=N;la=Z;N=V;Z=R;V=C;C=J+G|0;R=X+w+(C>>>0<J>>>0?1:0)|0}z=d.low=z+C;d.high=F+R+(z>>>0<C>>>0?1:0);H=e.low=H+V;e.high=B+Z+(H>>>0<V>>>0?1:0);p=f.low=p+N;f.high=P+la+(p>>>0<N>>>0?1:0);aa=l.low=aa+ia;l.high=U+ra+(aa>>>0<ia>>>0?1:0);ma=q.low=ma+O;q.high=
ua+Q+(ma>>>0<O>>>0?1:0);na=t.low=na+ja;t.high=sa+oa+(na>>>0<ja>>>0?1:0);ca=A.low=ca+ka;A.high=ta+pa+(ca>>>0<ka>>>0?1:0);fa=c.low=fa+n;c.high=ha+ea+(fa>>>0<n>>>0?1:0)},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+128>>>10<<5)+30]=Math.floor(c/4294967296);b[(d+128>>>10<<5)+31]=c;a.sigBytes=4*b.length;this._process();return this._hash.toX32()},clone:function(){var a=c.clone.call(this);a._hash=this._hash.clone();return a},blockSize:32});
b.SHA512=c._createHelper(d);b.HmacSHA512=c._createHmacHelper(d)})();
(function(){var a=CryptoJS,b=a.x64,c=b.Word,d=b.WordArray;b=a.algo;var e=b.SHA512;b=b.SHA384=e.extend({_doReset:function(){this._hash=new d.init([new c.init(3418070365,3238371032),new c.init(1654270250,914150663),new c.init(2438529370,812702999),new c.init(355462360,4144912697),new c.init(1731405415,4290775857),new c.init(2394180231,1750603025),new c.init(3675008525,1694076839),new c.init(1203062813,3204075428)])},_doFinalize:function(){var a=e._doFinalize.call(this);a.sigBytes-=16;return a}});a.SHA384=
e._createHelper(b);a.HmacSHA384=e._createHmacHelper(b)})();(function(){var a=document.getElementById("ob-script");null!=a&&"object"==typeof a.attributes&&"undefined"!=typeof a.attributes.getNamedItem?(a=a.attributes.getNamedItem("a"),a=null!=a?a.value:null):a=null;com_sas_ci_acs.ob_util.account=a})(document,"script");
