dojo.registerModulePath("wc","../wc"),dojo.require("wc.service.common"),dojo.require("dojo.io.iframe"),dojo.require("dojo.io.script"),dojo.require("dojo.parser"),dojo.require("dijit.form.Button"),dojo.require("wc.widget.WCMenu"),dojo.require("wc.widget.WCDialog"),dojo.require("dijit.layout.TabContainer"),dojo.require("dijit.layout.ContentPane"),dojo.require("dijit.Tooltip"),dojo.require("wc.widget.WCDropDownButton"),dojo.require("dijit.Dialog"),dojo.require("dojo.currency"),dojo.require("dijit.Tree"),dojo.require("dojo.back"),dojo.require("dijit.form.DateTextBox"),dojo.require("wc.widget.RefreshArea"),dojo.require("wc.render.RefreshController"),dojo.require("wc.render.Context"),dojo.require("dojo.cookie"),dojo.require("dojo.topic"),dojo.subscribe("ajaxRequestInitiated","incrementNumAjaxRequest"),dojo.subscribe("ajaxRequestCompleted","decrementNumAjaxRequest"),dojo.subscribe("ajaxRequestCompleted","initializeInactivityWarning");var showDropdown=!1,dropDownDlg=null,productAddedDropDownDlg=null,originalMiniCartWidth=0,isIE=!!document.all,correctBrowser=!1,requestSubmitted=!0,currentId="",numAjaxRequests=0,widgetsList=[],tabPressed=!1,currentPopup="",android=null,ios=null,infoStatesLada=null,infoCitiesLada=null,storeLocatorResultsCalc=null;function displayNoneByClass(){for(var e=0;e<=document.getElementsByClassName("departmentMenuBlock nav-fg").length;e++)document.getElementsByClassName("departmentMenuBlock")[e].style.display="none"}function initializeInactivityWarning(){"G"!=storeUserType&&0!=inactivityTimeout&&(null!=inactivityTimeoutTracker&&clearTimeout(inactivityTimeoutTracker),inactivityTimeoutTracker=setTimeout(showInactivityWarningDialog,inactivityTimeout-inactivityWarningDialogBuffer))}function showInactivityWarningDialog(){dijit.byId("inactivityWarningPopup").show(),null!=dialogTimeoutTracker&&clearTimeout(dialogTimeoutTracker),dialogTimeoutTracker=setTimeout(hideInactivityWarningDialog,inactivityWarningDialogDisplayTimer)}function hideInactivityWarningDialog(){dijit.byId("inactivityWarningPopup").hide()}function resetServerInactivity(){dojo.xhrPost({url:getAbsoluteURL()+"Ping",handleAs:"json-comment-filtered",content:null,service:this,load:function(e,t){e.success?initializeInactivityWarning():console.error("Ping service failed")},error:function(e,t){console.error("Ping service failed")}})}function byId(e){return document.getElementById(e)}function focusSetter(){dojo.byId("MiniCartFocusReceiver1")?dojo.byId("MiniCartFocusReceiver1").focus():dojo.byId("MiniCartFocusReceiver2").focus()}function determineFocus(e){e.shiftKey&&e.keyCode==dojo.keys.TAB&&(e.srcElement?"MiniCartFocusReceiver1"==e.srcElement.id?(dojo.byId("WC_MiniShopCartDisplay_link_5")&&dojo.byId("WC_MiniShopCartDisplay_link_5").focus(),dojo.stopEvent(e)):"MiniCartFocusReceiver2"==e.srcElement.id&&(dojo.byId("MiniCartFocusReceiver2").focus(),dojo.stopEvent(e)):"MiniCartFocusReceiver1"==e.target.id?(dojo.byId("WC_MiniShopCartDisplay_link_5")&&dojo.byId("WC_MiniShopCartDisplay_link_5").focus(),dojo.stopEvent(e)):"MiniCartFocusReceiver2"==e.target.id&&(dojo.byId("MiniCartFocusReceiver2").focus(),dojo.stopEvent(e)))}function destroyDialog(t){null==t&&(t="quick_cart_container"),dojo.query(".dijitDialog",document).forEach(function(e){dijit.byNode(e).id==t&&dijit.byNode(e).destroyRecursive()}),null!=t&&"quick_cart_container"==t?dropDownDlg=null:productAddedDropDownDlg=null}function hideUnderlayWrapper(){dojo.query(".dijitDialogUnderlayWrapper",document).forEach(function(e){e.style.display="none"})}function loadLink(e){document.location.href=e}function clearSearchField(){searchText=document.getElementById("SimpleSearchForm_SearchTerm").value,searchText==document.getElementById("searchTextHolder").innerHTML?document.getElementById("SimpleSearchForm_SearchTerm").value="":(document.getElementById("SimpleSearchForm_SearchTerm").select(),showAutoSuggestIfResults(),autoSuggestHover=!1)}function fillSearchField(){""==document.getElementById("SimpleSearchForm_SearchTerm").value&&(document.getElementById("SimpleSearchForm_SearchTerm").className="search_input gray_color",document.getElementById("SimpleSearchForm_SearchTerm").value=document.getElementById("searchTextHolder").innerHTML),autoSuggestHover||showAutoSuggest(!1)}function showDropDownMenu(){var e=document.getElementById("header_menu_dropdown");(null!=document.getElementById("header_menu_dropdown")&&"undefined"!=document.getElementById("header_menu_dropdown")&&(e.style.display="block"),null!=document.getElementById("outerCartContainer")&&"undefined"!=document.getElementById("outerCartContainer"))&&(document.getElementById("outerCartContainer").style.display="block")}function initShopcartTarget(){dojo.subscribe("/dnd/drop",function(e,t,o,n){e!=n&&n.deleteSelectedNodes();var a=new popupActionProperties;if(a.showProductCompare=showProductCompare,"miniShopCart_dndTarget"==n.parent.id){var r=e.parent.id.indexOf("_",0);0<=r&&(e.parent.id=e.parent.id.substring(r+1)),"item"==e.node.getAttribute("dndType")||"package"==e.node.getAttribute("dndType")?categoryDisplayJS.AddItem2ShopCartAjax(e.parent.id,1):"product"!=e.node.getAttribute("dndType")&&"bundle"!=e.node.getAttribute("dndType")||showPopup(e.parent.id,function(e){return e},"miniShopCart_dndTarget",null,a)}})}function cursor_wait(e){var t=!0;1==e&&0<dojo.isOpera&&(t=!1),t&&setTimeout("showProgressBar()",500)}function showProgressBar(){requestSubmitted&&displayProgressBar()}function displayProgressBar(){var e=dijit.byId("progress_bar_dialog");if(null!=e){e.closeButtonNode.style.display="none";var t=document.getElementById("progress_bar");if(t.style.display="block",""!=this.currentId){var o=document.getElementById(this.currentId);dijit.placeOnScreenAroundElement(t,o,{TR:"TL"})}else e.containerNode.innerHTML,t.style.left="",t.style.top="",e.containerNode.appendChild(t),e.show();setTimeout("cursor_clear()",18e5)}}function setCurrentId(e){requestSubmitted||""!=this.currentId||(this.currentId=e)}function trim(e){word=e.toString();for(var t=0,o=word.length-1;" "==word.charAt(t);)t++;for(;" "==word.charAt(o);)o-=1;return o<t?word.substring(t,t):word.substring(t,o+1)}function cursor_clear(){requestSubmitted=!1;var e=dijit.byId("progress_bar_dialog"),t=document.getElementById("progress_bar");null!=e&&(null!=t&&(t.style.display="none"),e.hide(),this.currentId="")}function submitRequest(){return!requestSubmitted&&(requestSubmitted=!0)}function resetRequest(){requestSubmitted=!1}function setPageLocation(e){submitRequest()&&(document.location.href=e)}function submitSpecifiedForm(e){var t=document.getElementById("WC_PasswordUpdateForm_FormInput_logonPasswordOld_In_Logon_1").value;if(""==t||null==t)for(var o=document.cookie.split(";"),n=0;n<o.length;n++)for(var a=o[n],r=0;r<a.length;r++){var i=a.split("|");if(" cookieRP=ResetPassw0rdTemporary"==i[0]&&"on=undefined"!=i[6]){i[4].split("=");var l=i[6].split("="),d=document.getElementById("WC_PasswordUpdateForm_FormInput_logonPasswordOld_In_Logon_1").value;t=d!=l[1]?l[1]:d}}t=t.replace(" ","+"),document.getElementById("WC_PasswordUpdateForm_FormInput_logonPasswordOld_In_Logon_1").value=t;var s=document.getElementById("WC_PasswordUpdateForm_FormInput_logonPassword_In_Logon_1").value,c=document.getElementById("WC_PasswordUpdateForm_FormInput_logonPasswordVerify_In_Logon_1").value;if(null!=s||null!=c){if(s!==c)return void MessageHelper.formErrorHandleClient(e.logonPassword.id,"La contrase&ntilde;a debe ser iguales.\n Por favor vuelva a ingresar la contrase&ntilde;a.");if(!s.match(/(?=^.{4,50}$).*$/))return void MessageHelper.formErrorHandleClient(e.logonPassword.id,"La contrase&ntilde;a debe ser mayor a 4 y menor a 50 car&aacute;cteres.\n Por favor vuelva a ingresar la contrase&ntilde;a.");if(!submitRequest())return;console.debug("form.action == "+e.action),e.submit()}}function submitLoginForm(e){if(submitRequest()){if(reWhiteSpace=new RegExp(/^\s+$/),e.logonId.value=trim(e.logonId.value).toLowerCase(),""==e.logonId.value||reWhiteSpace.test(e.logonId.value))return MessageHelper.formErrorHandleClient(e.logonId.id,MessageHelper.messages.ERROR_EmailEmpty),cursor_clear(),!1;if(!MessageHelper.isValidUTF8length(e.logonId.value,256))return MessageHelper.formErrorHandleClient(e.logonId.id,MessageHelper.messages.ERROR_EmailTooLong),cursor_clear(),!1;if(!MessageHelper.isValidEmail(e.logonId.value))return MessageHelper.formErrorHandleClient(e.logonId.id,MessageHelper.messages.ERROR_INVALIDEMAILFORMAT),cursor_clear(),!1;console.debug("form.action == "+e.action),createGenericCookie("userForgetPasswordEmail",e.logonId.value,"-1"),console.debug("Create userForgetPasswordEmail"),e.submit()}}function parseWidget(e){}function parseAllWidgets(){for(var e=0;e<widgetsList.length;e++)parseWidget(widgetsList[e])}function addToWidgetsList(e){widgetsList.push(e)}function parseWCCEAWidget(e){var t,o=ceadijit.byId(e);null!=o&&null!=o||null!=(t=null==e||null==e?ceadojo.body():ceadojo.byId(e))&&null!=t&&(null!=t.getAttribute("ceadojoType")&&null!=t.getAttribute("ceadojoType")?ceadojo.parser.instantiate([t]):ceadojo.parser.parse(t))}function parseHeader(e){dojo.byId("progress_bar_dialog");var t=document.getElementById("header_menu_loaded"),o=document.getElementById("header_menu_overlay");if(0==currentId.length&&null!=document.getElementById("header_menu_loaded")&&"undefined"!=document.getElementById("header_menu_loaded")&&null!=document.getElementById("header_menu_overlay")&&"undefined"!=document.getElementById("header_menu_overlay")&&"none"==document.getElementById("header_menu_loaded").style.display){setCurrentId(null!=e&&null!=e?e:o.id),submitRequest(),cursor_wait(),o.style.display="none",parseWidget("header_menu_loaded"),t.style.display="block",cursor_clear();try{null==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||dijit.registry.byClass("wc.widget.WCDropDownButton").forEach(function(t){dojo.connect(t,"_onDropDownClick",dojo.hitch(window.top._ceaCollabDialog,"topCategoryClicked",t.getURL())),dojo.connect(t,"onKeyPress",window.top._ceaCollabDialog,function(e){e.keyCode==dojo.keys.ENTER&&window.top._ceaCollabDialog.topCategoryClicked(t.getURL())})})}catch(e){console.log(e)}}}function hideElementById(e){dojo.byId(e).style.display="none"}function showElementById(e){dojo.byId(e).style.display="block"}function hideBackgroundImage(e){e.style.backgroundImage="none"}function showBackgroundImage(e){e.style.backgroundImage="url("+getImageDirectoryPath()+getStyleDirectoryPath()+"product_hover_background.png)"}function checkIE8Browser(){dojo.isIE&&dojo.isIE<=8&&(correctBrowser=!0)}function ApprovalToolLink(e,t){checkIE8Browser(),correctBrowser?RFQwindow=window.open(t):MessageHelper.formErrorHandleClient(e,MessageHelper.messages.ERROR_INCORRECT_BROWSER)}function updateViewAndBeginIndexForCurrencyChange(){null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")?(null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=document.FastFinderForm.pageView.value),null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=document.FastFinderForm.beginIndex.value)):null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")?(""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView),""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)):null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")?(""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)):null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")&&(""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum));try{null==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||(dojo.byId("SetCurrencyPreferenceForm").URL.value=dojo.byId("SetCurrencyPreferenceForm").URL.value+"&coshopChangeCurrency="+dojo.byId("currencySelection").options[dojo.byId("currencySelection").selectedIndex].value)}catch(e){console.log(e)}}function updateViewAndBeginIndexForLanguageChange(){null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")?(null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=document.FastFinderForm.pageView.value),null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=document.FastFinderForm.beginIndex.value)):null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")?(""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView),""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)):null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")?(""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)):null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")&&(""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum));try{null==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||(dojo.byId("LanguageSelectionForm").action=dojo.byId("LanguageSelectionForm").action+"&langId="+dojo.byId("languageSelection").options[dojo.byId("languageSelection").selectedIndex].value)}catch(e){console.log(e)}}function showHeaderLinksInTwoLines(){null!=document.getElementById("header_links")&&"undefined"!=document.getElementById("header_links")&&(750<dojo.contentBox(document.getElementById("header_links")).w&&(null!=document.getElementById("header_links1")&&"undefined"!=document.getElementById("header_links1")&&(document.getElementById("header_links1").style.display="block"),null!=document.getElementById("headerHomeLink")&&"undefined"!=document.getElementById("headerHomeLink")&&(document.getElementById("headerHomeLink").style.display="none"),null!=document.getElementById("headerShopCartLink")&&"undefined"!=document.getElementById("headerShopCartLink")&&(document.getElementById("headerShopCartLink").style.display="none")),document.getElementById("header_links").style.visibility="visible")}function showLinksInOneLine(){null!=document.getElementById("header_links")&&"undefined"!=document.getElementById("header_links")&&(document.getElementById("header_links").style.visibility="visible")}function isNonNegativeInteger(e){var t=new RegExp(/^\d*$/);return null!=e&&""!=e&&t.test(e)}function isPositiveInteger(e){return isNonNegativeInteger(e)&&0!=e}function closeAllDialogs(){dijit.registry.byClass("dijit.Dialog").forEach(function(e){e.hide()})}function setWarningMessageCookie(e){dojo.cookie("signon_warning_cookie",e,{path:"/"})}function createGenericCookie(e,t,o){dojo.cookie('"'+e+'"','"'+t+'"',"+{ expires:"+o+"}")}function removeCookie(e){dojo.cookie(e,null,{expires:-1})}function getCookie(e){for(var t=document.cookie.split(";"),o=0;o<t.length;o++){var n=t[o].indexOf("="),a=t[o].substr(0,n);if((a=a.replace(/^\s+|\s+$/g,""))==e)return unescape(t[o].substr(n+1))}}function getGenericCookieValue(e){for(var t=e+"=",o=null,n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(r=r.replace('"',""),t=t.replace("=",""),0==r.indexOf(t))return o=(o=(o=r.substring(t.length,r.length)).replace('"',"").replace("=","")).replace('"',""),o=decodeURIComponent(o)}return null}function isStorePreview(e,t){return-1<e.indexOf(t)}function hideESpotInfoPopup(e,t){if(null==t||"keypress"!=t.type||"27"==t.keyCode){var o=dijit.byId(e);null!=o&&o.hide()}}function validateMaxQuantityItemsAddToCart(e){if(21<=e){return MessageHelper.displayErrorMessage("S&oacute;lo se permite la compra de 20 unidades de este art&iacute;culo."),!0}return!1}function showESpotInfoPopup(e,t){if((null==t||"keypress"!=t.type||"13"==t.keyCode)&&parent.checkPopupAllowed()){var o=dijit.byId(e);null!=o&&o.show()}}function incrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&numAjaxRequests++}function decrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&0!=numAjaxRequests&&numAjaxRequests--}function updateParamObject(e,t,o,n,a){if(null==e&&(e=[]),null!=e[t]&&n)if(dojo.lang.isArrayLike(e[t]))null!=a&&""!=a?e[t][a]=o:e[t].push(o);else{var r=e[t];e[t]=[],e[t].push(r),e[t].push(o)}else if(null!=a&&""!=a&&-1!=a)e[t+"_"+a]=o;else if(-1==a){for(var i=1;null!=e[t+"_"+i];)i++;e[t+"_"+i]=o}else e[t]=o;return e}function showSection(e){var t=dojo.byId(e);null!=t&&"undefined"!=t&&(t.style.visibility="visible")}function hideSection(e){var t=dojo.byId(e);null!=t&&"undefined"!=t&&(t.style.visibility="")}function shiftTabHideSection(e,t){t.shiftKey&&t.keyCode==dojo.keys.TAB&&hideSection(e)}function tabHideSection(e,t,o){t.shiftKey||t.keyCode!=dojo.keys.TAB||(null!=o&&dojo.byId(o).focus(),hideSection(e),dojo.stopEvent(t))}function saveShiftTabPress(e){1==e.shiftKey&&9==e.keyCode&&(tabPressed=!0)}function saveTabPress(e){0==e.shiftKey&&9==e.keyCode&&(tabPressed=!0)}function setFocus(e){tabPressed&&(tabPressed=!1,document.getElementById(e).focus())}function increaseHeight(e,t){var o=document.getElementById(e).offsetHeight;document.getElementById(e).style.height=o+t+"px"}function redirectToSignOn(e){if(void 0!==e)var t=e;else t=location.href;t="OrderItemMove?continue=1&createIfEmpty=1&updatePrices=0&deleteIfEmpty=*&fromOrderId=*&toOrderId=.&page=&calculationUsageId=-1&URL="+encodeURIComponent("OrderCalculate?URL="+encodeURIComponent(t)),document.location.href="LogonForm?myAcctMain=1&storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&URL="+encodeURIComponent(t)}function handlePopup(e,t){currentPopup==t?document.location.href=e:currentPopup=t}function isAndroid(){if(null==android&&null!=navigator&&null!=navigator.userAgent){var e=navigator.userAgent.toLowerCase();android=-1<e.indexOf("android")}return android}setTimeout(function(){IpAddress()},5e3);var sort_by=function(t,o,n){var a=n?function(e){return n(e[t])}:function(e){return e[t]};return o=o?-1:1,function(e,t){return e=a(e),t=a(t),o*((t<e)-(e<t))}};function isIOS(){if(null==ios&&null!=navigator&&null!=navigator.userAgent){var e=navigator.userAgent.toLowerCase();ios=-1<e.indexOf("ipad")||-1<e.indexOf("iphone")||-1<e.indexOf("ipod")}return ios}function outlineSpots(){dojo.addClass(document.body,"editMode"),dojo.query(".carousel > .content").style({zIndex:"auto"}),dojo.query(".ESpotInfo").style({display:"block"}),dojo.query(".searchScore").style({display:"block"}),dojo.query(".editManagedContent").style({display:"block"});for(var e=dojo.query(".genericESpot,.product,.searchResultSpot,.productDetail,.categorySpot"),t=0;t<e.length;t++){var o=e[t];if(dojo.hasClass(o,"emptyESpot")){var n=dojo.query(".ESpotInfo",o)[0].offsetWidth+4,a=dojo.query(".ESpotInfo",o)[0].offsetHeight+4;dojo.attr(o,"_width",dojo.style(o,"width")),dojo.attr(o,"_height",dojo.style(o,"height")),dojo.style(o,{width:+n+"px",height:a+"px"})}0==dojo.query(".borderCaption",o).length?dojo.place("<div class='borderCaption'></div>",o,"first"):dojo.query(".borderCaption",o).style({display:"block"}),o.addEventListener?(o.addEventListener("mouseover",function(e){window.parent.frames[0].isSpotsShown()&&(dojo.query(".caption").style({display:"none"}),dojo.style(dojo.query(".caption",this)[0],{display:"block"}),e.stopPropagation())},!1),o.addEventListener("mouseout",function(e){window.parent.frames[0].isSpotsShown()&&(dojo.query(".caption",this).style({display:"none"}),e.stopPropagation())},!1)):o.attachEvent&&(o.onmouseover=function(e){return function(){window.parent.frames[0].isSpotsShown()&&(dojo.query(".caption").style({display:"none"}),dojo.style(dojo.query(".caption",e)[0],{display:"block"}),window.event.cancelBubble=!0)}}(o),o.onmouseleave=function(e){return function(){window.parent.frames[0].isSpotsShown()&&(dojo.query(".caption",e).style({display:"none"}),window.event.cancelBubble=!0)}}(o))}}function hideSpots(){dojo.removeClass(document.body,"editMode"),dojo.query(".carousel > .content").style({zIndex:""}),dojo.query(".ESpotInfo").style({display:"none"}),dojo.query(".caption").style({display:"none"}),dojo.query(".searchScore").style({display:"none"}),dojo.query(".editManagedContent").style({display:"none"}),dojo.query(".borderCaption").style({display:"none"}),dojo.query(".emptyESpot").forEach(function(e){dojo.style(e,{width:dojo.attr(e,"_width")+"px"}),dojo.style(e,{height:dojo.attr(e,"_height")+"px"})})}function logout(e){setDeleteCartCookie(),document.location.href=e}function getCoppelStateCityProvidenceByZipCode(e,t,o){console.log("interfase:ECOMM 015");var n=[],a={operation:15,zipCode:e,countryId:t,prefix:o};n.obJson=JSON.stringify(a),wc.service.invoke("searchCoppelStateCityProvidenceByZipCode",n)}function getCoppelStateCityProvidenceByZipCodeColoniasOficiales(e,t,o){var n=[],a={operation:"getcoloniaciudadestado",zipCode:e,countryId:t,prefix:o};n.obJson=JSON.stringify(a),wc.service.invoke("searchCoppelStateCityProvidenceByZipCodeColoniasOficiales",n)}function getCoppelCityByState(e,t,o){console.log("interfase:ECOMM 014");var n=o+"colonia",a=o+"city";(removeOptions(dojo.byId(n)),0==e)?removeOptions(dojo.byId(a)):getCityByStateCountry(e,t,a,o)}function getCoppelCityByStateColoniasOficiales(e,t,o){var n=o+"colonia",a=o+"city";dojo.byId(n);(removeOptionsColonia(),0==e)?removeOptions(dojo.byId(a)):getCityByStateCountryColoniasOficiales(e,t,a,o)}function getCoppelStateCityByProvince(e,t){for(var o=t+"city",n=t+"state",a=document.getElementById(t+"colonia").value,r=0;r<select.length;r++){var i=select[r];if(i.value==a){var l=i.id,d=i.title;break}}"null"!=l?document.getElementById(n).value=l:(l=document.getElementById(n).value,d=document.getElementById(o).value),this.getCityByStateCountry(l,e,o,t),window.setTimeout(function(){document.getElementById(o).value=d},1e3)}function getCoppelStateCityByProvinceColoniasOficiales(e,t){var o=t+"city",n=t+"state",a=document.getElementsByName("addressField3Hidden")[0].value;ele=$("#coloniaxdatalist li").filter(function(e){return this.attributes.value.value==a});var r="null";null!=ele[0].attributes.id&&(r=ele[0].attributes.id.value);var i="null";null!=ele[0].attributes.title&&(i=ele[0].attributes.title.value),"null"!=r?document.getElementById(n).value=r:(r=document.getElementById(n).value,i=document.getElementById("city")[document.getElementById("city").selectedIndex].text),ele=$("#coloniaxdatalist li").filter(function(e){return this.attributes.value.value==document.getElementsByName("addressField3Hidden")[0].value}),city.selected=i,document.getElementById("city").options.length=1,null!=ele[0].attributes.ciudad&&(city.numeroCiudad=ele[0].attributes.ciudad.value),this.getCityByStateCountryColoniasOficiales(r,e,o,t)}function getCoppelProvidenceByCityStateZipCode(e,t,o,n,a){console.log("interfase:ECOMM 017");var r=[],i={operation:17,zipCode:o,contryId:n,cityId:e,stateId:t,prefix:a};r.obJson=JSON.stringify(i),wc.service.invoke("searchCoppeNeighborHoodStateCityProvidenceByZipCode",r)}function getCoppelProvidenceByCityStateZipCodeColoniasOficiales(e,t,o,n,a){var r=[],i={operation:"getcolonias",zipCode:o,contryId:n,cityId:e,stateId:t,prefix:a};r.obJson=JSON.stringify(i),wc.service.invoke("searchCoppeNeighborHoodStateCityProvidenceByZipCodeColoniasOficiales",r)}function getCoppelZipCodeByStateCityProvince(e,t,o,n,a){console.log("interfase:ECOMM 016");var r=[],i={operation:16,contryId:e,cityId:o,stateId:t,providenceId:n,prefix:a};r.obJson=JSON.stringify(i),wc.service.invoke("searchZipCodeByStateCityProvidence",r)}function getCoppelZipCodeByStateCityProvinceColoniasOficiales(e,t,o,n,a){var r=[],i={operation:"getcodigopostal",contryId:e,cityId:o,stateId:t,providenceId:n,prefix:a};r.obJson=JSON.stringify(i),wc.service.invoke("searchZipCodeByStateCityProvidenceColoniasOficiales",r)}function removeURLParameter(e,t){var o=e.split("?");if(2<=o.length){for(var n=encodeURIComponent(t)+"=",a=o[1].split(/[&;]/g),r=a.length;0<r--;)-1!==a[r].lastIndexOf(n,0)&&a.splice(r,1);return e=o[0]+"?"+a.join("&")}return e}function resetProvidenceAndZipCode(e){var t=dojo.byId(e+"colonia"),o=dojo.byId(e+"city"),n=dojo.byId(e+"state"),a=dojo.byId(e+"zipCode");removeOptions(dojo.byId(t)),""!=a&&null!=a||(a=dojo.byId("WC__ShoppingCartAddressEntryForm_billing_zipCode_1")),a.value=0,this.getCoppelProvidenceByCityStateZipCode(o.value,n.value,a.value,"1",e)}function resetProvidenceAndZipCodeColoniasOficiales(e){dojo.byId(e+"colonia"),dojo.byId(e+"city");var t=dojo.byId(e+"state"),o=dojo.byId(e+"zipCode");removeOptionsColonia(),""!=o&&null!=o||(o=dojo.byId("WC__ShoppingCartAddressEntryForm_billing_zipCode_1")),o.value=0,this.getCoppelProvidenceByCityStateZipCodeColoniasOficiales($.trim(city.options[city.selectedIndex].text),t.value,o.value,"1",e)}function fillOptions(e,a,r,t){selectbox=dojo.byId(a),removeOptions(selectbox);var i=t+"colonia",l=t+"city";if(console.log(r.length),null==r.length){var o=document.createElement("option");a==i?(o.value=r.num_colonia,o.text=r.nom_colonia):a==l&&(o.value=r.numCiudad,o.text=r.nom_ciudad),selectbox.add(o)}else $.each(r,function(e){var t=JSON.stringify(r[e]),o=JSON.parse(t),n=document.createElement("option");a==i?(n.value=o.num_colonia,n.text=o.nomCiudad):a==l&&(n.value=o.numCiudad,n.text=o.nomCiudad),selectbox.add(n)})}function fillOptionsColoniasOficiales(e,a,r,t){selectbox=dojo.byId(a),removeOptions(selectbox);var i=t+"colonia",l=t+"city";if(console.log(r.length),null==r.length){var o=document.createElement("option");a==i?(o.value=r.numColonia,o.text=r.nomColonia):a==l&&(o.value=r.numCiudad,o.text=r.nomCiudad),selectbox.add(o)}else $.each(r,function(e){var t=JSON.stringify(r[e]),o=JSON.parse(t),n=document.createElement("option");a==i?(n.value=o.numColonia,n.text=o.nomCiudad):a==l&&(n.value=o.numCiudad,n.text=o.nomCiudad),selectbox.add(n)})}function fillOptionsWS(e,t,o,n){if(select=dojo.byId(e),removeOptions(select),console.log(t.length),null==t.length){var a=document.createElement("option");id==e||(id==cityId?(a.value=t.cityId,a.text=t.cityName):id==stateId&&(a.value=i.stateId,a.text=i.stateName)),select.add(a)}else for(var r=0;r<t.length;r++){var i=t[r];(a=document.createElement("option")).value=i.colonyId,a.text=i.colonyName,a.title=i.cityId,a.id=i.stateId,select.add(a)}}function fillOptionsWSColoniasOficiales(e,t,o,n){if(select=dojo.byId(e),removeOptionsColonia(),console.log(t.length),null==t.length){var a=document.createElement("option");id==e||(id==cityId?(a.value=t.numCiudad,a.text=t.nomCiudad):id==stateId&&(a.value=i.numEstado,a.text=i.nomEstado))}else{for(var r=0;r<t.length;r++){var i=t[r];(a=document.createElement("option")).value=i.numColonia,a.text=i.nomColonia,a.title=null!=i.nomCiudad?i.nomCiudad:null,a.id=null!=i.numEstado?i.numEstado:null,a.setAttribute("ciudad",i.numCiudad),zip=null!=i.numCodigoPostal?i.numCodigoPostal:"",a.setAttribute("zipcode",zip),li=document.createElement("li"),li.innerText=i.nomColonia,li.setAttribute("value",i.numColonia),li.setAttribute("title",a.title),li.setAttribute("id",a.id),li.setAttribute("ciudad",i.numCiudad),li.setAttribute("zipcode",zip),datalist=document.getElementById("coloniaxdatalist"),datalist.appendChild(li),$("#coloniaxdatalist li").each(function(){this.addEventListener("click",coloniaDataListHandleClick)})}document.colonias=$("#coloniaxdatalist li")}}function coloniaDataListHandleClick(e,t){elemento=null==this.attributes?t:this,e.stopPropagation(),document.getElementsByName("addressField3Hidden")[0].value=elemento.attributes.value.value,document.getElementById("colonia").value=0==elemento.attributes.value.value?"":elemento.innerText,$("#coloniaxdatalist").hide(),$("#coloniaAux").trigger("keyup"),1==$("#coloniaxdatalist li").length&&"Elegir"==$("#coloniaxdatalist li")[0].innerText&&0<document.colonias.length&&$("#coloniaxdatalist").append(document.colonias).find("li:first").remove(),$("#colonia").trigger("change")}function removeOptionsColonia(){li=document.createElement("li"),li.innerText="Elegir",li.setAttribute("value",0),$("#coloniaxdatalist li").remove(),$("#coloniaxdatalist").append(li),document.getElementById("colonia").value="",document.getElementById("colonia").placeholder="Elegir",document.getElementsByName("addressField3Hidden")[0].value="0"}function removeOptions(e){for(;0<e.options.length;)e.remove(0);var t=document.createElement("option");t.value=0,t.text="cmbCity"==e.id?"Elige la ciudad":"Elegir",e.add(t)}function showCambiarTienda(){showElementById("cmbTienda"),document.getElementById("quickLinks").className="selected"}function hideCambiarTienda(){hideElementById("cmbTienda"),document.getElementById("quickLinks").className=document.getElementById("quickLinksBar").className.replace(/\bselected\b/,"")}function redirectStore(e){document.URL,e=e;var t=document.getElementById("cmbCity").value;if("0"==t)alert("Seleccionda una Ciudad");else{t.split("|")[0];var o=t.split("|")[1];window.top.location=o?"http://"+e+"/webapp/wcs/stores/servlet/StoreView?storeId="+o:"http://"+e+"/webapp/wcs/stores/servlet/es/auroraesite"}}function getCityCoppelByState(e){var t=[],o={operation:"getCityCoppelByState",stateId:e};t.obJson=JSON.stringify(o),wc.service.invoke("getCityCoppelByState",t)}function getCityCoppelByStateBusTienda(e){var t=[],o={operation:"getCityCoppelByState",stateId:e};t.obJson=JSON.stringify(o),wc.service.invoke("getCityCoppelByStateBusTienda",t)}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var a=o[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function deleteTableRows(e){var t=document.getElementById(e),o=t.rows.length;if(console.log("table.rows.length:"+o),1==o)console.log("no delete titel:");else for(var n=0;n<o;n++)0!=n&&(t.deleteRow(n),o--,n--)}function getCityCoppelByStateLada(e){getCityCoppelByStateNameLada(e)}function getCityCoppelByStateNameLada(e){var t=[],o={operation:"getCityCoppelByStateNameLada",stateName:e};t.obJson=JSON.stringify(o),wc.service.invoke("getCityCoppelByStateNameLada",t)}function validateSelect(){var e=document.getElementById("cmbStateLada");"selectcard"==e.options[e.selectedIndex].value&&alert("Please select a card type")}function updateCityLadaCoppelLada(e){document.getElementsByClassName("ladaNumberId").length<=1?(document.getElementById("ladaNumberId").innerHTML=e.options[e.selectedIndex].value,"undefined"!=typeof InstallTrigger?(document.getElementById("cityNameLada").innerHTML=e.options[e.selectedIndex].textContent,document.getElementById("numCiudadTelcel").innerHTML=e.options[e.selectedIndex].label):(document.getElementById("cityNameLada").innerHTML=e.options[e.selectedIndex].label,document.getElementById("numCiudadTelcel").innerHTML=e.options[e.selectedIndex].textContent)):updateCityLadaCoppelLadaCompare(e)}function updateCityLadaCoppelLadaCompare(e){document.getElementsByClassName("ladaNumberId")[1].innerHTML=e.options[e.selectedIndex].value,"undefined"!=typeof InstallTrigger?(document.getElementsByClassName("cityNameLada")[1].innerHTML=e.options[e.selectedIndex].textContent,document.getElementsByClassName("numCiudadTelcel")[1].innerHTML=e.options[e.selectedIndex].label):(document.getElementsByClassName("cityNameLada")[1].innerHTML=e.options[e.selectedIndex].label,document.getElementsByClassName("numCiudadTelcel")[1].innerHTML=e.options[e.selectedIndex].textContent)}function getStateCoppelByCityLada(e){if(null==getGenericCookieValue("cityAndStateName")){e=document.getElementById("cityNAME").value,console.log("user dont choose city , so set cityName By GeoLoc")}var t=[],o={operation:"getStateCoppelByCityLada",cityNAME:e};null!=infoStatesLada?populateStateSelectBox(infoStatesLada):(t.obJson=JSON.stringify(o),wc.service.invoke("getStateCoppelByCityLada",t))}function saveRedirect(e){var t=document.getElementById("idsTo").value,o=document.getElementById("stateIdTo").value,n=document.getElementById("stateTo").value,a=document.getElementById("cityTo").value,r=document.getElementById("netAcuity").value,i=[],l="saveCookie";r&&""!=r&&(l="saveCookieNetAcuity");var d={operation:l,city:n,state:a,serverName:e,ids:t,stateId:o,netAcuity:r};i.obJson=JSON.stringify(d),wc.service.invoke("redirectLastLocation",i)}function saveStateAndCity(e){var t=[],o=document.getElementById("cmbCity"),n=document.getElementById("cmbState"),a=document.getElementById("cmbCity").value,r=document.getElementById("cmbState").value,i=o.options[o.selectedIndex].text,l=n.options[n.selectedIndex].text,d=document.getElementById("bodegaId").value;if("0"==r)return MessageHelper.formErrorHandleClient(n.id,"Elige un Estado."),!1;if("0"==a)return MessageHelper.formErrorHandleClient(o.id,"Elige una ciudad."),!1;var s={operation:"saveCookie",city:i,state:l,serverName:e,ids:a,stateId:r,bodegaId:d};t.obJson=JSON.stringify(s),wc.service.invoke("saveCookie",t)}function getCityByStateCountry(e,t,o,n){var a=[],r={operation:14,stateId:e,contryId:t,cityId:o,prefix:n};a.obJson=JSON.stringify(r),wc.service.invoke("getCityByStateCountry",a)}function getCityByStateCountryColoniasOficiales(e,t,o,n){var a=[],r={operation:"getciudades",stateId:e,contryId:t,cityId:o,prefix:""};a.obJson=JSON.stringify(r),wc.service.invoke("getCityByStateCountryColoniasOficiales",a)}function showPopUpMessage(){var e=dojo.byId("MessageAreaPopUP"),t=new Array;t.node=e,t.duration=200,t.delay=0,dojo.style(e,"opacity",0),null!=dijit.byId("MessageArea_ACCE_Title")&&(dijit.byId("MessageArea_ACCE_Title").style.display="block"),dojo.style(e,"display","block"),dojo.style("background_shadow","display","block"),dojo.fadeIn(t).play()}function populateCitySelectBox(e){2==document.getElementsByClassName("lada_data").length&&(d=document.getElementsByClassName("lada_data"))[0].parentNode.removeChild(d[0]);selectbox=dojo.byId("cmbCityLada");var t="",o=null,n=document.getElementById("stateNAME").value,a=(n=n.split(","))[0];if(a=a.trim(),removeOptions(selectbox),"undefined"!=typeof InstallTrigger){if(0<e.length)for(var r=0;r<e.length;r++){t=e[r],(i=document.createElement("option")).value=t.numLada,i.text=t.nomCiudadTelcel,i.label=t.numCiudadTelcel,t.nomCiudadTelcel==a&&(a=t.numLada,o=t.numCiudadTelcel),selectbox.add(i)}}else if(0<e.length)for(r=0;r<e.length;r++){var i;t=e[r],(i=document.createElement("option")).value=t.numLada,i.text=t.numCiudadTelcel,i.label=t.nomCiudadTelcel,t.nomCiudadTelcel==a&&(a=t.numLada,o=t.numCiudadTelcel),selectbox.add(i)}document.getElementById("numCiudadTelcel").innerHTML=null!=o?(document.getElementById("ladaNumberId").innerHTML=a,o):(document.getElementById("ladaNumberId").innerHTML=e[0].numLada,e[0].numCiudadTelcel);var l=dojo.byId("cityNAME").value;(l=l.trim(),0==document.getElementById("cmbCityLada").options[0].value)&&(!!document.documentMode?document.getElementById("cmbCityLada").removeChild(document.getElementById("cmbCityLada").options[0]):document.getElementById("cmbCityLada").options[0].remove());if(null!=o)document.getElementById("cityNameLada").innerHTML=l;else{document.getElementById("cityNameLada").innerHTML=e[0].nomCiudadTelcel;var d=document.getElementById("cmbCityLada");for(r=0;r<d.options.length;++r){d.options[r].text===e[0].nomCiudadTelcel&&(d.options[r].selected=!0);break}}null!=document.getElementById("MessageAreaPopUpContent")&&null!=dojo.byId("ContentMessageforTelcel")&&(document.getElementById("ContentMessageforTelcel").style.display="block"),l=a=o=null}function populateStateSelectBox(e){if(2==document.getElementsByClassName("lada_data").length){var t=document.getElementsByClassName("lada_data");t[0].parentNode.removeChild(t[0])}selectbox=dojo.byId("cmbStateLada"),removeOptions(selectbox);var o=null;if(0<e.length)for(var n=0;n<e.length;n++){o=e[n];var a=document.createElement("option");a.value=o.nomEstado,a.text=o.nomEstado,selectbox.add(a)}0==document.getElementById("cmbStateLada").options[0].value&&(!!document.documentMode?document.getElementById("cmbStateLada").removeChild(document.getElementById("cmbStateLada").options[0]):document.getElementById("cmbStateLada").options[0].remove());var r=document.getElementById("stateNAME").value,i=(r=r.split(","))[1];getCityCoppelByStateNameLada(i=i.trim())}function isTellCelProduct(){var e=document.getElementById("main_header_name"),t=e.innerText||e.textContent;return-1!=(t=t.toUpperCase()).indexOf("TELCEL")}function showIframeLadaTelcel(e){var t=document.getElementById("MessageAreaPopUpContent");null!=t&&displayPopUPMessage(t.innerHTML,e)}function displayPopUPMessage(e,t){dojo.byId("showCotentBody").innerHTML=e;var o=document.getElementById("ProductInfoName_"+t).value,n=document.getElementById("ProductInfoImage_"+t).value,a=document.getElementById("price_display_"+t).innerHTML,r=document.getElementById("shopperActionsCotent_"+t).innerHTML;document.getElementById("shopperActionsCotentPopUpButton").innerHTML=r,document.getElementById("shopperActionsCotentPopUpProductImg").innerHTML='<img src="'+n+'" alt="TELCEL">',document.getElementById("shopperActionsCotentPopUpProductName").innerHTML=o,document.getElementById("shopperActionsCotentPopUpProductPrice").innerHTML=a,getStateCoppelByCityLada(document.getElementById("cityNAME").value),showPopUpMessage(),dojo.byId("clickClosedMessageIcon").focus(),setTimeout(function(){null!=dojo.byId("showCotentBody")&&dojo.byId("showCotentBody").focus()},1e3)}function populateStoreLocatorResults(e,t){var o="<tbody>";null!=document.getElementById("storelocator_table")&&dojo.destroy("storelocator_table tr");var n=null;if($("#h2ResultadosMapa").removeAttr("style"),0<e.length){for(var a=0;a<e.length;a++){var r=reemplazarAcentos((n=e[a]).address3.trim().toLowerCase());o+='<tr">',o+="<td>",o+='<a href="/'+("coppel-"+(r=(r=(r=(r=(r=(r=(r=(r=r.replace("coppel","")).replace("  "," ")).replace("  "," ")).replace("(","")).replace(")","")).replace(/\./g,"")).trim()).replace(/\s/g,"-"))+"-"+n.identifier)+'" >',o+='<span class="shop_name">'+n.address3+"</span>",o+='<span class="address">'+n.address1.substring(0,32).trim()+"...</span>",o+='<i class="fa fa-chevron-right pull-right"></i>',o+="</a>",o+="</td>",o+="</tr>"}loadMarkerMap(e)}else alert("No se encuentra Tiendas");o+="</tbody>";document.getElementById("storelocator_table").innerHTML='<table id="storelocator_table" tabindex="-1"  cellpadding="0" cellspacing="0" width="100%" class="store_results"><thead><tr><th>Tienda</th><th>Horario</th><th></th></tr></thead>'+o,t&&loadSelectBoxDefaultValueByCityStateName()}function changeImageDriving(e){var t=e.src;(t=t.replace("driving_icon_clicked.jpg","driving_icon.jpg"))==e.src?(document.getElementById("radiotravelDrivingImg").src="/wcsstore/AuroraStorefrontAssetStore/images/storeLocator/driving_icon_clicked.jpg",document.getElementById("radiotravelWalkingImg").src="/wcsstore/AuroraStorefrontAssetStore/images/storeLocator/walking_icon.jpg"):document.getElementById("radiotravelDrivingImg").src=t}function Suscripciones(e,t){if(validateFormNewlatter(e)){var o;o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())?"22":"2";var n=[];n.sendNewlatter=e.sendNewlatter.value,n.genero=t,n.subOrigen=o,n.IPRegistro=$("#IpInorganico").val(),wc.service.invoke("suscripcion",n)}}function validateFormNewlatter(e){var t=e.sendNewlatter.value;e.sendNewlatter.id;return""==t||null==t?(MessageHelper.formErrorHandleClient(e.sendNewlatter.id,"Campo obligatorio."),!1):t.length<=5?(MessageHelper.formErrorHandleClient(e.sendNewlatter.id,"email incorrecto, debe ser mayor a 5 caracteres "),!1):!!MessageHelper.isValidEmail(t)||(MessageHelper.formErrorHandleClient(e.sendNewlatter.id,"Correo electronico no valido"),!1)}function changeImageWalking(e){var t=e.src;(t=t.replace("walking_icon_clicked.jpg","walking_icon.jpg"))==e.src?(document.getElementById("radiotravelWalkingImg").src="/wcsstore/AuroraStorefrontAssetStore/images/storeLocator/walking_icon_clicked.jpg",document.getElementById("radiotravelDrivingImg").src="/wcsstore/AuroraStorefrontAssetStore/images/storeLocator/driving_icon.jpg"):document.getElementById("radiotravelWalkingImg").src=t}function loadSelectBoxDefaultValueByCityStateName(){var e=document.getElementById("stateNAME").value,t=(e=e.split(","))[0];t=t.trim();var o,n=e[1],a="";setTimeout(function(){for(o=document.getElementById("selectState"),i=0;i<o.length;i++)if(o.options[i].text===n.trim().toUpperCase()){o.options[i].selected=!0,a=o.options[i].value;break}storeLocatorJS.changeProvinceSelection(a)},300),setTimeout(function(){for(o=document.getElementById("selectCity"),i=0;i<o.length;i++)if(o.options[i].text===t.trim().toUpperCase()){o.options[i].selected=!0,o.options[i].text=t;break}},2e3)}function loadSelectBoxDefaultValueByStateNameChange(t){storeLocatorJS.changeProvinceSelection(o);var o="";setTimeout(function(){var e=document.getElementById("selectState");for(i=0;i<e.length;i++)if(e.options[i].text===t.trim()){e.options[i].selected=!0,o=e.options[i].value;break}},2e3)}function loadSelectBoxDefaultValueByCityNameChange(e){setTimeout(function(){for(element=document.getElementById("selectCity"),i=0;i<element.length;i++)if(element.options[i].text===e.trim()){element.options[i].selected=!0,element.options[i].text=e;break}},2e3)}function refreshMap(){var e=document.getElementById("selectCity");e=e.options[e.selectedIndex].textContent;var t=document.getElementById("selectCity");t=t.options[t.selectedIndex].textContent,"undefined"!=e&&getStoreLocatorCoppelByCityName(t+","+e),dojo.empty("directionsPanel"),loadSelectBoxDefaultValueByCityStateName()}function loadMarkerMap(o){var e,t,n=o[0],a=new google.maps.Map(document.getElementById("map-canvas"),{zoom:13,center:new google.maps.LatLng(n.latitude,n.longitude),mapTypeId:google.maps.MapTypeId.ROADMAP}),r=new google.maps.InfoWindow;for(t=0;t<o.length;t++){var i=o[t].latitude,l=o[t].longitude;e=new google.maps.Marker({position:new google.maps.LatLng(i,l),map:a}),google.maps.event.addListener(e,"click",function(e,t){return function(){r.setContent(o[t].address3),setStoreLocatorUserChoose(o[t].latitude,+o[t].longitude),r.open(a,e)}}(e,t))}}function showPopUpMarkerMap(e,t,o){var n,a=new google.maps.Map(document.getElementById("map-canvas"),{zoom:18,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP}),r=new google.maps.InfoWindow;n=new google.maps.Marker({position:new google.maps.LatLng(e,t),map:a}),r.setContent(storeLocatorResults[o].address3),setStoreLocatorUserChoose(e,t),r.open(a,n),document.getElementById("map-canvas").scrollIntoView()}function storeLocatorResultsCalcDist(e,t){var o={latitude:e,longitude:t},n=new Array(storeLocatorResultsCalc.length);for(l=0;l<storeLocatorResultsCalc.length;l++){var a=storeLocatorResultsCalc[l];n[l]=getDistance(o,a)}for(var r=0,i=n[0],l=1;l<n.length;l++)n[l]<i&&(i=n[l],r=l);return storeLocatorResultsCalc[r]}function rad(e){return e*Math.PI/180}function getDistance(e,t){var o=rad(t.latitude-e.latitude),n=rad(t.longitude-e.longitude),a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(rad(e.latitude))*Math.cos(rad(t.latitude))*Math.sin(n/2)*Math.sin(n/2);return 6378137*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}function getStoreLocatorCoppel(e,t){var o=[],n={operation:"lookforStoreLocator",geonodeId:e,cityName:t};o.obJson=JSON.stringify(n),wc.service.invoke("getStoreLocatorCoppel",o)}function getStoreLocatorCoppelByCityName(e){var t=(e=cityAndStateName.split(", "))[0],o=e[1];if(null==o&&(t=(e=cityAndStateName.split(","))[0],o=e[1]),null==t||null==o){var n=document.getElementById("selectState");o=n.options[n.selectedIndex].textContent,t=(n=document.getElementById("selectCity")).options[n.selectedIndex].textContent}var a=[],r={operation:"lookforStoreLocatorByCityName",cityName:t,stateName:o};a.obJson=JSON.stringify(r),wc.service.invoke("getStoreLocatorCoppelOnLoad",a)}function getStoreLocatorCoppelByCityNameOnChange(e){var t=e.split(","),o=t[0],n=[],a={operation:"lookforStoreLocatorByCityName",cityName:t[1],stateName:o};n.obJson=JSON.stringify(a),wc.service.invoke("getStoreLocatorCoppelOnChange",n)}function setStoreLocatorCoppelByCityNameChange(e){getStoreLocatorCoppelByCityNameOnChange(e.options[e.selectedIndex].text),loadSelectBoxDefaultValueByCityNameChange(e.options[e.selectedIndex].text)}function setStoreLocatorCoppelByStateNameChange(e){loadSelectBoxDefaultValueByStateNameChange(e.options[e.selectedIndex].text)}function showEstateCity(e){if(2==document.getElementsByClassName("descriptionSelectBox").length)showEstateCityList(e);else{var t=document.getElementById(e);"block"==t.style.display?t.style.display="none":t.style.display="block"}}function showEstateCityList(e){var t=document.getElementsByClassName(e);"block"==t[1].style.display?t[1].style.display="none":t[1].style.display="block"}function hideMessageLada(e){e.checked&&(document.getElementById("alert_msg_lada").style.display="none")}function savePreferencesSubscription(e){console.log("start savePreferencesSubscription");for(var t=department,o=[],n=0;n<t.length;n++){var a=t[n];o.push({value:a.value,checked:a.checked,name:a.getAttribute("category")})}var r=[],i={userId:e,preferences:o};r.obJson=JSON.stringify(i),wc.service.invoke("savePreferencesSubscription",r),console.log("end savePreferencesSubscription")}function saveCorreoPromo(){console.log("start saveCorreoPromo");var e=document.getElementById("hotsale-mail");if(reWhiteSpace=new RegExp(/^\s+$/),""==e.value||reWhiteSpace.test(e.value))return MessageHelper.formErrorHandleClient(e.id,"Favor de proporcionar un correo"),cursor_clear(),!1;if(!MessageHelper.isValidUTF8length(e.value,256))return MessageHelper.formErrorHandleClient(e.id,"El correo es demasiado largo"),cursor_clear(),!1;if(!MessageHelper.isValidEmail(e.value))return MessageHelper.formErrorHandleClient(e.id,"El correo es incorrecto"),cursor_clear(),!1;var t=[];e.value;t.email=e.value,wc.service.invoke("saveCorreoPromo",t)}function openMessageModalContentGeneric(e,t,o){if(null==document.getElementById("view-generic-message-content-modal")){var n="";n+="\x3c!-- begin view-generic-message-content-modal --\x3e",n+=' <div class="view-generic-message-content-modal-content">',n+='    <div class="view-generic-message-content-modal-header">',n+='      <span class="view-generic-message-content-close" title="Cerrar" id="view-generic-message-content-close">&times;</span>',n+="      <h2><b>"+e+"</b></h2>",n+="    </div>",n+='    <div class="view-generic-message-content-modal-body"> <p>'+t+"</p>  </div>",n+='    <div class="view-generic-message-content-modal-footer">',n+="      <h3>"+o+"</h3>",n+="    </div>",n+=" </div>",n+="\x3c!-- end view-generic-message-content-modal --\x3e";var a=document.createElement("div");a.id="view-generic-message-content-modal",a.className="view-generic-message-content-modal",a.innerHTML=n,document.getElementsByTagName("body")[0].appendChild(a),addscriptEventModal()||console.debug("ocurrio un error al agregar el script GenericMessageModalContentEvent")}}function addscriptEventModal(){var e=!1;try{var t=document.createElement("script");t.type="text/javascript",t.src="/wcsstore/AuroraStorefrontAssetStore/javascript/GenericMessageModalContentEvent.js",document.getElementsByTagName("head")[0].appendChild(t),e=!0}catch(e){}return e}function cargarModalSinCuentasPendientesAbonar(){openModal("Felicidades",'<div class="row"><div class="col-xs-12 col-md-12 col-lg-12"><div  class="text-center"><img src="../../AuroraStorefrontAssetStore/images/abonos/advertencia.svg" class="rounded" alt=""/></div></div></div><div class="row"><div class="col-xs-12 col-md-12 col-lg-12"><div class="text-center"><h6 id="modal_text"> No tienes ningÃºn saldo pendiente Â¡Felicidades!</h6></div></div></div><div class="row"><div class="col-xs-12 col-md-12 col-lg-12 button"><input id="btnVerNuestrasMejoresOfertas" class="btn btn-primary btn-lg btn-block" type="button" value="Ver nuestras mejores ofertas" ><input id="btnBack" class="btn btn-outline-primary btn-lg btn-block" type="button" value="Volver a mi cuenta" >'),$("#modalAlert").addClass("abonos_modal"),$("#btnBack").click(function(){$("#modalAlert").modal("toggle")}),$("#btnVerNuestrasMejoresOfertas").click(function(){location.href=absoluteURL})}function abrirModalAbonosError(e){"-10"==e?($("#modalAbonosError #modal_text").html(abonos_modal_error_consultar_title_1),$("#modalAbonosError  #modal_text_descripcion").html(abonos_modal_error_consultar_description_1)):"-8"==e||"-9"==e||"-1"==e||"-3"==e||"-2"==e||"-30"==e||"-5"==e||"-6"==e||"-33"==e?($("#modalAbonosError #modal_text").html(abonos_modal_error_consultar_title_2),$("#modalAbonosError  #modal_text_descripcion").html(abonos_modal_error_consultar_description_2)):($("#modalAbonosError #modal_text").html(abonos_modal_error_consultar_title_3),$("#modalAbonosError  #modal_text_descripcion").html(abonos_modal_error_consultar_description_3)),$("#modalAbonosError").modal("show")}function checkAbono(){var e={abonoToken:abonotToken,mostrarResponse:!1};wc.service.invoke("AbonoMenuLink",e)}function IpAddress(){var e=window.webkitRTCPeerConnection||window.mozRTCPeerConnection;e&&function(){var t=new e({iceServers:[]});t.createDataChannel("",{reliable:!1}),t.onicecandidate=function(e){e.candidate&&o("a="+e.candidate.candidate)},t.createOffer(function(e){o(e.sdp),t.setLocalDescription(e)},function(e){console.warn("offer failed",e)});var a=Object.create(null);function o(e){var n;e.split("\r\n").forEach(function(e){if(~e.indexOf("a=candidate")){var t=e.split(" "),o=t[4];"host"===t[7]&&(n=function(e){if(!(e in a)){a[e]=!0;var t=Object.keys(a).filter(function(e){return a[e]});return LgIpDynAdd=t.join(" or perhaps ")||"n/a",LgIpDynAdd}}(o),$("#IpInorganico").prop("value",n))}else e.indexOf("c=")})}a["0.0.0.0"]=!1}()}function getStoreLocatorCoppelByURL(e){var t=[],o={operation:"lookforStoreLocatorById",identifier:e};t.obJson=JSON.stringify(o),wc.service.invoke("getStoreLocatorByURL",t)}function VerInfoUbicacionMapa(e){$(".resultados-mapa").addClass("Ocultar"),$(".formUbicacion").addClass("Ocultar"),$(".infoUbicacion").addClass("Mostrar"),$("#NombreTienda").html(e[0].address3),$("#DireccionTienda").html(e[0].address1),$("#CiudadEstadoTienda").html(e[0].city+","+e[0].state),$("#TelefonoTienda").html(e[0].phone),$("#HorarioTienda").html(e[0].address2),showPopUpMarkerMapURL(e[0].latitude,e[0].longitude,e)}function VolverBusquedaUbicacion(){$(".resultados-mapa").removeClass("Ocultar"),$(".formUbicacion").removeClass("Ocultar"),$(".infoUbicacion").removeClass("Mostrar")}function VerMapaMobile(){$(".infoUbicacion").removeClass("Mostrar"),$(".contenedorMapa").addClass("Mostrar")}function mostrarInfoTienda(){$(".infoUbicacion").addClass("Mostrar"),$(".contenedorMapa").removeClass("Mostrar")}function showPopUpMarkerMapURL(e,t,o){var n,a=new google.maps.Map(document.getElementById("map-canvas"),{zoom:18,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP}),r=new google.maps.InfoWindow;n=new google.maps.Marker({position:new google.maps.LatLng(e,t),map:a}),r.setContent(o[0].address3),setStoreLocatorUserChoose(e,t),r.open(a,n),document.getElementById("map-canvas").scrollIntoView()}function reemplazarAcentos(e){var t={"Ã¡":"a","Ã©":"e","Ã­":"i","Ã³":"o","Ãº":"u","Ã ":"a","Ã¨":"e","Ã¬":"i","Ã²":"o","Ã¹":"u","Ã±":"n","Ã":"A","Ã‰":"E","Ã":"I","Ã“":"O","Ãš":"U","Ã€":"A","Ãˆ":"E","ÃŒ":"I","Ã’":"O","Ã™":"U","Ã‘":"N"};return e.replace(/[Ã¡Ã Ã©Ã¨Ã­Ã¬Ã³Ã²ÃºÃ¹Ã±]/gi,function(e){return t[e]})}wc.service.declare({id:"getCityByStateCountry",actionId:"getCityByStateCountry",url:"searchLocationAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=e.listCiudadesVOs;fillOptions("",null!=e.cityId?e.cityId:"city",t,e.prefix)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador"),console.log("error:"+error),removeOptions(dojo.byId(cityId))}}),wc.service.declare({id:"getCityByStateCountryColoniasOficiales",actionId:"getCityByStateCountryColoniasOficiales",url:"searchColoniasOficialesAjaxCmd",formId:"",successHandler:function(e){if(cursor_clear(),fillOptionsColoniasOficiales("","city",e.response.data.ciudad,""),null!=city.selected)for(i=0;i<city.length;i++)jQuery.trim(city[i].text)==city.selected&&(city.selectedIndex=i);city.options[city.selectedIndex].value=city.numeroCiudad,city.selected=void 0},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador"),console.log("error:"+error),removeOptions(dojo.byId(cityId))}}),wc.service.declare({id:"getCityCoppelByState",actionId:"getCityCoppelByState",url:"look4StoreAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=e.infoCities;if(selectbox=dojo.byId("cmbCity"),removeOptions(selectbox),0<t.length)for(var o=0;o<t.length;o++){var n=t[o],a=document.createElement("option");a.value=n.code+"|"+n.storeId,a.text=n.name,selectbox.add(a)}},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"getCityCoppelByStateBusTienda",actionId:"getCityCoppelByState",url:"look4StoreAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=e.infoCities;if(console.log(t),selectbox=dojo.byId("cmbCityBusTienda"),removeOptions(selectbox),selectedCmbValue="0",0<t.length)for(var o=0;o<t.length;o++){var n=t[o],a=document.createElement("option");a.value=n.code+"|"+n.storeId,a.text=n.name,n.code==productDisplayJS.cityIdBusqueda&&(selectedCmbValue=a.value),selectbox.add(a)}selectbox.value=selectedCmbValue,""!=productDisplayJS.cityIdBusqueda?productDisplayJS.cityIdBusqueda="":deleteTableRows("dataInventoryTable")},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"getCityCoppelByStateNameLada",actionId:"getCityCoppelByStateNameLada",url:"look4StoreAjaxCmd",formId:"",successHandler:function(e){cursor_clear(),populateCitySelectBox(infoCitiesLada=e.infoCities)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"getStateCoppelByCityLada",actionId:"getStateCoppelByCityLada",url:"look4StoreAjaxCmd",formId:"",successHandler:function(e){cursor_clear(),populateStateSelectBox(infoStatesLada=e.infoStates)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"saveCookie",actionId:"saveCookie",url:"look4StoreAjaxCmd",formId:"",successHandler:function(e){cursor_clear(),console.log(e);document.URL,e.serverName,e.tienda;var t=document.getElementById("cmbCity").value;t.split("|")[0],t.split("|")[1];document.location.href=absoluteURLSercurity},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"redirectLastLocation",actionId:"redirectLastLocation",url:"look4StoreAjaxCmd",formId:"",successHandler:function(serviceResponse){cursor_clear(),console.log(serviceResponse);var currentURL=document.URL,serverName=serviceResponse.serverName,obj=eval("("+serviceResponse.obJson[0]+")"),ids=obj.ids,cityID=ids.split("|")[0],storeID=ids.split("|")[1];window.top.location=storeID?"http://"+serverName+"/webapp/wcs/stores/servlet/StoreView?storeId="+storeID:"http://"+serverName+"/webapp/wcs/stores/servlet/es/auroraesite"},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"searchZipCodeByStateCityProvidence",actionId:"searchZipCodeByStateCityProvidence",url:"searchLocationAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=e.prefix,o=e.listCPVOs,n=document.getElementById(t+"zipCode");if(null==n&&(n=document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1")),null!=o.length&&0<o.length){var a=o[0];5==a.numCodigopostal.toString().length?n.value=a.numCodigopostal:n.value="0"+a.numCodigopostal}},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"searchZipCodeByStateCityProvidenceColoniasOficiales",actionId:"searchZipCodeByStateCityProvidenceColoniasOficiales",url:"searchColoniasOficialesAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=e.response.data.codigoPostal,o=document.getElementById("zipCode");if(null==o&&(o=document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1")),null!=t.length&&0<t.length){var n=t[0];5==n.numCodigoPostal.toString().length?o.value=n.numCodigoPostal:o.value="0"+n.numCodigoPostal}},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"getStoreLocatorCoppel",actionId:"getStoreLocatorCoppel",url:"lookforStoreLocator",formId:"",successHandler:function(e){cursor_clear(),storeLocatorResults=e.storeLocatorResults,storeLocatorResultsCalc=storeLocatorResults,populateStoreLocatorResults(storeLocatorResults,!1)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"getStoreLocatorCoppelOnLoad",actionId:"getStoreLocatorCoppelOnLoad",url:"lookforStoreLocator",formId:"",successHandler:function(e){cursor_clear(),storeLocatorResults=e.storeLocatorResults,storeLocatorResultsCalc=storeLocatorResults,populateStoreLocatorResults(storeLocatorResults,!0)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"getStoreLocatorCoppelOnChange",actionId:"getStoreLocatorCoppelOnChange",url:"lookforStoreLocator",formId:"",successHandler:function(e){cursor_clear(),storeLocatorResults=e.storeLocatorResults,storeLocatorResultsCalc=storeLocatorResults,populateStoreLocatorResults(storeLocatorResults,!1)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"searchCoppeNeighborHoodStateCityProvidenceByZipCode",actionId:"searchCoppeNeighborHoodStateCityProvidenceByZipCode",url:"searchLocationAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=e.prefix,o=t+"colonia",n=e.listNeighborhoodVOs,a=document.getElementById(t+"zipCode");fillOptionsWS(o,n,t,!1),""!=a&&null!=a||(a=document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1")),a.value=""},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"searchCoppeNeighborHoodStateCityProvidenceByZipCodeColoniasOficiales",actionId:"searchCoppeNeighborHoodStateCityProvidenceByZipCodeColoniasOficiales",url:"searchColoniasOficialesAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=e.response.data.colonia,o=document.getElementById("zipCode");fillOptionsWSColoniasOficiales("colonia",t,"",!1),""!=o&&null!=o||(o=document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1")),localStorage.setItem("coloniaIdSelected",""),localStorage.setItem("coloniaNameSelected",""),localStorage.setItem("lastZipCode",""),o.value=""},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"searchCoppelStateCityProvidenceByZipCode",actionId:"searchCoppelStateCityProvidenceByZipCode",url:"searchLocationAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=(n=e.prefix)+"colonia";if("OK"==e.response.codigo){var o=e.response.datos.coloniaCiudadEstado;fillOptionsWS(t,o=o.sort(sort_by("colonyName",!1,function(e){return e.toUpperCase()})),n,!0)}else{var n;cursor_clear(),""==(n=document.getElementById("prefix").value)||"shipping_"==n?(document.getElementById(n+"zipCode").value="",document.getElementById(n+"colonia").value=0,document.getElementById(n+"state").value=0,document.getElementById(n+"city").value=0,MessageHelper.formErrorHandleClient(n+"zipCode",MessageHelper.messages.ERROR_ErrorZipCode)):(n="",document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1").value="",document.getElementById(n+"colonia").value=0,document.getElementById(n+"state").value=0,document.getElementById(n+"city").value=0,MessageHelper.formErrorHandleClient("WC__ShoppingCartAddressEntryForm_billing_zipCode_1",MessageHelper.messages.ERROR_ErrorZipCode))}},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear();var t=document.getElementById("prefix").value;""==t||"shipping_"==t?(document.getElementById(t+"zipCode").value="",document.getElementById(t+"colonia").value=0,document.getElementById(t+"state").value=0,document.getElementById(t+"city").value=0,MessageHelper.formErrorHandleClient(t+"zipCode",MessageHelper.messages.ERROR_ErrorZipCode)):(t="",document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1").value="",document.getElementById(t+"colonia").value=0,document.getElementById(t+"state").value=0,document.getElementById(t+"city").value=0,MessageHelper.formErrorHandleClient("WC__ShoppingCartAddressEntryForm_billing_zipCode_1",MessageHelper.messages.ERROR_ErrorZipCode))}}),wc.service.declare({id:"savePreferencesSubscription",actionId:"savePreferencesSubscription",url:"savePreferencesAjaxCmd",formId:"",successHandler:function(e){cursor_clear(),console.log("response:"+e),alert(e.status)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"saveCorreoPromo",actionId:"saveCorreoPromo",url:"saveCorreoPromoAjaxCmd",formId:"",successHandler:function(e){cursor_clear(),console.log("response:"+e),document.location.href="gracias-por-suscribirte-viajes"},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"searchCoppelStateCityProvidenceByZipCodeColoniasOficiales",actionId:"searchCoppelStateCityProvidenceByZipCodeColoniasOficiales",url:"searchColoniasOficialesAjaxCmd",formId:"",successHandler:function(e){cursor_clear();var t=(n="")+"colonia";if("OK"==e.response.code){var o=e.response.data.coloniaCiudadEstado;fillOptionsWSColoniasOficiales(t,o=o.sort(sort_by("nomColonia",!1,function(e){return e.toUpperCase()})),n,!0)}else{var n;cursor_clear(),""==(n=document.getElementById("prefix").value)||"shipping_"==n?(document.getElementById(n+"zipCode").value="",document.getElementById(n+"colonia").value="",document.getElementById("addressField3Hidden").value=0,document.getElementById(n+"state").value=0,document.getElementById(n+"city").value=0,MessageHelper.formErrorHandleClient(n+"zipCode",MessageHelper.messages.ERROR_ErrorZipCode)):(n="",document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1").value="",MessageHelper.formErrorHandleClient("WC__ShoppingCartAddressEntryForm_billing_zipCode_1",MessageHelper.messages.ERROR_ErrorZipCode))}null!=document.getElementById(n+"zipCode")&&document.getElementById(n+"zipCode").value==localStorage.getItem("lastZipCode")&&($("#colonia").val(localStorage.getItem("coloniaNameSelected")),$("#addressField3Hidden").val(localStorage.getItem("coloniaIdSelected")))},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear();var t=document.getElementById("prefix").value;""==t||"shipping_"==t?(document.getElementById(t+"zipCode").value="",document.getElementById(t+"colonia").value="",document.getElementById("addressField3Hidden").value=0,document.getElementById(t+"state").value=0,document.getElementById(t+"city").value=0,MessageHelper.formErrorHandleClient(t+"zipCode",MessageHelper.messages.ERROR_ErrorZipCode)):(t="",document.getElementById("WC__ShoppingCartAddressEntryForm_billing_zipCode_1").value="",MessageHelper.formErrorHandleClient("WC__ShoppingCartAddressEntryForm_billing_zipCode_1",MessageHelper.messages.ERROR_ErrorZipCode))}}),wc.service.declare({id:"suscripcion",actionId:"suscripcion",url:"suscripcionAjaxCmd",formId:"",successHandler:function(e){document.getElementById("background_shadow").style.display="none","FAILED"==e.code?openModal("BoletÃ­n de ofertas","El correo "+e.email+" ya fue registrado. Intenta de nuevo con uno diferente"):"SUCCESS"==e.code?openModal("BoletÃ­n de ofertas","El correo "+e.email+" se ha registrado satisfactoriamente"):"ERROR"==e.code?openModal("BoletÃ­n de ofertas","Hubo un error con el servicio."):openModal("BoletÃ­n de ofertas","Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador"),document.getElementById("sendNewlatter").value=""},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}}),wc.service.declare({id:"AbonoMenuLink",actionId:"AbonoMenuLink",url:"AbonosConsultarCuentasAjaxCmd",formId:"",successHandler:function(e){var t="";if("SUCCESS"==e.code){if(0<JSON.parse(e.response).totalCuentas)location.href=abonorURLDetalle;else{try{t=JSON.parse(e.response).errorCode}catch(e){console.log(e)}abrirModalAbonosError(t)}}else{try{t=JSON.parse(e.response).errorCode}catch(e){console.log(e)}abrirModalAbonosError(t)}},failureHandler:function(e){abrirModalAbonosError("")}}),wc.service.declare({id:"getStoreLocatorByURL",actionId:"getStoreLocatorByURL",url:"lookforStoreLocator",formId:"",successHandler:function(e){cursor_clear(),VerInfoUbicacionMapa(e.storeLocatorResults)},failureHandler:function(e){console.info(JSON.stringify(e)),cursor_clear(),alert("Hubo problemas de comunicacion, intenta de nuevo si el error persiste contacta a tu administrador")}});